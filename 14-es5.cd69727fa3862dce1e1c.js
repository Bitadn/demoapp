!function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"2OAb":function(e,o,i){"use strict";i.r(o),i.d(o,"RegistroRFCModule",function(){return Je});var a,n,c,l,s=i("QibW"),b=i("ofXK"),d=i("tyNb"),u=i("3Pt+"),h=i("WsYS"),f=i("93Pz"),v=i("1jcm"),p=i("FKr1"),m=i("0IaG"),g=i("NFeN"),C=i("bSwM"),P=i("iadO"),S=i("1yaQ"),V=i("qFsG"),U=i("kmnG"),w=i("/1cH"),k=i("bTqV"),y=i("wZkO"),x=i("Qu3c"),E=i("d3UM"),R=i("Wp6s"),G=i("STbY"),I=i("bv9b"),K=i("Xa2L"),D=i("dNgK"),F=i("+0xr"),z=i("MutI"),A=i("XhcP"),M=i("5RNC"),B=i("zkoq"),L=i("jaxi"),j=i("8yBR"),Q=i("M9IT"),N=i("A5z7"),O=i("xHqg"),T=i("Dh3D"),$=i("/t3+"),W=i("2ChS"),J=i("7EHt"),_=i("f0Cb"),H=i("fXoL"),q=((a=function e(){r(this,e)}).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=H.Jb({type:a,selectors:[["kt-registrorfc"]],decls:1,vars:0,template:function(e,t){1&e&&H.Qb(0,"router-outlet")},directives:[d.m],encapsulation:2,changeDetection:0}),a),X=i("QJFE"),Z=i("JqCM"),Y=i("PSD3"),ee=i.n(Y),te=i("+BVi"),re=i("1kSV"),oe=i("5eHb"),ie=i("jhN1"),ae=i("ptnc"),ne=i("ap2d"),ce=((l=function(){function e(t,o){r(this,e),this.api=t,this.router=o,this.oDetalleProveedor={}}return t(e,[{key:"GetProveedores",value:function(){return this.api.get("Proveedor",{})}},{key:"Post",value:function(e){return this.api.post("Proveedor",e)}},{key:"Put",value:function(e){return this.api.put("Proveedor",e)}},{key:"SuspenderProvedor",value:function(e){return this.api.post("proveedor/suspending",e)}},{key:"EliminarAccesoProvedor",value:function(e){return this.api.post("proveedor/revoke",e)}},{key:"ResetProvedor",value:function(e){return this.api.post("proveedor/reset",e)}},{key:"EnviaCodigo",value:function(e){return this.api.post("proveedor/sendcode",e)}}]),e}()).\u0275fac=function(e){return new(e||l)(H.cc(ne.a),H.cc(d.h))},l.\u0275prov=H.Lb({token:l,factory:l.\u0275fac,providedIn:"root"}),l),le=((c=function(){function e(t,o,i,a,n,c,l,s){r(this,e),this.snackBar=t,this.AuthService=o,this.toastr=i,this.spinnerService=a,this.router=n,this.sanitizer=c,this.ref=l,this.ProveedorService=s,this.VistaPrincipal=new H.p,this.Page={},this.Screen={},this.General={},this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Proveedor={}}return t(e,[{key:"ngOnInit",value:function(){}},{key:"Regresar",value:function(e){this.VistaPrincipal.emit(e)}},{key:"Guardar",value:function(){var e=this;null!=this.General.Proveedor.RFC&&""!=this.General.Proveedor.RFC?this.General.Proveedor.RFC.length>13?this.toastr.error("El RFC no es correcto"):null!=this.General.Proveedor.NombreCliente&&""!=this.General.Proveedor.NombreCliente?(this.spinnerService.show(),this.ProveedorService.Post(this.General.Proveedor).subscribe(function(t){e.toastr.success("La informaci\xf3n se guard\xf3 correctamente"),e.spinnerService.hide(),e.Regresar(!0)},function(t){e.handleError(t)})):this.toastr.error("El nombre o raz\xf3n social no puede estar vac\xedo."):this.toastr.error("El RFC no puede estar vacio.")}},{key:"handleError",value:function(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:2e3})}}]),e}()).\u0275fac=function(e){return new(e||c)(H.Pb(D.a),H.Pb(te.a),H.Pb(oe.b),H.Pb(Z.c),H.Pb(d.h),H.Pb(ie.b),H.Pb(H.i),H.Pb(ce))},c.\u0275cmp=H.Jb({type:c,selectors:[["kt-altarfc"]],outputs:{VistaPrincipal:"VistaPrincipal"},decls:37,vars:3,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[1,"row"],[1,"col-md-10"],[2,"color","#7AB800 !important"],[1,"fa","fa-list"],[1,"col-md-12"],[1,"col-md-3"],[1,"form-group"],["type","text","maxlength","13","aria-describedby","helpSuscriptor","placeholder","",1,"form-control","form-control-sm","text-uppercase",3,"ngModel","ngModelChange"],[1,"col-md-6"],["type","text","maxlength","100","aria-describedby","helpServicio","placeholder","",1,"form-control","form-control-sm","text-uppercase",3,"ngModel","ngModelChange"],[1,"card-footer",2,"border-top","0px","padding","0px"],[1,"btn","btn-light","btn-text-success","btn-hover-text-success","font-weight-bold",3,"click"],[1,"fa","fa-save"],[1,"btn","btn-light","btn-text-dark","btn-hover-text-dark","font-weight-bold",2,"margin-left","5px",3,"click"],[1,"fa","fa-times"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"]],template:function(e,t){1&e&&(H.Vb(0,"div",0),H.Vb(1,"div",1),H.Vb(2,"div",2),H.Vb(3,"h2",3),H.Qb(4,"i",4),H.Kc(5," Registro de Acceso a Nuevo Proveedor"),H.Ub(),H.Ub(),H.Ub(),H.Vb(6,"div",5),H.Vb(7,"div",6),H.Vb(8,"div",7),H.Vb(9,"h5",8),H.Qb(10,"i",9),H.Kc(11," Datos de Proveedor"),H.Ub(),H.Ub(),H.Vb(12,"div",10),H.Qb(13,"hr"),H.Ub(),H.Ub(),H.Vb(14,"div",6),H.Vb(15,"div",11),H.Vb(16,"div",12),H.Vb(17,"label"),H.Kc(18,"*RFC"),H.Ub(),H.Vb(19,"input",13),H.fc("ngModelChange",function(e){return t.General.Proveedor.RFC=e}),H.Ub(),H.Ub(),H.Ub(),H.Vb(20,"div",14),H.Vb(21,"div",12),H.Vb(22,"label"),H.Kc(23,"*Nombre o Razon Social"),H.Ub(),H.Vb(24,"input",15),H.fc("ngModelChange",function(e){return t.General.Proveedor.NombreCliente=e}),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Vb(25,"div",16),H.Qb(26,"br"),H.Vb(27,"div",11),H.Vb(28,"button",17),H.fc("click",function(){return t.Guardar()}),H.Qb(29,"i",18),H.Kc(30," Guardar"),H.Ub(),H.Vb(31,"button",19),H.fc("click",function(){return t.Regresar(!0)}),H.Qb(32,"i",20),H.Kc(33," Cancelar"),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Vb(34,"ngx-spinner",21),H.Vb(35,"p",22),H.Kc(36," Loading... "),H.Ub(),H.Ub()),2&e&&(H.Cb(19),H.pc("ngModel",t.General.Proveedor.RFC),H.Cb(5),H.pc("ngModel",t.General.Proveedor.NombreCliente),H.Cb(10),H.pc("fullScreen",!0))},directives:[u.d,u.k,u.o,u.r,Z.a],styles:[""],changeDetection:0}),c),se=((n=function(){function e(t,o,i,a,n,c,l,s,b){r(this,e),this.snackBar=t,this.AuthService=o,this.modalService=i,this.toastr=a,this.spinnerService=n,this.router=c,this.sanitizer=l,this.ref=s,this.ProveedorService=b,this.VistaPrincipal=new H.p,this.Page={},this.Screen={},this.General={},this.modalReference=null,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Proveedor={}}return t(e,[{key:"ngOnInit",value:function(){Object.keys(this.ProveedorService.oDetalleProveedor).length>0&&(this.General.Proveedor=this.ProveedorService.oDetalleProveedor,console.log(this.General.Proveedor))}},{key:"Regresar",value:function(e){this.VistaPrincipal.emit(e)}},{key:"Cancelar",value:function(){this.Page.ShowList=!0,this.Page.ShowAdd=!1,this.Page.ShowEdit=!1}},{key:"Guardar",value:function(){var e=this;null!=this.General.Proveedor.NombreCliente&&""!=this.General.Proveedor.NombreCliente?null!=this.General.Proveedor.RFC&&""!=this.General.Proveedor.RFC?this.ProveedorService.Put(this.General.Proveedor).subscribe(function(t){e.toastr.success("La informaci\xf3n se actualiz\xf3 correctamente"),e.Regresar(!0)},function(t){e.handleError(t)}):this.toastr.error("El RFC no puede estar vacio."):this.toastr.error("El nombre o raz\xf3n social no puede estar vacio.")}},{key:"handleError",value:function(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:2e3})}}]),e}()).\u0275fac=function(e){return new(e||n)(H.Pb(D.a),H.Pb(te.a),H.Pb(re.y),H.Pb(oe.b),H.Pb(Z.c),H.Pb(d.h),H.Pb(ie.b),H.Pb(H.i),H.Pb(ce))},n.\u0275cmp=H.Jb({type:n,selectors:[["kt-editrfc"]],outputs:{VistaPrincipal:"VistaPrincipal"},decls:37,vars:3,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-user"],[1,"card-body"],[1,"row"],[1,"col-md-10"],[2,"color","#7AB800 !important"],[1,"fa","fa-list"],[1,"col-md-12"],[1,"col-md-3"],[1,"form-group"],[1,"form-control","form-control-sm",2,"background-color","#f3f6f9"],[1,"col-md-6"],["type","text","maxlength","100","aria-describedby","helpServicio","placeholder","",1,"form-control","form-control-sm","text-uppercase",3,"ngModel","ngModelChange"],[1,"card-footer",2,"border-top","0px","padding","0px"],[1,"col-md-5"],[1,"btn","btn-light","btn-text-success","btn-hover-text-success","font-weight-bold",3,"click"],[1,"fa","fa-save"],[1,"btn","btn-light","btn-text-dark","btn-hover-text-dark","font-weight-bold",2,"margin-left","5px",3,"click"],[1,"fa","fa-times"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"]],template:function(e,t){1&e&&(H.Vb(0,"div",0),H.Vb(1,"div",1),H.Vb(2,"div",2),H.Vb(3,"h2",3),H.Qb(4,"i",4),H.Kc(5," Editar Informaci\xf3n del Proveedor"),H.Ub(),H.Ub(),H.Ub(),H.Vb(6,"div",5),H.Vb(7,"div",6),H.Vb(8,"div",7),H.Vb(9,"h5",8),H.Qb(10,"i",9),H.Kc(11," Datos de Proveedor"),H.Ub(),H.Ub(),H.Vb(12,"div",10),H.Qb(13,"hr"),H.Ub(),H.Ub(),H.Vb(14,"div",6),H.Vb(15,"div",11),H.Vb(16,"div",12),H.Vb(17,"label"),H.Kc(18,"RFC"),H.Ub(),H.Vb(19,"label",13),H.Kc(20),H.Ub(),H.Ub(),H.Ub(),H.Vb(21,"div",14),H.Vb(22,"div",12),H.Vb(23,"label"),H.Kc(24,"Nombre o Razon Social"),H.Ub(),H.Vb(25,"input",15),H.fc("ngModelChange",function(e){return t.General.Proveedor.NombreCliente=e}),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Vb(26,"div",16),H.Vb(27,"div",17),H.Vb(28,"button",18),H.fc("click",function(){return t.Guardar()}),H.Qb(29,"i",19),H.Kc(30," Guardar"),H.Ub(),H.Vb(31,"button",20),H.fc("click",function(){return t.Regresar(!0)}),H.Qb(32,"i",21),H.Kc(33," Cancelar"),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Vb(34,"ngx-spinner",22),H.Vb(35,"p",23),H.Kc(36," Loading... "),H.Ub(),H.Ub()),2&e&&(H.Cb(20),H.Lc(t.General.Proveedor.RFC),H.Cb(5),H.pc("ngModel",t.General.Proveedor.NombreCliente),H.Cb(9),H.pc("fullScreen",!0))},directives:[u.d,u.k,u.o,u.r,Z.a],styles:[""],changeDetection:0}),n),be=["sharecmpAdd"],de=["sharecmpEdit"],ue=["popCCliente"],he=["matPaginator7"],fe=["sort7"];function ve(e,t){if(1&e){var r=H.Wb();H.Vb(0,"button",38),H.fc("click",function(){return H.zc(r),H.jc().ShowLoad()}),H.Qb(1,"i",39),H.Kc(2," Nuevo "),H.Ub()}}function pe(e,t){1&e&&(H.Vb(0,"mat-header-cell",40),H.Kc(1,"RFC"),H.Ub())}function me(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Kc(1),H.Ub()),2&e){var r=t.$implicit;H.Cb(1),H.Mc(" ",r.RFC," ")}}function ge(e,t){1&e&&(H.Vb(0,"mat-header-cell",40),H.Kc(1," Usuario Registrado "),H.Ub())}function Ce(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Kc(1),H.Ub()),2&e){var r=t.$implicit;H.Cb(1),H.Mc(" ",r.Usuario," ")}}function Pe(e,t){1&e&&(H.Vb(0,"mat-header-cell",40),H.Kc(1," Cliente "),H.Ub())}function Se(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Kc(1),H.Ub()),2&e){var r=t.$implicit;H.Cb(1),H.Mc(" ",r.NombreCliente," ")}}function Ve(e,t){1&e&&(H.Vb(0,"mat-header-cell",40),H.Kc(1," Alta "),H.Ub())}function Ue(e,t){if(1&e&&(H.Vb(0,"div"),H.Vb(1,"span",43),H.Kc(2),H.Ub(),H.Ub()),2&e){var r=H.jc().$implicit;H.Cb(2),H.Mc(" ",r.Alta,"")}}function we(e,t){if(1&e&&(H.Vb(0,"div"),H.Vb(1,"span",44),H.Kc(2),H.Ub(),H.Ub()),2&e){var r=H.jc().$implicit;H.Cb(2),H.Mc(" ",r.Alta,"")}}function ke(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Vb(1,"div",41),H.Ic(2,Ue,3,1,"div",42),H.Ic(3,we,3,1,"div",42),H.Ub(),H.Ub()),2&e){var r=t.$implicit;H.Cb(1),H.pc("ngSwitch",r.Alta),H.Cb(1),H.pc("ngSwitchCase","Pendiente"),H.Cb(1),H.pc("ngSwitchCase","Finalizado")}}function ye(e,t){1&e&&(H.Vb(0,"mat-header-cell",40),H.Kc(1," Estatus "),H.Ub())}function xe(e,t){if(1&e&&(H.Vb(0,"div"),H.Vb(1,"span",45),H.Kc(2),H.Ub(),H.Ub()),2&e){var r=H.jc().$implicit;H.Cb(2),H.Mc(" ",r.Estatus,"")}}function Ee(e,t){if(1&e&&(H.Vb(0,"div"),H.Vb(1,"span",46),H.Kc(2),H.Ub(),H.Ub()),2&e){var r=H.jc().$implicit;H.Cb(2),H.Mc(" ",r.Estatus,"")}}function Re(e,t){if(1&e&&(H.Vb(0,"div"),H.Vb(1,"span",47),H.Kc(2),H.Ub(),H.Ub()),2&e){var r=H.jc().$implicit;H.Cb(2),H.Mc(" ",r.Estatus,"")}}function Ge(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Vb(1,"div",41),H.Ic(2,xe,3,1,"div",42),H.Ic(3,Ee,3,1,"div",42),H.Ic(4,Re,3,1,"div",42),H.Ub(),H.Ub()),2&e){var r=t.$implicit;H.Cb(1),H.pc("ngSwitch",r.Estatus),H.Cb(1),H.pc("ngSwitchCase","Suspendido"),H.Cb(1),H.pc("ngSwitchCase","Activo"),H.Cb(1),H.pc("ngSwitchCase","CambioPassword")}}function Ie(e,t){1&e&&(H.Vb(0,"mat-header-cell",40),H.Kc(1," C\xf3digo Acceso "),H.Ub())}function Ke(e,t){if(1&e){var r=H.Wb();H.Vb(0,"mat-cell"),H.Vb(1,"span",48),H.fc("click",function(){H.zc(r);var e=t.$implicit;return H.jc().ShowEnviaCorreo(e)}),H.Kc(2),H.Ub(),H.Ub()}if(2&e){var o=t.$implicit;H.Cb(2),H.Mc(" ",o.Code," ")}}function De(e,t){1&e&&(H.Vb(0,"mat-header-cell"),H.Kc(1," Actions "),H.Ub())}function Fe(e,t){if(1&e){var r=H.Wb();H.Vb(0,"button",54),H.fc("click",function(){H.zc(r);var e=H.jc().$implicit;return H.jc().ShowEdit(e)}),H.Qb(1,"i",55),H.Ub()}}function ze(e,t){if(1&e){var r=H.Wb();H.Vb(0,"button",56),H.fc("click",function(){H.zc(r);var e=H.jc().$implicit;return H.jc().Suspender(e)}),H.Qb(1,"i",57),H.Ub()}}function Ae(e,t){if(1&e){var r=H.Wb();H.Vb(0,"button",58),H.fc("click",function(){H.zc(r);var e=H.jc().$implicit;return H.jc().Eliminar(e)}),H.Qb(1,"i",59),H.Ub()}}function Me(e,t){if(1&e){var r=H.Wb();H.Vb(0,"mat-cell"),H.Ic(1,Fe,2,0,"button",49),H.Kc(2," \xa0 "),H.Ic(3,ze,2,0,"button",50),H.Kc(4," \xa0 "),H.Ic(5,Ae,2,0,"button",51),H.Kc(6," \xa0 "),H.Vb(7,"button",52),H.fc("click",function(){H.zc(r);var e=t.$implicit;return H.jc().ResetPWD(e)}),H.Qb(8,"i",53),H.Ub(),H.Kc(9," \xa0 "),H.Ub()}if(2&e){var o=H.jc();H.Cb(1),H.pc("ngIf",o.Screen.Put),H.Cb(2),H.pc("ngIf",o.Screen.Reactive),H.Cb(2),H.pc("ngIf",o.Screen.Delete)}}function Be(e,t){1&e&&H.Qb(0,"mat-header-row")}function Le(e,t){1&e&&H.Qb(0,"mat-row")}function je(e,t){if(1&e){var r=H.Wb();H.Vb(0,"div"),H.Vb(1,"kt-altarfc",60,61),H.fc("VistaPrincipal",function(e){return H.zc(r),H.jc().ShowVistaPrincipal(e)}),H.Ub(),H.Ub()}}function Qe(e,t){if(1&e){var r=H.Wb();H.Vb(0,"div"),H.Vb(1,"kt-editrfc",60,62),H.fc("VistaPrincipal",function(e){return H.zc(r),H.jc().ShowVistaPrincipal(e)}),H.Ub(),H.Ub()}}function Ne(e,t){if(1&e){var r=H.Wb();H.Vb(0,"div",63),H.Vb(1,"h4",64),H.Vb(2,"span",65),H.Kc(3," Enviar c\xf3digo de validaci\xf3n"),H.Ub(),H.Ub(),H.Vb(4,"button",66),H.fc("click",function(){return(0,t.dismiss)("Cross click")}),H.Vb(5,"span",67),H.Kc(6,"\xd7"),H.Ub(),H.Ub(),H.Ub(),H.Vb(7,"div",68),H.Vb(8,"div",14),H.Vb(9,"div",69),H.Vb(10,"div",70),H.Vb(11,"div",71),H.Vb(12,"div",72),H.Vb(13,"label"),H.Kc(14,"*Email (proveedor)"),H.Ub(),H.Vb(15,"input",73),H.fc("focusout",function(e){return H.zc(r),H.jc().VerificaEmail(e.target.value)})("ngModelChange",function(e){return H.zc(r),H.jc().General.Proveedor.Email=e}),H.Ub(),H.Ub(),H.Ub(),H.Vb(16,"div",71),H.Vb(17,"div",72),H.Vb(18,"label"),H.Kc(19,"*Confirmar Email"),H.Ub(),H.Vb(20,"input",74),H.fc("ngModelChange",function(e){return H.zc(r),H.jc().General.Proveedor.EmailConfirma=e}),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Vb(21,"div",69),H.Vb(22,"span",75),H.Kc(23,"Se enviar\xe1 \xe9ste c\xf3digo de validaci\xf3n al correo elegido. Es importante que su proveedor cuente con esta informaci\xf3n para poder concluir su registro."),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Vb(24,"div",14),H.Qb(25,"div",69),H.Ub(),H.Ub(),H.Vb(26,"div",76),H.Vb(27,"button",77),H.fc("click",function(){return H.zc(r),H.jc().EnviarCorreo()}),H.Kc(28,"Enviar"),H.Ub(),H.Vb(29,"button",78),H.fc("click",function(){return(0,t.close)("Close click")}),H.Kc(30,"Cerrar"),H.Ub(),H.Ub()}if(2&e){var o=H.jc();H.Cb(15),H.pc("ngModel",o.General.Proveedor.Email),H.Cb(5),H.pc("ngModel",o.General.Proveedor.EmailConfirma)}}var Oe,Te,$e=function(){return[25,50,75,100]},We=[{path:"",component:q,children:[{path:"generales/registrorfc",component:(Oe=function(){function e(t,o,i,a,n,c,l,s,b,d){r(this,e),this.snackBar=t,this.AuthService=o,this.modalService=i,this.toastr=a,this.spinnerService=n,this.router=c,this.sanitizer=l,this.ScreenActionsService=s,this.ref=b,this.ProveedorService=d,this.Page={},this.Screen={},this.General={},this.modalReference=null,this.displayedColumns7=["RFC","Usuario","NombreCliente","Alta","Estatus","Code","actions"],this.Page.ShowAdd=!1,this.Page.ShowRechazo=!1,this.Page.ShowEdit=!1,this.Page.ShowList=!1,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Proveedor={},this.General.Contadores={}}return t(e,[{key:"ngOnInit",value:function(){var e=this;this.ScreenActionsService.Promise_GetById(this.Page.Controller).then(function(t){e.Screen=t,0!=Object.keys(e.Screen).length&&e.Screen.Get?(e.ref.markForCheck(),e.CargaDatos()):(e.toastr.error("Si intenta acceder a una opci\xf3n no permitida su cuenta ser\xe1 suspendida"),e.router.navigate(["dashboard"]))},function(t){e.handleError(t)})}},{key:"CargaDatos",value:function(){var e=this;this.Page.ShowList=!0,this.spinnerService.show(),this.dataSourceProveedores=new F.k([]),this.ProveedorService.GetProveedores().subscribe(function(t){var r;(r=t).Result.length>0&&(e.dataSourceProveedores=new F.k(r.Result),e.dataSourceProveedores.paginator=e.paginator7,e.dataSourceProveedores.sort=e.sort7),null!=r.Counters&&r.Counters.length>0&&(e.General.Contadores=r.Counters[0]),e.spinnerService.hide(),e.ref.markForCheck()},function(t){e.handleError(t)})}},{key:"ShowLoad",value:function(){this.Page.ShowAdd=!0,this.Page.ShowList=!1}},{key:"ShowVistaPrincipal",value:function(e){this.Page.ShowAdd=!1,this.Page.ShowEdit=!1,this.Page.ShowList=e,this.CargaDatos()}},{key:"ShowEdit",value:function(e){this.ProveedorService.oDetalleProveedor=e,this.Page.ShowAdd=!1,this.Page.ShowEdit=!0,this.Page.ShowList=!1}},{key:"Suspender",value:function(e){var t=this;"Activo"==e.Estatus?ee.a.fire({title:"Confirmaci\xf3n",text:"Desea suspender el acceso al usuario: "+e.RFC,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Suspender",cancelButtonText:"Cancelar"}).then(function(r){r.value&&t.GuardarSuspender(e)}):ee.a.fire({title:"Confirmaci\xf3n",text:"Desea reactivar al usuario: "+e.RFC,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Reactivar",cancelButtonText:"Cancelar"}).then(function(r){r.value&&t.GuardarReactivar(e)})}},{key:"GuardarSuspender",value:function(e){var t=this,r={};r.RFC=e.RFC,r.Reference=e.Reference,r.Status=2,this.spinnerService.show(),this.ProveedorService.SuspenderProvedor(r).subscribe(function(e){t.spinnerService.hide(),t.ref.markForCheck(),t.CargaDatos(),1==e.Valid?t.toastr.success("La acci\xf3n se realiz\xf3 correctamente"):t.toastr.error("ocurri\xf3 un error al realizar la tarea")},function(e){t.handleError(e)})}},{key:"GuardarReactivar",value:function(e){var t=this,r={};r.RFC=e.RFC,r.Reference=e.Reference,r.Status=1,this.spinnerService.show(),this.ProveedorService.SuspenderProvedor(r).subscribe(function(e){t.spinnerService.hide(),t.ref.markForCheck(),t.CargaDatos(),1==e.Valid?t.toastr.success("La acci\xf3n se realiz\xf3 correctamente"):t.toastr.error("ocurri\xf3 un error al realizar la tarea")},function(e){t.handleError(e)})}},{key:"Eliminar",value:function(e){var t=this;ee.a.fire({title:"Confirmaci\xf3n",text:"Desea eliminar definitivamente el acceso al usuario: "+e.RFC+". Al realizar esta accion el usuario ya no tendra acceso al sistema ni a subir documentos. Esta acci\xf3n es irreversible",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then(function(r){r.value&&t.GuardarEliminar(e)})}},{key:"GuardarEliminar",value:function(e){var t=this,r={};r.Reference=e.Reference,r.RFC=e.RFC,r.Usuario=e.Usuario,this.ProveedorService.EliminarAccesoProvedor(r).subscribe(function(e){t.spinnerService.hide(),t.ref.markForCheck(),t.CargaDatos(),1==e.Valid?t.toastr.success("La acci\xf3n se realiz\xf3 correctamente"):t.toastr.error("ocurri\xf3 un error al realizar la tarea, intente m\xe1s tarde")},function(e){t.handleError(e)})}},{key:"ResetPWD",value:function(e){var t=this;ee.a.fire({title:"Confirmaci\xf3n",text:"Desea reestablecer la contrase\xf1a del usuario: "+e.RFC+". Al realizar esta accion se enviar\xe1 una contrase\xf1a temporal al correo del usuario con vigencia de 15 minutos",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(function(r){r.value&&t.GuardarResetearUsuario(e)})}},{key:"GuardarResetearUsuario",value:function(e){var t=this,r={};r.Reference=e.Reference,r.RFC=e.RFC,r.Usuario=e.Usuario,this.spinnerService.show(),this.ProveedorService.ResetProvedor(r).subscribe(function(e){t.spinnerService.hide(),t.ref.markForCheck(),t.CargaDatos(),1==e.Valid?t.toastr.success("La acci\xf3n se realiz\xf3 correctamente. Email Enviado"):t.toastr.error("ocurri\xf3 un error al realizar la tarea, intente m\xe1s tarde")},function(e){t.handleError(e)})}},{key:"ShowEnviaCorreo",value:function(e){this.General.Code={},this.General.Code.Reference=e.Reference,this.General.Code.RFC=e.RFC,this.modalReference=this.modalService.open(this.popUp,{size:"lg"})}},{key:"EnviarCorreo",value:function(){var e=this;this.spinnerService.show(),this.validateEmail(this.General.Proveedor.Email)?this.General.Proveedor.Email==this.General.Proveedor.EmailConfirma?(this.General.Code.Email=this.General.Proveedor.Email,this.ProveedorService.EnviaCodigo(this.General.Code).subscribe(function(t){1==t.Valid?(e.toastr.success("La acci\xf3n se realiz\xf3 correctamente. Email Enviado"),e.modalReference.close(),e.spinnerService.hide()):(e.toastr.error("ocurri\xf3 un error al realizar la tarea, intente m\xe1s tarde"),e.spinnerService.hide())},function(t){e.handleError(t)})):this.toastr.error("Los correos no coinciden, favor de revisar"):this.toastr.error("El correo proporcionado no es v\xe1lido, favor de revisar")}},{key:"validateEmail",value:function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e),t.test(e)}},{key:"VerificaEmail",value:function(e){e&&(this.validateEmail(e)||(this.toastr.error("Email incorrecto, favor de verificar"),this.General.Proveedor.Email=""))}},{key:"applyFilter7",value:function(e){this.dataSourceProveedores.filter=e.trim().toLowerCase(),this.dataSourceProveedores.paginator&&this.dataSourceProveedores.paginator.firstPage()}},{key:"handleError",value:function(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:2e3})}}]),e}(),Oe.\u0275fac=function(e){return new(e||Oe)(H.Pb(D.a),H.Pb(te.a),H.Pb(re.y),H.Pb(oe.b),H.Pb(Z.c),H.Pb(d.h),H.Pb(ie.b),H.Pb(ae.a),H.Pb(H.i),H.Pb(ce))},Oe.\u0275cmp=H.Jb({type:Oe,selectors:[["kt-bandejarfcs"]],viewQuery:function(e,t){var r;1&e&&(H.Ec(be,!0),H.Ec(de,!0),H.Ec(ue,!0),H.Ec(he,!0),H.Ec(fe,!0)),2&e&&(H.wc(r=H.gc())&&(t.sharecmpAdd=r.first),H.wc(r=H.gc())&&(t.sharecmpEdit=r.first),H.wc(r=H.gc())&&(t.popUp=r.first),H.wc(r=H.gc())&&(t.paginator7=r.first),H.wc(r=H.gc())&&(t.sort7=r.first))},decls:71,vars:14,consts:[[1,"row",3,"hidden"],[1,"col-xs-12","col-md-12"],[1,"table","table-head-custom","table-head-bg","table-borderless","table-vertical-center",2,"width","100%"],[1,"text-left","text-uppercase"],[1,"pl-7"],[1,"text-dark-75"],[1,"card","card-custom",3,"hidden"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[1,"col-xs-12","col-md-2"],["type","button","style","color: #7AB800 !important","class","btn btn-outline-secondary",3,"click",4,"ngIf"],[1,"row"],[1,"col-xs-12","col-md-12",2,"flex","0 0 0% !important"],[1,"example-header"],["matInput","","placeholder","Buscar",3,"keyup"],[3,"pageSizeOptions"],["matPaginator7",""],["matSort","",3,"dataSource"],["sort7","matSort"],["matColumnDef","RFC"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Usuario"],["matColumnDef","NombreCliente"],["matColumnDef","Alta"],["matColumnDef","Estatus"],["matColumnDef","Code"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],["popCCliente",""],["type","button",1,"btn","btn-outline-secondary",2,"color","#7AB800 !important",3,"click"],[1,"fas","fa-plus-circle"],["mat-sort-header",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["data-toggle","tooltip","title","Proveedor aun no concluye su registro",1,"label","font-weight-bold","label-lg","label-light-warning","label-inline"],["data-toggle","tooltip","title","Registro concluido",1,"label","font-weight-bold","label-lg","label-light-success","label-inline"],["data-toggle","tooltip","title","Proveedor suspendido",1,"label","font-weight-bold","label-lg","label-light-danger","label-inline"],["data-toggle","tooltip","title","Proveedor activo",1,"label","font-weight-bold","label-lg","label-light-success","label-inline"],["data-toggle","tooltip","title","Solicito reseteo de contrase\xf1a",1,"label","font-weight-bold","label-lg","label-light-warning","label-inline"],["data-toggle","tooltip","title","Enviar c\xf3digo por correo electr\xf3nico ",2,"color","#3699FF","text-decoration","underline","cursor","pointer",3,"click"],["style","width:40px !important;","type","button","data-toggle","tooltip","title","Editar informaci\xf3n","class","btn btn-xs btn-default btn-text-default btn-hover-primary btn-icon",3,"click",4,"ngIf"],["style","width:40px !important;","type","button","data-toggle","tooltip","title","Activar o Desactivar Proveedor","class","btn btn-xs btn-default btn-text-default btn-hover-danger btn-icon",3,"click",4,"ngIf"],["style","width:40px !important;","type","button","data-toggle","tooltip","title","Eliminar definitivamente","class","btn btn-xs btn-default btn-text-default btn-hover-danger btn-icon",3,"click",4,"ngIf"],["type","button","data-toggle","tooltip","title","Resetear Password de proveedor",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-danger","btn-icon",2,"width","40px !important",3,"click"],[1,"fa","fa-unlock"],["type","button","data-toggle","tooltip","title","Editar informaci\xf3n",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-primary","btn-icon",2,"width","40px !important",3,"click"],[1,"fa","fa-edit"],["type","button","data-toggle","tooltip","title","Activar o Desactivar Proveedor",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-danger","btn-icon",2,"width","40px !important",3,"click"],[1,"far","fa-eye-slash"],["type","button","data-toggle","tooltip","title","Eliminar definitivamente",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-danger","btn-icon",2,"width","40px !important",3,"click"],[1,"far","fa-trash-alt"],[3,"VistaPrincipal"],["sharecmpAdd",""],["sharecmpEdit",""],[1,"modal-header"],[1,"modal-title"],[1,"text-muted"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12"],[1,"form-group",2,"overflow-y","scroll","max-height","500px"],[1,"col-md-6"],[1,"form-group"],["type","text","maxlength","50","aria-describedby","helpSuscriptor","placeholder","",1,"form-control","form-control-sm","text-lowercase",3,"ngModel","focusout","ngModelChange"],["type","text","maxlength","50","aria-describedby","helpServicio","placeholder","",1,"form-control","form-control-sm","text-lowercase",3,"ngModel","ngModelChange"],[1,"text"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(e,t){1&e&&(H.Vb(0,"div",0),H.Vb(1,"div",1),H.Vb(2,"table",2),H.Vb(3,"thead"),H.Vb(4,"tr",3),H.Vb(5,"th",4),H.Vb(6,"span",5),H.Kc(7,"Altas Disponibles"),H.Ub(),H.Ub(),H.Vb(8,"th"),H.Kc(9),H.Ub(),H.Vb(10,"th"),H.Vb(11,"span",5),H.Kc(12,"Proveedores Registrados"),H.Ub(),H.Ub(),H.Vb(13,"th"),H.Kc(14),H.Ub(),H.Vb(15,"th"),H.Vb(16,"span",5),H.Kc(17,"Total Registros Permitidos"),H.Ub(),H.Ub(),H.Vb(18,"th"),H.Kc(19),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Vb(20,"div",6),H.Vb(21,"div",7),H.Vb(22,"div",8),H.Vb(23,"h2",9),H.Qb(24,"i",10),H.Kc(25," Registro de Proveedores"),H.Ub(),H.Ub(),H.Ub(),H.Vb(26,"div",11),H.Vb(27,"div",12),H.Ic(28,ve,3,0,"button",13),H.Ub(),H.Vb(29,"div",14),H.Vb(30,"div",15),H.Qb(31,"br"),H.Vb(32,"div",16),H.Vb(33,"mat-form-field"),H.Vb(34,"input",17),H.fc("keyup",function(e){return t.applyFilter7(e.target.value)}),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Vb(35,"div",1),H.Qb(36,"mat-paginator",18,19),H.Vb(38,"mat-table",20,21),H.Tb(40,22),H.Ic(41,pe,2,0,"mat-header-cell",23),H.Ic(42,me,2,1,"mat-cell",24),H.Sb(),H.Tb(43,25),H.Ic(44,ge,2,0,"mat-header-cell",23),H.Ic(45,Ce,2,1,"mat-cell",24),H.Sb(),H.Tb(46,26),H.Ic(47,Pe,2,0,"mat-header-cell",23),H.Ic(48,Se,2,1,"mat-cell",24),H.Sb(),H.Tb(49,27),H.Ic(50,Ve,2,0,"mat-header-cell",23),H.Ic(51,ke,4,3,"mat-cell",24),H.Sb(),H.Tb(52,28),H.Ic(53,ye,2,0,"mat-header-cell",23),H.Ic(54,Ge,5,4,"mat-cell",24),H.Sb(),H.Tb(55,29),H.Ic(56,Ie,2,0,"mat-header-cell",23),H.Ic(57,Ke,3,1,"mat-cell",24),H.Sb(),H.Tb(58,30),H.Ic(59,De,2,0,"mat-header-cell",31),H.Ic(60,Me,10,3,"mat-cell",24),H.Sb(),H.Ic(61,Be,1,0,"mat-header-row",32),H.Ic(62,Le,1,0,"mat-row",33),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Ic(63,je,3,0,"div",34),H.Ic(64,Qe,3,0,"div",34),H.Vb(65,"ngx-spinner",35),H.Vb(66,"p",36),H.Kc(67," Loading... "),H.Ub(),H.Ub(),H.Vb(68,"div"),H.Ic(69,Ne,31,2,"ng-template",null,37,H.Jc),H.Ub()),2&e&&(H.pc("hidden",!t.Page.ShowList),H.Cb(9),H.Lc(t.General.Contadores.Permitidos),H.Cb(5),H.Lc(t.General.Contadores.ProvedoresRegistrados),H.Cb(5),H.Lc(t.General.Contadores.NumeroProvedores),H.Cb(1),H.pc("hidden",!t.Page.ShowList),H.Cb(8),H.pc("ngIf",t.Screen.Post),H.Cb(8),H.pc("pageSizeOptions",H.sc(13,$e)),H.Cb(2),H.pc("dataSource",t.dataSourceProveedores),H.Cb(23),H.pc("matHeaderRowDef",t.displayedColumns7),H.Cb(1),H.pc("matRowDefColumns",t.displayedColumns7),H.Cb(1),H.pc("ngIf",t.Page.ShowAdd),H.Cb(1),H.pc("ngIf",t.Page.ShowEdit),H.Cb(1),H.pc("fullScreen",!0))},directives:[b.n,U.c,V.b,Q.a,F.j,T.a,F.c,F.e,F.b,F.g,F.i,Z.a,F.d,T.b,F.a,b.p,b.q,F.f,F.h,le,se,u.d,u.k,u.o,u.r],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}.mat-table[_ngcontent-%COMP%]{overflow-x:scroll}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{word-wrap:normal;display:table-cell;padding:0 10px;line-break:unset;width:90%;white-space:nowrap;overflow:hidden;vertical-align:middle}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{display:table-row}"],changeDetection:0}),Oe)}]}],Je=((Te=function e(){r(this,e)}).\u0275mod=H.Nb({type:Te}),Te.\u0275inj=H.Mb({factory:function(e){return new(e||Te)},providers:[g.c,{provide:W.d,useValue:{}},{provide:W.a,useValue:{}},{provide:p.f,useValue:"en-GB"},{provide:S.a,useValue:{useUtc:!0}}],imports:[[b.c,V.c,U.e,P.c,w.b,z.d,M.b,R.g,E.b,k.c,g.b,p.m,v.b,C.b,G.c,y.d,x.b,A.g,I.b,K.b,D.b,F.l,B.b,$.b,W.c,J.b,_.b,T.c,O.d,N.e,Q.b,m.f,p.u,h.a,s.c,j.d,L.c,f.a,X.a,Z.b,u.j,u.u,d.l.forChild(We)],d.l]}),Te)},ptnc:function(e,o,i){"use strict";i.d(o,"a",function(){return l});var a=i("fXoL"),n=i("ap2d"),c=i("tyNb"),l=function(){var e=function(){function e(t,o){r(this,e),this.api=t,this.router=o}return t(e,[{key:"Promise_GetById",value:function(e){return this.api.getByIdToPromise("pantalla/Actions",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.cc(n.a),a.cc(c.h))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();