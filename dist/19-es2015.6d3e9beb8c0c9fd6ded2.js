(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"305l":function(e,o,t){"use strict";t.r(o),t.d(o,"AuthModule",function(){return fe});var n=t("ofXK"),r=t("3Pt+"),i=t("tk/3"),a=t("tyNb"),s=t("fXoL");let l=(()=>{class e{constructor(){this.today=new Date}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["app-auth"]],decls:14,vars:0,consts:[["id","kt_login_wrapper",1,"d-flex","flex-column","flex-root","h-100"],["id","kt_login",1,"login","login-1","login-signin-on","d-flex","flex-column","flex-lg-row","flex-column-fluid","bg-white"],[1,"login-aside","d-flex","flex-column","flex-row-auto",2,"background-color","#ccc"],[1,"d-flex","flex-column-auto","flex-column","pt-lg-40","pt-15"],["href","#",1,"text-center","mb-10"],["src","./assets/media/logos/logo-light.png","alt","",2,"max-width","170px","max-height","170px"],[1,"font-weight-bolder","text-center","font-size-h4","font-size-h1-lg",2,"color","#fff"],[1,"aside-img","d-flex","flex-row-fluid","bgi-no-repeat","bgi-position-y-bottom","bgi-position-x-center",2,"background-image","url('./assets/media/svg/illustrations/login-visual-2.svg')"],[1,"login-content","flex-row-fluid","d-flex","flex-column","justify-content-center","position-relative","overflow-hidden","p-7","mx-auto"],[1,"d-flex","flex-column-fluid","flex-center"]],template:function(e,o){1&e&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Wb(3,"div",3),s.Wb(4,"a",4),s.Rb(5,"img",5),s.Vb(),s.Wb(6,"h3",6),s.Nc(7," Sistema de Registro de "),s.Rb(8,"br"),s.Nc(9," Opini\xf3n de Cumplimiento "),s.Vb(),s.Vb(),s.Rb(10,"div",7),s.Vb(),s.Wb(11,"div",8),s.Wb(12,"div",9),s.Rb(13,"router-outlet"),s.Vb(),s.Vb(),s.Vb(),s.Vb())},directives:[a.m],styles:[".login.login-1[_ngcontent-%COMP%]   .login-aside[_ngcontent-%COMP%]   .aside-img[_ngcontent-%COMP%]{min-height:450px}.login.login-1[_ngcontent-%COMP%]   .login-forgot[_ngcontent-%COMP%], .login.login-1[_ngcontent-%COMP%]   .login-signin[_ngcontent-%COMP%], .login.login-1[_ngcontent-%COMP%]   .login-signup[_ngcontent-%COMP%], .login.login-1.login-signin-on[_ngcontent-%COMP%]   .login-signup[_ngcontent-%COMP%]{display:none}.login.login-1.login-signin-on[_ngcontent-%COMP%]   .login-signin[_ngcontent-%COMP%]{display:block}.login.login-1.login-signin-on[_ngcontent-%COMP%]   .login-forgot[_ngcontent-%COMP%]{display:none}.login.login-1.login-signup-on[_ngcontent-%COMP%]   .login-signup[_ngcontent-%COMP%]{display:block}.login.login-1.login-forgot-on[_ngcontent-%COMP%]   .login-signin[_ngcontent-%COMP%], .login.login-1.login-forgot-on[_ngcontent-%COMP%]   .login-signup[_ngcontent-%COMP%], .login.login-1.login-signup-on[_ngcontent-%COMP%]   .login-forgot[_ngcontent-%COMP%], .login.login-1.login-signup-on[_ngcontent-%COMP%]   .login-signin[_ngcontent-%COMP%]{display:none}.login.login-1.login-forgot-on[_ngcontent-%COMP%]   .login-forgot[_ngcontent-%COMP%]{display:block}@media (min-width:992px){.login.login-1[_ngcontent-%COMP%]   .login-aside[_ngcontent-%COMP%]{width:100%;max-width:700px}.login.login-1[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]{width:100%;max-width:500px}.login.login-1[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}}@media (min-width:992px) and (max-width:1399.98px){.login.login-1[_ngcontent-%COMP%]   .login-aside[_ngcontent-%COMP%]{width:100%;max-width:450px}}@media (max-width:991.98px){.login.login-1[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:400px}}@media (max-width:575.98px){.login.login-1[_ngcontent-%COMP%]   .aside-img[_ngcontent-%COMP%]{min-height:300px!important;background-size:400px}.login.login-1[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:100%}}[_nghost-%COMP%]{height:100%}"]}),e})();var c=t("SxV6"),d=t("+BVi"),u=t("dNgK");function g(e,o){if(1&e&&(s.Ub(0),s.Wb(1,"div",18),s.Wb(2,"div",19),s.Nc(3),s.Vb(),s.Vb(),s.Tb()),2&e){const e=s.kc(2);s.Cb(3),s.Oc(e.currentUser.Message)}}function b(e,o){1&e&&s.Rb(0,"div",20)}function m(e,o){1&e&&(s.Ub(0),s.Rb(1,"span",23),s.Tb())}function h(e,o){if(1&e&&(s.Wb(0,"div",21),s.Wb(1,"button",22),s.Nc(2," Entrar "),s.Vb(),s.Lc(3,m,2,0,"ng-container",7),s.lc(4,"async"),s.Vb()),2&e){const e=s.kc(2);s.Cb(1),s.qc("disabled",e.loginForm.invalid),s.Cb(2),s.qc("ngIf",s.mc(4,2,e.isLoading$))}}const p=function(e){return{"is-invalid":e}},f=function(e){return{validation:"required",message:"Informaci\xf3n requerida",control:e}},C=function(e){return{validation:"email",message:"Informaci\xf3n inv\xe1lida",control:e}},v=function(e){return{validation:"minLength",message:"Informaci\xf3n requerida",control:e}},x=function(e){return{validation:"maxLength",message:"Requerido",control:e}},w=function(e){return{validation:"minlength",message:"Requerido",control:e}},P=function(e){return{validation:"maxLength",message:"Informaci\xf3n requerida",control:e}};function V(e,o){if(1&e){const e=s.Xb();s.Wb(0,"form",3),s.gc("ngSubmit",function(){return s.Bc(e),s.kc().submit()}),s.Wb(1,"div",4),s.Wb(2,"h3",5),s.Nc(3," Bienvenid@ "),s.Vb(),s.Wb(4,"span",6),s.Nc(5,"Acceso "),s.Vb(),s.Vb(),s.Lc(6,g,4,1,"ng-container",7),s.Wb(7,"div",8),s.Wb(8,"label",9),s.Nc(9,"Email"),s.Vb(),s.Rb(10,"input",10),s.Sb(11,11),s.Sb(12,11),s.Sb(13,11),s.Sb(14,11),s.Vb(),s.Wb(15,"div",8),s.Wb(16,"div",12),s.Wb(17,"label",13),s.Nc(18,"Password"),s.Vb(),s.Vb(),s.Rb(19,"input",14),s.Sb(20,11),s.Sb(21,11),s.Sb(22,11),s.Vb(),s.Wb(23,"a",15),s.Nc(24," Registrarse "),s.Vb(),s.Lc(25,b,1,0,"div",16),s.Lc(26,h,5,4,"div",17),s.Vb()}if(2&e){const e=s.kc(),o=s.yc(4);s.qc("formGroup",e.loginForm),s.Cb(6),s.qc("ngIf",e.hasError),s.Cb(4),s.qc("ngClass",s.uc(20,p,e.loginForm.controls.email.invalid)),s.Cb(1),s.qc("ngTemplateOutlet",o)("ngTemplateOutletContext",s.uc(22,f,e.loginForm.controls.email)),s.Cb(1),s.qc("ngTemplateOutlet",o)("ngTemplateOutletContext",s.uc(24,C,e.loginForm.controls.email)),s.Cb(1),s.qc("ngTemplateOutlet",o)("ngTemplateOutletContext",s.uc(26,v,e.loginForm.controls.email)),s.Cb(1),s.qc("ngTemplateOutlet",o)("ngTemplateOutletContext",s.uc(28,x,e.loginForm.controls.email)),s.Cb(5),s.qc("ngClass",s.uc(30,p,e.loginForm.controls.password.invalid)),s.Cb(1),s.qc("ngTemplateOutlet",o)("ngTemplateOutletContext",s.uc(32,f,e.loginForm.controls.password)),s.Cb(1),s.qc("ngTemplateOutlet",o)("ngTemplateOutletContext",s.uc(34,w,e.loginForm.controls.password)),s.Cb(1),s.qc("ngTemplateOutlet",o)("ngTemplateOutletContext",s.uc(36,P,e.loginForm.controls.password)),s.Cb(3),s.qc("ngIf",e.ShowSpinner),s.Cb(1),s.qc("ngIf",!e.ShowSpinner)}}function y(e,o){if(1&e&&(s.Ub(0),s.Wb(1,"div",18),s.Wb(2,"div",19),s.Nc(3),s.Vb(),s.Vb(),s.Tb()),2&e){const e=s.kc(2);s.Cb(3),s.Oc(e.currentUser.Message)}}function S(e,o){1&e&&(s.Ub(0),s.Rb(1,"span",23),s.Tb())}const W=function(e){return{validation:"required",message:"Requerido",control:e}},M=function(e){return{validation:"minlength",message:"10 caracteres (Mayus, Min, Num, Sim)",control:e}},O=function(e){return{validation:"maxLength",message:"Password should have maximum 100 symbols",control:e}};function q(e,o){if(1&e){const e=s.Xb();s.Wb(0,"form",3),s.gc("ngSubmit",function(){return s.Bc(e),s.kc().submitUpdate()}),s.Wb(1,"div",4),s.Wb(2,"h3",5),s.Nc(3," Bienvenid@ "),s.Vb(),s.Wb(4,"span",6),s.Nc(5),s.Vb(),s.Vb(),s.Lc(6,y,4,1,"ng-container",7),s.Wb(7,"div",8),s.Wb(8,"div",12),s.Wb(9,"label",13),s.Nc(10,"Password"),s.Vb(),s.Vb(),s.Rb(11,"input",24),s.Wb(12,"small"),s.Nc(13,"use al menos 10 caracteres (mayusculas, minisculas, numeros y simbolos)"),s.Vb(),s.Sb(14,11),s.Sb(15,11),s.Sb(16,11),s.Vb(),s.Wb(17,"div",8),s.Wb(18,"div",12),s.Wb(19,"label",13),s.Nc(20,"Confirmar Password"),s.Vb(),s.Vb(),s.Rb(21,"input",25),s.Sb(22,11),s.Sb(23,11),s.Sb(24,11),s.Vb(),s.Wb(25,"div",21),s.Wb(26,"button",22),s.Nc(27," Actualizar "),s.Vb(),s.Lc(28,S,2,0,"ng-container",7),s.lc(29,"async"),s.Vb(),s.Vb()}if(2&e){const e=s.kc(),o=s.yc(4);s.qc("formGroup",e.loginChangeForm),s.Cb(5),s.Pc("",e.currentUser.Name," "),s.Cb(1),s.qc("ngIf",e.currentUser.Error),s.Cb(5),s.qc("ngClass",s.uc(21,p,e.loginChangeForm.controls.password1.invalid)),s.Cb(3),s.qc("ngTemplateOutlet",o)("ngTemplateOutletContext",s.uc(23,W,e.loginChangeForm.controls.password1)),s.Cb(1),s.qc("ngTemplateOutlet",o)("ngTemplateOutletContext",s.uc(25,M,e.loginChangeForm.controls.password1)),s.Cb(1),s.qc("ngTemplateOutlet",o)("ngTemplateOutletContext",s.uc(27,O,e.loginChangeForm.controls.password1)),s.Cb(5),s.qc("ngClass",s.uc(29,p,e.loginChangeForm.controls.password2.invalid)),s.Cb(1),s.qc("ngTemplateOutlet",o)("ngTemplateOutletContext",s.uc(31,W,e.loginChangeForm.controls.password2)),s.Cb(1),s.qc("ngTemplateOutlet",o)("ngTemplateOutletContext",s.uc(33,M,e.loginChangeForm.controls.password2)),s.Cb(1),s.qc("ngTemplateOutlet",o)("ngTemplateOutletContext",s.uc(35,O,e.loginChangeForm.controls.password2)),s.Cb(2),s.qc("disabled",e.loginChangeForm.invalid),s.Cb(2),s.qc("ngIf",s.mc(29,19,e.isLoading$))}}function k(e,o){if(1&e&&(s.Ub(0),s.Wb(1,"div",26),s.Wb(2,"div",27),s.Nc(3),s.Vb(),s.Vb(),s.Tb()),2&e){const e=s.kc().message;s.Cb(3),s.Pc(" ",e," ")}}function U(e,o){if(1&e&&s.Lc(0,k,4,1,"ng-container",7),2&e){const e=o.control;s.qc("ngIf",e.hasError(o.validation)&&(e.dirty||e.touched))}}let N=(()=>{class e{constructor(e,o,t,n,r,i){this.fb=e,this.authService=o,this.route=t,this.router=n,this.ref=r,this.snackBar=i,this.defaultAuth={email:"",password:""},this.currentUser={},this.defaultAuthChange={password1:"",password2:""},this.ShowSpinner=!1,this.unsubscribe=[],this.isLoading$=this.authService.isLoading$,this.authService.currentUserValue&&this.router.navigate(["/"]),this.currentUser.Error=!0,this.currentUser.ChangePassword=!1,this.currentUser.Message="Usuario y/o contrase\xf1a incorrecta"}ngOnInit(){this.initForm(),this.initFormChangePassword(),this.returnUrl=this.route.snapshot.queryParams["returnUrl".toString()]||"/"}get f(){return this.loginForm.controls}get f1(){return this.loginChangeForm.controls}initForm(){this.loginForm=this.fb.group({email:[this.defaultAuth.email,r.x.compose([r.x.required,r.x.minLength(5),r.x.maxLength(50)])],password:[this.defaultAuth.password,r.x.compose([r.x.required,r.x.minLength(8),r.x.maxLength(25)])]})}initFormChangePassword(){this.loginChangeForm=this.fb.group({password1:[this.defaultAuthChange.password1,r.x.compose([r.x.required,r.x.minLength(10),r.x.maxLength(25),r.x.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{10,}")])],password2:[this.defaultAuthChange.password2,r.x.compose([r.x.required,r.x.minLength(10),r.x.maxLength(25),r.x.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{10,}")])]})}submit(){this.ShowSpinner=!0,this.ref.markForCheck(),this.hasError=!1;const e={Username:this.f.email.value,Password:this.f.password.value},o=this.authService.login_(e).pipe(Object(c.a)()).subscribe(e=>{e?(this.authService.setSession(e),this.router.navigate([this.returnUrl])):(this.hasError=!0,this.ShowSpinner=!1,this.ref.markForCheck())},o=>{switch(o.error.CodigoMensaje){case 3002:this.currentUser.Message="Usuario no registrado o suspendido",this.hasError=!0,this.ref.markForCheck();break;case 3005:this.currentUser.UserName=e.Username,this.currentUser.Name=o.error.Descripcion,this.currentUser.Message="La contrase\xf1a ha expirado, es necesario renovarla",this.hasError=!0,this.ref.markForCheck();break;case 3006:this.currentUser.UserName=e.Username,this.currentUser.Name=o.error.Descripcion,this.currentUser.Message="Es necesario cambiar su contrase\xf1a",this.currentUser.ChangePassword=!0,this.ref.markForCheck();break;case 3007:this.currentUser.UserName=e.Username,this.currentUser.Message=o.error.Descripcion,this.hasError=!0,this.ref.markForCheck();break;default:this.hasError=!0,this.ref.markForCheck()}this.ShowSpinner=!1,this.ref.markForCheck()});this.unsubscribe.push(o)}submitUpdate(){this.hasError=!1;const e={Password:this.f1.password1.value,Password2:this.f1.password2.value,UserName:this.currentUser.UserName};this.f1.password1.value==this.f1.password2.value?this.f1.password1.value<10?this.currentUser.Message="La contrase\xf1a debe tener por lo menos 10 caracteres.":this.authService.ChangePWD(e).subscribe(()=>{this.openSnackBar("\xc9xito, ingrese con su nueva contrase\xf1a","Cerrar"),this.currentUser.ChangePassword=!1,this.loginForm.controls.password.setValue(""),this.ref.markForCheck()},e=>{if(null!=e&&null!=e.error){let o=e.error;3007==o.CodigoMensaje&&(this.currentUser.Message=o.Descripcion,this.ref.markForCheck())}else this.currentUser.Message="Ha ocurrido un error al actualizar la contrase\xf1a, intentar nuevamente"}):this.currentUser.Message="Las contrase\xf1as deben coincidir"}openSnackBar(e,o){this.snackBar.open(e,o,{duration:2e3})}ngOnDestroy(){this.unsubscribe.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(o){return new(o||e)(s.Qb(r.e),s.Qb(d.a),s.Qb(a.a),s.Qb(a.h),s.Qb(s.i),s.Qb(u.a))},e.\u0275cmp=s.Kb({type:e,selectors:[["app-login"]],decls:5,vars:2,consts:[[1,"login-form","login-signin"],["class","form","novalidate","novalidate","id","kt_login_signin_form",3,"formGroup","ngSubmit",4,"ngIf"],["formError",""],["novalidate","novalidate","id","kt_login_signin_form",1,"form",3,"formGroup","ngSubmit"],[1,"pb-13","pt-lg-0","pt-5"],[1,"font-weight-bolder","text-dark","font-size-h4","font-size-h1-lg"],[1,"text-muted","font-weight-bold","font-size-h4"],[4,"ngIf"],[1,"form-group"],[1,"font-size-h6","font-weight-bolder","text-dark"],["type","text","name","email","formControlName","email","autocomplete","off",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","justify-content-between","mt-n5"],[1,"font-size-h6","font-weight-bolder","text-dark","pt-5"],["type","password","name","password","autocomplete","off","formControlName","password",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg",3,"ngClass"],["routerLink","/auth/user-register","id","kt_login_forgot",1,"text-primary","font-size-h7","font-weight-bolder","text-hover-primary","pt-5"],["style","margin-left:50%;","class","spinner spinner-danger spinner-lg mr-15",4,"ngIf"],["class","pb-lg-0 pb-5",4,"ngIf"],[1,"mb-10","alert","alert-custom","alert-light-danger","alert-dismissible"],[1,"alert-text"],[1,"spinner","spinner-danger","spinner-lg","mr-15",2,"margin-left","50%"],[1,"pb-lg-0","pb-5"],["type","submit","id","kt_login_signin_submit",1,"btn","btn-primary","font-weight-bolder","font-size-h6","px-8","py-4","my-3","mr-3",2,"background-color","#7AB800 !important","border-color","#79b305",3,"disabled"],[1,"spinner","spinner-primary","ml-5"],["type","password","name","password1","autocomplete","off","formControlName","password1",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg",3,"ngClass"],["type","password","name","password2","autocomplete","off","formControlName","password2",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg",3,"ngClass"],[1,"fv-plugins-message-container"],[1,"fv-help-block"]],template:function(e,o){1&e&&(s.Wb(0,"div",0),s.Lc(1,V,27,38,"form",1),s.Lc(2,q,30,37,"form",1),s.Vb(),s.Lc(3,U,1,1,"ng-template",null,2,s.Mc)),2&e&&(s.Cb(1),s.qc("ngIf",!o.currentUser.ChangePassword),s.Cb(1),s.qc("ngIf",o.currentUser.ChangePassword))},directives:[n.n,r.z,r.p,r.i,r.d,r.o,r.h,n.l,n.s,a.k],pipes:[n.b],styles:["[_nghost-%COMP%]{width:100%}@media (min-width:992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"],changeDetection:0}),e})();var T=t("Qy8N"),F=t("rrsC");function E(e,o){1&e&&(s.Ub(0),s.Wb(1,"div",21),s.Wb(2,"div",22),s.Nc(3,"The registration details are incorrect"),s.Vb(),s.Vb(),s.Tb())}function _(e,o){1&e&&(s.Ub(0),s.Wb(1,"div",23),s.Wb(2,"div",24),s.Nc(3," 'Passsword' and 'Confirm Password' didn't match. "),s.Vb(),s.Vb(),s.Tb())}function L(e,o){1&e&&(s.Ub(0),s.Rb(1,"span",25),s.Tb())}function G(e,o){if(1&e&&(s.Ub(0),s.Wb(1,"div",23),s.Wb(2,"div",24),s.Nc(3),s.Vb(),s.Vb(),s.Tb()),2&e){const e=s.kc().message;s.Cb(3),s.Pc(" ",e," ")}}function R(e,o){if(1&e&&s.Lc(0,G,4,1,"ng-container",5),2&e){const e=o.control;s.qc("ngIf",e.hasError(o.validation)&&(e.dirty||e.touched))}}const I=function(e){return{"is-invalid":e}},A=function(e){return{validation:"required",message:"Fullname is required",control:e}},z=function(e){return{validation:"minlength",message:"Fullname should have at least 3 symbols",control:e}},j=function(e){return{validation:"maxLength",message:"Fullname should have maximum 100 symbols",control:e}},D=function(e){return{validation:"required",message:"Email is required",control:e}},Q=function(e){return{validation:"email",message:"Email is invalid",control:e}},$=function(e){return{validation:"minlength",message:"Email should have at least 3 symbols",control:e}},B=function(e){return{validation:"maxLength",message:"Email should have maximum 360 symbols",control:e}},H=function(e){return{validation:"required",message:"Password is required",control:e}},Y=function(e){return{validation:"minlength",message:"Password should have at least 3 symbols",control:e}},K=function(e){return{validation:"maxLength",message:"Password should have maximum 100 symbols",control:e}},X=function(e){return{validation:"required",message:"Confirm Password is required",control:e}},Z=function(e){return{validation:"minlength",message:"Confirm Password should have at least 3 symbols",control:e}},J=function(e){return{validation:"maxLength",message:"Confirm Password should have maximum 100 symbols",control:e}};let ee=(()=>{class e{constructor(e,o,t){this.fb=e,this.authService=o,this.router=t,this.unsubscribe=[],this.isLoading$=this.authService.isLoading$,this.authService.currentUserValue&&this.router.navigate(["/"])}ngOnInit(){this.initForm()}get f(){return this.registrationForm.controls}initForm(){this.registrationForm=this.fb.group({fullname:["",r.x.compose([r.x.required,r.x.minLength(3),r.x.maxLength(100)])],email:["qwe@qwe.qwe",r.x.compose([r.x.required,r.x.email,r.x.minLength(3),r.x.maxLength(320)])],password:["",r.x.compose([r.x.required,r.x.minLength(3),r.x.maxLength(100)])],cPassword:["",r.x.compose([r.x.required,r.x.minLength(3),r.x.maxLength(100)])],agree:[!1,r.x.compose([r.x.required])]},{validator:T.a.MatchPassword})}submit(){this.hasError=!1;const e={};Object.keys(this.f).forEach(o=>{e[o]=this.f[o].value});const o=new F.a;o.setUser(e);const t=this.authService.registration(o).pipe(Object(c.a)()).subscribe(e=>{e?this.router.navigate(["/"]):this.hasError=!0});this.unsubscribe.push(t)}ngOnDestroy(){this.unsubscribe.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(o){return new(o||e)(s.Qb(r.e),s.Qb(d.a),s.Qb(a.h))},e.\u0275cmp=s.Kb({type:e,selectors:[["app-registration"]],decls:55,vars:71,consts:[[1,"login-form","login-signup"],["novalidate","novalidate","id","kt_login_signup_form",1,"form",3,"formGroup","ngSubmit"],[1,"pb-13","pt-lg-0","pt-5"],[1,"font-weight-bolder","text-dark","font-size-h4","font-size-h1-lg"],[1,"text-muted","font-weight-bold","font-size-h4"],[4,"ngIf"],[1,"form-group"],[1,"font-size-h6","font-weight-bolder","text-dark"],["type","text","name","fullname","formControlName","fullname","placeholder","Fullname","autocomplete","off",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","email","placeholder","Email","name","email","formControlName","email","autocomplete","off",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6",3,"ngClass"],[1,"font-size-h6","font-weight-bolder","text-dark","pt-5"],["type","password","placeholder","Password","name","password","formControlName","password","autocomplete","off",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6",3,"ngClass"],["type","password","placeholder","Confirm password","name","cPassword","autocomplete","off","formControlName","cPassword",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","font-size-h6",3,"ngClass"],[1,"checkbox","mb-0"],["type","checkbox","formControlName","agree","name","agree"],["href","https://keenthemes.com/metronic/?page=faq","target","_blank"],[1,"form-group","d-flex","flex-wrap","pb-lg-0","pb-3"],["type","submit","id","kt_login_signup_submit",1,"btn","btn-primary","font-weight-bolder","font-size-h6","px-8","py-4","my-3","mr-4",3,"disabled"],["routerLink","/auth/login","type","button","id","kt_login_signup_cancel",1,"btn","btn-light-primary","font-weight-bolder","font-size-h6","px-8","py-4","my-3"],["formError",""],[1,"mb-10","alert","alert-custom","alert-light-danger","alert-dismissible"],[1,"alert-text"],[1,"fv-plugins-message-container"],[1,"fv-help-block"],[1,"spinner","spinner-primary","ml-5"]],template:function(e,o){if(1&e&&(s.Wb(0,"div",0),s.Wb(1,"form",1),s.gc("ngSubmit",function(){return o.submit()}),s.Wb(2,"div",2),s.Wb(3,"h3",3),s.Nc(4," Sign Up "),s.Vb(),s.Wb(5,"p",4),s.Nc(6," Enter your details to create your account "),s.Vb(),s.Vb(),s.Lc(7,E,4,0,"ng-container",5),s.Wb(8,"div",6),s.Wb(9,"label",7),s.Nc(10,"Fullname"),s.Vb(),s.Rb(11,"input",8),s.Sb(12,9),s.Sb(13,9),s.Sb(14,9),s.Vb(),s.Wb(15,"div",6),s.Wb(16,"label",7),s.Nc(17,"Email"),s.Vb(),s.Rb(18,"input",10),s.Sb(19,9),s.Sb(20,9),s.Sb(21,9),s.Sb(22,9),s.Vb(),s.Wb(23,"div",6),s.Wb(24,"label",11),s.Nc(25,"Password"),s.Vb(),s.Rb(26,"input",12),s.Sb(27,9),s.Sb(28,9),s.Sb(29,9),s.Vb(),s.Wb(30,"div",6),s.Wb(31,"label",11),s.Nc(32,"Confirm Password"),s.Vb(),s.Rb(33,"input",13),s.Sb(34,9),s.Sb(35,9),s.Sb(36,9),s.Lc(37,_,4,0,"ng-container",5),s.Vb(),s.Wb(38,"div",6),s.Wb(39,"label",14),s.Rb(40,"input",15),s.Nc(41,"\xa0I Agree the\xa0"),s.Wb(42,"a",16),s.Nc(43,"terms and conditions"),s.Vb(),s.Nc(44,".\xa0 "),s.Rb(45,"span"),s.Vb(),s.Vb(),s.Wb(46,"div",17),s.Wb(47,"button",18),s.Nc(48," Submit "),s.Vb(),s.Wb(49,"a",19),s.Nc(50," Cancel "),s.Vb(),s.Lc(51,L,2,0,"ng-container",5),s.lc(52,"async"),s.Vb(),s.Vb(),s.Vb(),s.Lc(53,R,1,1,"ng-template",null,20,s.Mc)),2&e){const e=s.yc(54);s.Cb(1),s.qc("formGroup",o.registrationForm),s.Cb(6),s.qc("ngIf",o.hasError),s.Cb(4),s.qc("ngClass",s.uc(37,I,o.registrationForm.controls.fullname.invalid)),s.Cb(1),s.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.uc(39,A,o.registrationForm.controls.fullname)),s.Cb(1),s.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.uc(41,z,o.registrationForm.controls.fullname)),s.Cb(1),s.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.uc(43,j,o.registrationForm.controls.fullname)),s.Cb(4),s.qc("ngClass",s.uc(45,I,o.registrationForm.controls.email.invalid)),s.Cb(1),s.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.uc(47,D,o.registrationForm.controls.email)),s.Cb(1),s.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.uc(49,Q,o.registrationForm.controls.email)),s.Cb(1),s.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.uc(51,$,o.registrationForm.controls.email)),s.Cb(1),s.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.uc(53,B,o.registrationForm.controls.email)),s.Cb(4),s.qc("ngClass",s.uc(55,I,o.registrationForm.controls.password.invalid)),s.Cb(1),s.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.uc(57,H,o.registrationForm.controls.password)),s.Cb(1),s.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.uc(59,Y,o.registrationForm.controls.password)),s.Cb(1),s.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.uc(61,K,o.registrationForm.controls.password)),s.Cb(4),s.qc("ngClass",s.uc(63,I,o.registrationForm.controls.cPassword.invalid)),s.Cb(1),s.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.uc(65,X,o.registrationForm.controls.cPassword)),s.Cb(1),s.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.uc(67,Z,o.registrationForm.controls.cPassword)),s.Cb(1),s.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.uc(69,J,o.registrationForm.controls.cPassword)),s.Cb(1),s.qc("ngIf",o.registrationForm.controls.cPassword.errors&&o.registrationForm.controls.cPassword.errors.ConfirmPassword),s.Cb(10),s.qc("disabled",o.registrationForm.invalid||!o.registrationForm.controls.agree.value),s.Cb(4),s.qc("ngIf",s.mc(52,35,o.isLoading$))}},directives:[r.z,r.p,r.i,n.n,r.d,r.o,r.h,n.l,n.s,r.a,a.k],pipes:[n.b],styles:["[_nghost-%COMP%]{width:100%}@media (min-width:992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),e})();var oe=t("JqCM"),te=t("2jtQ"),ne=t("1kSV"),re=t("5eHb"),ie=t("jhN1");const ae=["popCCliente"];function se(e,o){if(1&e){const e=s.Xb();s.Wb(0,"div",30),s.Wb(1,"div",31),s.Nc(2),s.Vb(),s.Wb(3,"div",32),s.Wb(4,"small",33),s.gc("click",function(){return s.Bc(e),s.kc().ClosePass()}),s.Nc(5,"Cerrar"),s.Vb(),s.Vb(),s.Vb()}if(2&e){const e=s.kc();s.Cb(2),s.Oc(e.General.Usuario.PassSugerido)}}function le(e,o){1&e&&(s.Wb(0,"div",34),s.Wb(1,"h4",35),s.Wb(2,"span",36),s.Nc(3," T\xc9RMINOS Y CONDICIONES"),s.Vb(),s.Vb(),s.Wb(4,"button",37),s.gc("click",function(){return(0,o.dismiss)("Cross click")}),s.Wb(5,"span",38),s.Nc(6,"\xd7"),s.Vb(),s.Vb(),s.Vb(),s.Wb(7,"div",39),s.Wb(8,"div",5),s.Wb(9,"div",6),s.Wb(10,"div",40),s.Wb(11,"span",41),s.Nc(12,"T\xc9RMINOS Y CONDICIONES LEGALES"),s.Vb(),s.Wb(13,"p",36),s.Nc(14," Por favor lea cuidadosamente nuestros T\xe9rminos y Condiciones contenidos en este documento ya que, el ingreso y uso de este sitio web, cuyo nombre de dominio principal es www.systmx.com y/o cualquier subdominio al que sea redireccionado a trav\xe9s del dominio principal (en adelante el \u201cSitio\u201d), constituye la aceptaci\xf3n de los T\xe9rminos y Condiciones Legales aqu\xed establecidos "),s.Vb(),s.Wb(15,"p",36),s.Nc(16," Est\xe1 usted accediendo al Sitio de SYSTM MEXICO S.A.S. DE C.V. (en lo sucesivo \u201cSYSTM\u201d). Este Sitio puede ser visitado por cualquier persona y accedido \xfanicamente por los usuarios a los que se les proporcione un acceso, siempre que sea para uso y fin para el que fue creado. Se entender\xe1 por \u201cUsuario\u201d toda persona f\xedsica o moral que goce de facultades jur\xeddicas y que acceda o haya accedido a este Sitio; por lo que, se sujeta a los presentes T\xe9rminos y Condiciones Legales. "),s.Vb(),s.Wb(17,"p",36),s.Nc(18," El contenido del presente Sitio tiene como finalidad obtener la informaci\xf3n contenida en los archivos PDF de opini\xf3n de cumplimiento emitidos por el Servicio de Administraci\xf3n Tributaria (SAT) y se reserva el derecho de conservar los documentos por un m\xe1ximo de 60 d\xedas naturales antes de ser eliminados definitivamente; dicha informaci\xf3n extra\xedda de los documentos les permitir\xe1 a las empresas que contratan \xe9ste servicio conocer la informaci\xf3n de forma general, por lo que no implica ni garantiza que la Informaci\xf3n aqu\xed contenida pueda satisfacer los requisitos de precisi\xf3n, detalle o exactitud requerida a juicio del Usuario. En tal virtud, el contenido es de \xedndole informativo, por lo que la interpretaci\xf3n es personal de cada Usuario "),s.Vb(),s.Wb(19,"p",36),s.Nc(20," SYSTM se reserva el derecho de cambiar la Informaci\xf3n, contenido y/o im\xe1genes contenidas en el Sitio en cualquier momento y sin previo aviso al Usuario. El Usuario se obliga a utilizar el Sitio, sus contenidos y/o servicios de forma diligente y de conformidad con los presentes T\xe9rminos y Condiciones Legales; as\xed como con la Ley, la moral, el orden p\xfablico y las buenas costumbres. SYSTM se reserva el absoluto derecho a denegar o retirar el acceso al Sitio y/o a los servicios aqu\xed contenidos, en cualquier momento y sin necesidad de previo aviso al Usuario que no cumpla con lo establecido en los presentes T\xe9rminos y Condiciones Legales. "),s.Vb(),s.Wb(21,"p",36),s.Nc(22," La informaci\xf3n de este Sitio es en relaci\xf3n a los productos e informaci\xf3n exclusiva en los Estados Unidos Mexicanos, debiendo considerarse solamente como un Sitio de visita para Usuarios de cualquier otra parte del mundo. Por lo anterior, la informaci\xf3n contenidos en el Sitio, son aplicables dentro del territorio de la Rep\xfablica Mexicana. "),s.Vb(),s.Wb(23,"p",36),s.Nc(24," SYSTM se reserva el derecho de restringir, finalizar o terminar el ingreso a este Sitio, al Usuario que intente da\xf1ar o alterar deliberadamente el Sitio o cualquiera de sus secciones, estropear, modificar o impedir la leg\xedtima operaci\xf3n del mismo, por lo que constituye una violaci\xf3n a las Leyes Federales y Locales, reserv\xe1ndose SYSTM el derecho de actuar por la v\xeda Civil y/o Penal y/o cualquier otra, con la finalidad de reclamar la reparaci\xf3n del da\xf1o y la correspondiente indemnizaci\xf3n por Da\xf1os y Perjuicios. "),s.Vb(),s.Wb(25,"p",36),s.Nc(26," Toda la informaci\xf3n como pueden ser, de forma enunciativa mas no limitativa: Im\xe1genes, Videos, Textos, Marcas Registradas, Productos, Avisos Comerciales, Nombres de Dominio y Dise\xf1os, Reportes, Pol\xedticas, Comunicados de Prensa, Historia de SYSTM y dem\xe1s an\xe1logos (referidos en el presente documento como \u201cInformaci\xf3n\u201d) contenidas en este Sitio, pueden ser propiedad de SYSTM, sus titulares y/o licenciatarios, estando por ende protegida por los convenios internacionales y la legislaci\xf3n mexicana en materia de propiedad industrial e intelectual. Ning\xfan contenido de este Sitio debe interpretarse como un otorgamiento de licencia de uso o derecho de uso de la Informaci\xf3n mostrada, por lo que se proh\xedbe cualquier uso, reproducci\xf3n total o parcial de la Informaci\xf3n o cualquier contenido del mismo . El Sitio puede o no contener una secci\xf3n dedicada a un \u201cblog\u201d o foro, en donde se podr\xe1n exponer diversos asuntos de inter\xe9s en relaci\xf3n a actividad de SYSTM, por lo que SYSTM \xfanicamente actuar\xe1 de moderador dentro del \u201cblog\u201d o foro y las opiniones, comentarios y/o escritos de los Usuarios, reflejar\xe1n \xfanicamente sus opiniones personales y/o criterios, por lo que SYSTM no es responsable de los mismos. No obstante, SYSTM se reserva el derecho de borrar comentarios ofensivos, vulgares, racistas o de cualquier calidad que pueda ofender a otras personas, a SYSTM y/o a sus marcas. "),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(27,"div",5),s.Rb(28,"div",6),s.Vb(),s.Vb(),s.Wb(29,"div",42),s.Wb(30,"button",43),s.gc("click",function(){return(0,o.close)("Close click")}),s.Nc(31,"Cerrar"),s.Vb(),s.Vb())}let ce=(()=>{class e{constructor(e,o,t,n,r,i,a,s){this.snackBar=e,this.modalService=o,this.toastr=t,this.spinnerService=n,this.router=r,this.sanitizer=i,this.ref=a,this.RegistroService=s,this.modalReference=null,this.Page={},this.Screen={},this.General={},this.User={},this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Usuario={},this.Page.ShowSugerencia=!1,Object.keys(this.RegistroService.oRegistro).length>0?this.General.Usuario.RFC=this.RegistroService.oRegistro.RFC:(this.toastr.error("Ocurri\xf3 un error al validar el RFC, intente nuevamente"),this.router.navigate(["/auth/login"]))}ngOnInit(){}Guardar(){this.emailIsValid(this.General.Usuario.CorreoElectronico)?this.General.Usuario.CorreoElectronico==this.General.Usuario.CorreoElectronico2?null!=this.General.Usuario.Nombre&&""!=this.General.Usuario.Nombre?null!=this.General.Usuario.ApellidoPaterno&&""!=this.General.Usuario.ApellidoPaterno?null!=this.General.Usuario.ApellidoMaterno&&""!=this.General.Usuario.ApellidoMaterno?null!=this.General.Usuario.Pass1&&""!=this.General.Usuario.Pass1&&null!=this.General.Usuario.Pass2&&""!=this.General.Usuario.Pass2?this.General.Usuario.Pass1==this.General.Usuario.Pass2?this.PassTest(this.General.Usuario.Pass1)?null!=this.General.Usuario.AceptaTerminos&&0!=this.General.Usuario.AceptaTerminos?this.RegistroService.GuardarUsuario(this.General.Usuario).then(e=>e.json()).then(e=>{0==e.Valid?this.toastr.error("Ocurri\xf3 un error al procesar la informaci\xf3n"):this.toastr.success("Registro completado ahora puede ingresar con su e-mail"),this.router.navigate(["/auth/login"])}).catch(e=>{}):this.toastr.error("Al no aceptar t\xe9rminos y condiciones no puede continuar con el alta de su usuario"):this.toastr.error("Password no cubre los requesitos"):this.toastr.error("Las contrase\xf1as no coinciden"):this.toastr.error("El campo password no es v\xe1lido"):this.toastr.error("El campo Apellido Materno no es v\xe1lido"):this.toastr.error("El campo Apellido Paterno no es v\xe1lido"):this.toastr.error("El campo Nombre no es v\xe1lido"):this.toastr.error("Los correos ingresados son diferentes"):this.toastr.error("Email incorrecto, favor de verificar")}BuscarEmail(e){e&&(this.emailIsValid(e)?this.RegistroService.VerificaEmail(this.General.Usuario).then(e=>e.json()).then(e=>{e&&1==e.Existe&&(this.toastr.error("El Email ya fue registrado, favor de verificar"),this.General.Usuario.CorreoElectronico="",this.ref.markForCheck())},e=>{this.handleError(e)}):(this.toastr.error("Email incorrecto, favor de verificar"),this.General.Usuario.CorreoElectronico=""))}PassTest(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[.$@#$!%*?&])[A-Za-z\d.$@#$!%*?&].{10,}/.test(e)}emailIsValid(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}ShowTerminos(){this.modalReference=this.modalService.open(this.popUp,{size:"lg"})}SugerenciaPassword(){this.General.Usuario.PassSugerido="",this.CrearPassword()}CrearPassword(){let e=Math.floor(8*Math.random()+1),o=".?!#$&@%&*".substr(e,1),t=Math.floor(99*Math.random()+1),n=this.uuidv4(),r=btoa(n.toString().replace(/-/g,"3")).toString().replace(/=/g,"").replace(/\+/g,"").substring(0,9)+t+o;r.match(/^\d/)&&(r=r.replace(/^./,"A")),this.PassTest(r)?(this.General.Usuario.PassSugerido=r,this.Page.ShowSugerencia=!0):this.CrearPassword()}uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var o=16*Math.random()|0;return("x"==e?o:3&o|8).toString(16)})}ClosePass(){this.Page.ShowSugerencia=!1}handleError(e){e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion)}openSnackBar(e,o){this.snackBar.open(e,o,{duration:2e3})}}return e.\u0275fac=function(o){return new(o||e)(s.Qb(u.a),s.Qb(ne.y),s.Qb(re.b),s.Qb(oe.c),s.Qb(a.h),s.Qb(ie.b),s.Qb(s.i),s.Qb(te.a))},e.\u0275cmp=s.Kb({type:e,selectors:[["kt-registrocliente"]],viewQuery:function(e,o){if(1&e&&s.Gc(ae,!0),2&e){let e;s.xc(e=s.hc())&&(o.popUp=e.first)}},decls:77,vars:10,consts:[[1,"card-header",2,"padding","0% !important"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["type","email","maxlength","45","aria-describedby","helpEmail","placeholder","",1,"form-control","form-control-sm",3,"ngModel","focusout","ngModelChange"],["type","email","maxlength","45","aria-describedby","helpEmail","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","text","maxlength","40","aria-describedby","rfcNombre","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","text","maxlength","45","aria-describedby","helpAP","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","text","maxlength","45","aria-describedby","helpAM","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"input-group"],["type","password","maxlength","25","aria-describedby","helpPass1",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"input-group-append"],["data-toggle","tooltip","title","Sugerir Password","type","button",1,"btn","btn-sm","btn-primary",3,"click"],["id","alertpass","class","alert alert-custom alert-default","role","alert",4,"ngIf"],["type","password","maxlength","25","aria-describedby","helpPass21","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-md-1"],["type","checkbox","aria-describedby","helpCond",3,"ngModel","ngModelChange"],[1,"col-md-9"],[1,"text-muted",2,"cursor","pointer","text-decoration","underline",3,"click"],[1,"col-md-10"],[1,"d-flex","align-items-center","p-2"],["href","javascript:;",1,"btn","btn-transparent-primary","font-weight-bold","mr-2",3,"click"],["href","javascript:;","routerLink","/auth/login",1,"btn","btn-transparent-danger","font-weight-bold","mr-2"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],["popCCliente",""],["id","alertpass","role","alert",1,"alert","alert-custom","alert-default"],[1,"alert-text"],[1,"alert-icon"],[1,"text-muted",2,"cursor","pointer",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"text-muted"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group",2,"overflow-y","scroll","max-height","500px"],[1,"text"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(e,o){1&e&&(s.Wb(0,"div"),s.Wb(1,"div",0),s.Wb(2,"div",1),s.Wb(3,"h2",2),s.Rb(4,"i",3),s.Nc(5," Registro de Usuario"),s.Vb(),s.Vb(),s.Vb(),s.Wb(6,"div",4),s.Wb(7,"div",5),s.Wb(8,"div",6),s.Wb(9,"div",7),s.Wb(10,"label"),s.Nc(11,"Email *"),s.Vb(),s.Wb(12,"input",8),s.gc("focusout",function(e){return o.BuscarEmail(e.target.value)})("ngModelChange",function(e){return o.General.Usuario.CorreoElectronico=e}),s.Vb(),s.Vb(),s.Vb(),s.Wb(13,"div",6),s.Wb(14,"div",7),s.Wb(15,"label"),s.Nc(16,"Confirmar Email *"),s.Vb(),s.Wb(17,"input",9),s.gc("ngModelChange",function(e){return o.General.Usuario.CorreoElectronico2=e}),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(18,"div",5),s.Wb(19,"div",6),s.Wb(20,"div",7),s.Wb(21,"label"),s.Nc(22,"Nombre *"),s.Vb(),s.Wb(23,"input",10),s.gc("ngModelChange",function(e){return o.General.Usuario.Nombre=e}),s.Vb(),s.Vb(),s.Vb(),s.Wb(24,"div",6),s.Wb(25,"div",7),s.Wb(26,"label"),s.Nc(27,"A. Paterno *"),s.Vb(),s.Wb(28,"input",11),s.gc("ngModelChange",function(e){return o.General.Usuario.ApellidoPaterno=e}),s.Vb(),s.Vb(),s.Vb(),s.Wb(29,"div",6),s.Wb(30,"div",7),s.Wb(31,"label"),s.Nc(32,"A. Materno *"),s.Vb(),s.Wb(33,"input",12),s.gc("ngModelChange",function(e){return o.General.Usuario.ApellidoMaterno=e}),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(34,"div",5),s.Wb(35,"div",6),s.Wb(36,"div",7),s.Wb(37,"label"),s.Nc(38,"Password *"),s.Vb(),s.Wb(39,"div",13),s.Wb(40,"input",14),s.gc("ngModelChange",function(e){return o.General.Usuario.Pass1=e}),s.Vb(),s.Wb(41,"div",15),s.Wb(42,"button",16),s.gc("click",function(){return o.SugerenciaPassword()}),s.Nc(43,"!"),s.Vb(),s.Vb(),s.Wb(44,"small"),s.Nc(45,"use al menos 10 caracteres (mayusculas, minisculas, numeros y simbolos)"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(46,"div",6),s.Wb(47,"div",7),s.Lc(48,se,6,1,"div",17),s.Vb(),s.Vb(),s.Wb(49,"div",6),s.Wb(50,"div",7),s.Wb(51,"label"),s.Nc(52,"Confirmar Password *"),s.Vb(),s.Wb(53,"input",18),s.gc("ngModelChange",function(e){return o.General.Usuario.Pass2=e}),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(54,"div",5),s.Wb(55,"div",19),s.Wb(56,"input",20),s.gc("ngModelChange",function(e){return o.General.Usuario.AceptaTerminos=e}),s.Vb(),s.Vb(),s.Wb(57,"div",21),s.Wb(58,"span",22),s.gc("click",function(){return o.ShowTerminos()}),s.Nc(59,"He le\xeddo y Acepto T\xe9rminos y Condiciones"),s.Vb(),s.Vb(),s.Vb(),s.Wb(60,"div",5),s.Wb(61,"div",23),s.Wb(62,"div",7),s.Wb(63,"label"),s.Nc(64,"* Informaci\xf3n obligatoria"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(65,"div",5),s.Wb(66,"div",24),s.Wb(67,"a",25),s.gc("click",function(){return o.Guardar()}),s.Nc(68,"Guardar"),s.Vb(),s.Wb(69,"a",26),s.Nc(70,"Cancelar"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(71,"ngx-spinner",27),s.Wb(72,"p",28),s.Nc(73," Loading... "),s.Vb(),s.Vb(),s.Wb(74,"div"),s.Lc(75,le,32,0,"ng-template",null,29,s.Mc),s.Vb()),2&e&&(s.Cb(12),s.qc("ngModel",o.General.Usuario.CorreoElectronico),s.Cb(5),s.qc("ngModel",o.General.Usuario.CorreoElectronico2),s.Cb(6),s.qc("ngModel",o.General.Usuario.Nombre),s.Cb(5),s.qc("ngModel",o.General.Usuario.ApellidoPaterno),s.Cb(5),s.qc("ngModel",o.General.Usuario.ApellidoMaterno),s.Cb(7),s.qc("ngModel",o.General.Usuario.Pass1),s.Cb(8),s.qc("ngIf",o.Page.ShowSugerencia),s.Cb(5),s.qc("ngModel",o.General.Usuario.Pass2),s.Cb(3),s.qc("ngModel",o.General.Usuario.AceptaTerminos),s.Cb(15),s.qc("fullScreen",!0))},directives:[r.d,r.k,r.o,r.r,n.n,r.a,a.k,oe.a],styles:["#alertpass[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation:fadein 3s;animation:fadein 3s}@keyframes fadein{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fadein{0%{opacity:0}to{opacity:1}}"],changeDetection:0}),e})();function de(e,o){if(1&e&&(s.Ub(0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Nc(3),s.Vb(),s.Vb(),s.Tb()),2&e){const e=s.kc();s.Cb(3),s.Oc(e.Page.ErrorDetails)}}function ue(e,o){if(1&e){const e=s.Xb();s.Wb(0,"div"),s.Wb(1,"div",3),s.Wb(2,"h3",4),s.Nc(3," Ingrese su RFC "),s.Vb(),s.Vb(),s.Wb(4,"div",5),s.Wb(5,"div",6),s.Wb(6,"div",7),s.Wb(7,"input",8),s.gc("ngModelChange",function(o){return s.Bc(e),s.kc().General.Cliente.RFC=o}),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(8,"div",5),s.Wb(9,"div",9),s.Wb(10,"div",7),s.Wb(11,"label"),s.Nc(12,"Ingrese su c\xf3digo de registro"),s.Vb(),s.Wb(13,"input",10),s.gc("ngModelChange",function(o){return s.Bc(e),s.kc().General.Cliente.Code=o}),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(14,"div",5),s.Wb(15,"div",11),s.Wb(16,"a",12),s.gc("click",function(){return s.Bc(e),s.kc().ValidarRFC()}),s.Nc(17,"Validar"),s.Vb(),s.Wb(18,"a",13),s.Nc(19,"Cancelar"),s.Vb(),s.Vb(),s.Vb(),s.Vb()}if(2&e){const e=s.kc();s.Cb(7),s.qc("ngModel",e.General.Cliente.RFC),s.Cb(6),s.qc("ngModel",e.General.Cliente.Code)}}function ge(e,o){1&e&&(s.Wb(0,"div"),s.Rb(1,"kt-registrocliente",null,14),s.Vb())}var be=function(e){return e[e.NotSubmitted=0]="NotSubmitted",e[e.HasError=1]="HasError",e[e.NoError=2]="NoError",e}({});const me=[{path:"",component:l,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:N,data:{returnUrl:window.location.pathname}},{path:"registration",component:ee},{path:"user-register",component:(()=>{class e{constructor(e,o,t,n,r){this.fb=e,this.authService=o,this.spinnerService=t,this.ref=n,this.RegistroService=r,this.errorState=be.NotSubmitted,this.errorStates=be,this.General={},this.Page={},this.unsubscribe=[],this.isLoading$=this.authService.isLoading$,this.General.Cliente={},this.Page.HasError=!1,this.Page.ShowRegistro=!1,this.Page.ErrorDetails=""}ngOnInit(){this.initForm()}get f(){return this.forgotPasswordForm.controls}initForm(){this.forgotPasswordForm=this.fb.group({email:["admin@demo.com",r.x.compose([r.x.required,r.x.email,r.x.minLength(3),r.x.maxLength(320)])]})}submit(){this.errorState=be.NotSubmitted;const e=this.authService.forgotPassword(this.f.email.value).pipe(Object(c.a)()).subscribe(e=>{this.errorState=e?be.NoError:be.HasError});this.unsubscribe.push(e)}ValidarRFC(){if(this.Page.HasError=!1,this.Page.ErrorDetails="",null==this.General.Cliente.RFC||""==this.General.Cliente.RFC||this.General.Cliente.RFC.length<12)return this.Page.ErrorDetails="El RFC ingresado es incorrecto, favor de validar",void(this.Page.HasError=!0);if(null==this.General.Cliente.Code||""==this.General.Cliente.Code)return this.Page.ErrorDetails="C\xf3digo inv\xe1lido",void(this.Page.HasError=!0);if(this.General.Cliente.Code.length<37)return this.Page.ErrorDetails="C\xf3digo inv\xe1lido",void(this.Page.HasError=!0);let e=(this.General.Cliente.Code.match(/-/g)||[]).length;if(null==e||e<4)return this.Page.ErrorDetails="C\xf3digo inv\xe1lido",void(this.Page.HasError=!0);this.RegistroService.ValidaRFC(this.General.Cliente).then(e=>e.json()).then(e=>{this.RegistroService.oRegistro=this.General.Cliente,null!=e.CodigoMensaje&&3e3==e.CodigoMensaje?(this.Page.ErrorDetails=e.Descripcion,this.Page.HasError=!0,this.ref.markForCheck()):1==e.Valido&&(this.Page.ShowRegistro=!0,this.ref.markForCheck())}).catch(e=>{console.log(e)})}PeticionFetchPost(e){var o=localStorage.getItem("auth");return JSON.parse(o),fetch("http://localhost:63973/api/validator",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}}return e.\u0275fac=function(o){return new(o||e)(s.Qb(r.e),s.Qb(d.a),s.Qb(oe.c),s.Qb(s.i),s.Qb(te.a))},e.\u0275cmp=s.Kb({type:e,selectors:[["app-forgot-password"]],decls:3,vars:3,consts:[[4,"ngIf"],[1,"mb-10","alert","alert-custom","alert-light-danger","alert-dismissible"],[1,"alert-text"],[1,"pb-13","pt-lg-0","pt-5"],[1,"font-weight-bolder","text-dark","font-size-h4","font-size-h1-lg"],[1,"row"],[1,"col-md-5"],[1,"form-group"],["type","text","maxlength","13","aria-describedby","helpRFC","placeholder","",1,"form-control","form-control-sm",2,"text-transform","uppercase",3,"ngModel","ngModelChange"],[1,"col-md-7"],["type","text","maxlength","50","aria-describedby","helpRFC","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"d-flex","align-items-center","p-2"],["href","javascript:;",1,"btn","btn-transparent-primary","font-weight-bold","mr-2",3,"click"],["href","javascript:;","routerLink","/auth/login",1,"btn","btn-transparent-danger","font-weight-bold","mr-2"],["shareEditcmp",""]],template:function(e,o){1&e&&(s.Lc(0,de,4,1,"ng-container",0),s.Lc(1,ue,20,2,"div",0),s.Lc(2,ge,3,0,"div",0)),2&e&&(s.qc("ngIf",o.Page.HasError),s.Cb(1),s.qc("ngIf",!o.Page.ShowRegistro),s.Cb(1),s.qc("ngIf",o.Page.ShowRegistro))},directives:[n.n,r.d,r.k,r.o,r.r,a.k,ce],styles:["[_nghost-%COMP%]{width:100%}@media (min-width:992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),e})()},{path:"logout",component:(()=>{class e{constructor(e){this.authService=e,this.authService.logout()}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)(s.Qb(d.a))},e.\u0275cmp=s.Kb({type:e,selectors:[["app-logout"]],decls:2,vars:0,template:function(e,o){1&e&&(s.Wb(0,"p"),s.Nc(1,"logout works!"),s.Vb())},styles:[""]}),e})()},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login",pathMatch:"full"}]}];let he=(()=>{class e{}return e.\u0275mod=s.Ob({type:e}),e.\u0275inj=s.Nb({factory:function(o){return new(o||e)},imports:[[a.l.forChild(me)],a.l]}),e})();var pe=t("tM0M");let fe=(()=>{class e{}return e.\u0275mod=s.Ob({type:e}),e.\u0275inj=s.Nb({factory:function(o){return new(o||e)},imports:[[n.c,pe.a,he,r.j,r.u,i.c,u.b,oe.b]]}),e})()}}]);