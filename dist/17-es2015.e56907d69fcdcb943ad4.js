(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{MinF:function(e,t,i){"use strict";i.r(t),i.d(t,"OpinionCumplimientoModule",function(){return Wt});var a=i("QibW"),o=i("ofXK"),n=i("tyNb"),r=i("3Pt+"),c=i("WsYS"),l=i("93Pz"),s=i("1jcm"),b=i("FKr1"),d=i("0IaG"),h=i("NFeN"),p=i("bSwM"),u=i("iadO"),m=i("1yaQ"),g=i("qFsG"),f=i("kmnG"),v=i("/1cH"),C=i("bTqV"),S=i("wZkO"),V=i("Qu3c"),W=i("d3UM"),w=i("Wp6s"),P=i("STbY"),k=i("bv9b"),D=i("Xa2L"),R=i("dNgK"),F=i("+0xr"),O=i("MutI"),y=i("XhcP"),x=i("5RNC"),L=i("zkoq"),N=i("jaxi"),E=i("8yBR"),G=i("M9IT"),A=i("A5z7"),M=i("xHqg"),q=i("Dh3D"),z=i("/t3+"),I=i("2ChS"),B=i("7EHt"),U=i("f0Cb"),T=i("fXoL");let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=T.Kb({type:e,selectors:[["kt-opinioncumplimiento"]],decls:1,vars:0,template:function(e,t){1&e&&T.Rb(0,"router-outlet")},directives:[n.m],encapsulation:2,changeDetection:0}),e})();var Q=i("QJFE"),j=i("JqCM"),_=i("+BVi"),X=i("1kSV"),H=i("5eHb"),J=i("jhN1"),K=i("ptnc"),Y=i("LIxy"),Z=i("ap2d");let ee=(()=>{class e{constructor(e,t){this.api=e,this.router=t,this.oDetalleCliente={}}GetDetalleOpinionCumplimiento(){return this.api.get("validator/client",{})}GetCliente(e){return this.api.post("validator/client",e)}GetOpinionPreveedor(e){return this.api.post("OpinionCumplimiento/list",e)}ProcesaArchivoPDF(e){return this.api.post("OpinionCumplimiento",e).toPromise()}GetRevisionOpiniones(){return this.api.get("RevisionOpinion",{})}AplicaFiltros(e){return this.api.post("RevisionOpinion/Filter",e)}}return e.\u0275fac=function(t){return new(t||e)(T.dc(Z.a),T.dc(n.h))},e.\u0275prov=T.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var te=i("tk/3"),ie=i("AytR"),ae=i("lJxs");let oe=(()=>{class e{constructor(e){this.httpClient=e}upload(e,t){var i=localStorage.getItem("auth");let a=JSON.parse(i);return this.httpClient.post(`${ie.a.apiUrl}/${e}`,t,{headers:new te.e({Authorization:"Bearer "+a.token}),reportProgress:!0,observe:"events"}).pipe(Object(ae.a)(e=>{switch(e.type){case te.d.UploadProgress:return{status:"progress",message:Math.round(100*e.loaded/e.total)};case te.d.Response:return e.body;default:return"Unhandled"}}))}ProcessCargaArchivoPromise(e){return this.httpOptions=this.getToken(),this.httpClient.get(`${ie.a.apiUrl}/${e}`,Object.assign({},this.httpOptions)).toPromise()}uploadOpinion(e,t){var i=localStorage.getItem("auth");let a=JSON.parse(i);return this.httpClient.post(`${ie.a.apiUrl}/${e}`,t,{headers:new te.e({Authorization:"Bearer "+a.token}),reportProgress:!0,observe:"events"}).pipe(Object(ae.a)(e=>{switch(e.type){case te.d.UploadProgress:return{status:"progress",message:Math.round(100*e.loaded/e.total)};case te.d.Response:return e.body;default:return"Unhandled"}}))}getToken(){var e=localStorage.getItem("id_token");return{headers:new te.e({"Content-Type":"application/json",Authorization:"Bearer "+e})}}}return e.\u0275fac=function(t){return new(t||e)(T.dc(te.b))},e.\u0275prov=T.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ne=["matPaginator7"],re=["sort7"],ce=["popCCliente"];function le(e,t){if(1&e){const e=T.Xb();T.Wb(0,"div"),T.Wb(1,"div",22),T.Wb(2,"div",23),T.Wb(3,"h5",24),T.Rb(4,"i",25),T.Nc(5," Proveedor"),T.Vb(),T.Vb(),T.Wb(6,"div",23),T.Rb(7,"hr"),T.Vb(),T.Vb(),T.Wb(8,"div",22),T.Wb(9,"div",26),T.Wb(10,"div",27),T.Wb(11,"label"),T.Nc(12,"Nombre"),T.Vb(),T.Wb(13,"label",28),T.Nc(14),T.Vb(),T.Vb(),T.Vb(),T.Wb(15,"div",29),T.Wb(16,"div",27),T.Wb(17,"label"),T.Nc(18,"RFC"),T.Vb(),T.Wb(19,"label",28),T.Nc(20),T.Vb(),T.Vb(),T.Vb(),T.Vb(),T.Wb(21,"div",22),T.Wb(22,"div",30),T.Wb(23,"a",31),T.gc("click",function(){return T.Bc(e),T.kc().Regresar(!0)}),T.Nc(24,"Cancelar"),T.Vb(),T.Vb(),T.Vb(),T.Vb()}if(2&e){const e=T.kc();T.Cb(14),T.Pc(" ",e.General.Cliente.NombreCliente,""),T.Cb(6),T.Pc(" ",e.General.Cliente.RFC,"")}}const se=function(e){return{width:e}};function be(e,t){if(1&e&&(T.Wb(0,"div",32),T.Rb(1,"br"),T.Wb(2,"div",33),T.Rb(3,"div",34),T.Vb(),T.Vb()),2&e){const e=T.kc();T.Cb(3),T.qc("ngStyle",T.uc(1,se,e.Avance.message+"%"))}}function de(e,t){if(1&e){const e=T.Xb();T.Wb(0,"div",22),T.Wb(1,"div",35),T.Wb(2,"div",36),T.Wb(3,"h4",37),T.Nc(4,"Archivo Cargado correctamente"),T.Vb(),T.Wb(5,"p"),T.Nc(6," El Archivo se registr\xf3 correctamente."),T.Rb(7,"br"),T.Nc(8," A continuaci\xf3n ser\xe1 validado y recibira una notificaci\xf3n en caso de ser aceptado o rechazado."),T.Vb(),T.Rb(9,"div",38),T.Wb(10,"p",39),T.Wb(11,"button",40),T.gc("click",function(){return T.Bc(e),T.kc().Regresar(!0)}),T.Nc(12,"Aceptar"),T.Vb(),T.Vb(),T.Vb(),T.Vb(),T.Vb()}}function he(e,t){if(1&e){const e=T.Xb();T.Wb(0,"div",41),T.Wb(1,"h4",42),T.Wb(2,"span",43),T.Nc(3," Se ha detectado una carga previa"),T.Vb(),T.Vb(),T.Wb(4,"button",44),T.gc("click",function(){return(0,t.dismiss)("Cross click")}),T.Wb(5,"span",45),T.Nc(6,"\xd7"),T.Vb(),T.Vb(),T.Vb(),T.Wb(7,"div",46),T.Wb(8,"div",22),T.Wb(9,"div",23),T.Wb(10,"div",27),T.Wb(11,"label"),T.Nc(12,"Si desea volver a cargar su opini\xf3n de cumplimiento, favor de ingresar el motivo"),T.Vb(),T.Vb(),T.Vb(),T.Vb(),T.Wb(13,"div",22),T.Wb(14,"div",23),T.Wb(15,"div",27),T.Wb(16,"label"),T.Nc(17,"Motivo:"),T.Vb(),T.Wb(18,"textarea",47),T.gc("ngModelChange",function(t){return T.Bc(e),T.kc().General.Cliente.MotivoActualizacion=t}),T.Vb(),T.Vb(),T.Vb(),T.Vb(),T.Vb(),T.Wb(19,"div",48),T.Wb(20,"button",49),T.gc("click",function(){return T.Bc(e),T.kc().AceptaCarga()}),T.Nc(21,"Aceptar"),T.Vb(),T.Wb(22,"button",50),T.gc("click",function(){return(0,t.close)("Close click")}),T.Nc(23,"Cancelar"),T.Vb(),T.Vb()}if(2&e){const e=T.kc();T.Cb(18),T.qc("ngModel",e.General.Cliente.MotivoActualizacion)}}let pe=(()=>{class e{constructor(e,t,i,a,o,n,r,c,l,s){this.snackBar=e,this.AuthService=t,this.toastr=i,this.spinnerService=a,this.router=o,this.sanitizer=n,this.modalService=r,this.OpinionCumplimientoService=c,this.UploadFilesService=l,this.ref=s,this.VistaPrincipal=new T.p,this.Page={},this.Screen={},this.General={},this.Avance={Break:0},this.Documento={},this.Archivo={},this.uploadResponse={status:"",message:0,filePath:""},this.ListaTipoSolicitud=[],this.modalReference=null,this.displayedColumns7=["No","NombrePerfil","actions"],this.Page.ShowAdd=!1,this.Page.ShowEdit=!1,this.Page.ShowUpload=!1,this.Page.ShowRegistro=!0,this.Page.ShowCargaExitosa=!1,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Cliente={}}ngOnInit(){Object.keys(this.OpinionCumplimientoService.oDetalleCliente).length>0?(this.General.Cliente=this.OpinionCumplimientoService.oDetalleCliente,this.Page.ShowUpload=!0,this.ref.detectChanges()):this.Regresar(!0)}UpLoadFile(e){let t=[];t=e.target.files[0].name;let i=t.substring(t.length-5,t.length);var a=e.target.files[0].size/1024;let o=i.match(/\.(.+)$/)[1].toLowerCase();if(a>1024)return this.toastr.error("Tama\xf1o de archivo no valido, solo se puede cargar un maximo de 1MB","Error"),void(document.getElementById("fileUploadCuenta").value="");if("pdf"==o){const t=new FormData;t.append("file",e.target.files[0]),t.append("data",JSON.stringify(this.General.Cliente)),this.UploadFilesService.uploadOpinion("report/upload",t).subscribe(e=>{try{if(this.uploadResponse=e,"Unhandled"!=e&&Object.entries(e).length>0){if(e.hasOwnProperty("IdFile")){if(this.General.IdFile=e.IdFile,0==this.General.IdFile)return this.ErrorCargaArchivo(),void this.spinnerService.hide();this.Page.ShowRegistro=!1,this.Page.ShowUpload=!1,this.Page.ShowCargaExitosa=!0,this.ref.detectChanges(),this.timeouts=setTimeout(()=>{this.ProcesarArchivo(),this.spinnerService.hide()},1e3)}this.Avance=Object.assign({},this.uploadResponse),this.ref.detectChanges()}100===this.Avance.message&&0==this.Avance.Break&&(this.timeouts=setTimeout(()=>{this.openSnackBar("El archivo se cargo correctamente","Cerrar"),this.Avance={status:"",message:0},this.ref.detectChanges()},2e3)),document.getElementById("fileUploadCuenta").value=""}catch(t){this.Avance={status:"",message:100}}},e=>{this.ErrorCargaArchivo()})}else this.toastr.error("Archivo no v\xe1lido","Error")}ErrorCargaArchivo(){this.Avance.Break=1,this.Avance={status:"",message:0},this.ref.detectChanges(),document.getElementById("fileUploadCuenta").value="",this.toastr.error("Ocurrio un error al cargar el archivo")}Sube(){this.General.Cliente.MotivoActualizacion="",0==this.General.Cliente.Cargado?(this.uploadResponse={status:"",message:0,filePath:""},document.getElementById("fileUploadCuenta").click()):(this.modalReference=this.modalService.open(this.popUpRecarga,{size:"lg"}),this.ref.markForCheck())}AceptaCarga(){null==this.General.Cliente.MotivoActualizacion||this.General.Cliente.MotivoActualizacion.length<5?this.openSnackBar("Motivo no v\xe1lido","Cerrar"):(this.modalReference.close(),this.uploadResponse={status:"",message:0,filePath:""},document.getElementById("fileUploadCuenta").click())}Regresar(e){this.VistaPrincipal.emit(e)}ProcesarArchivo(){if(this.General.IdFile){this.General.Cliente.Cargado=1;let e={};e.InitProcess=this.General.IdFile,e.Reference=this.General.Cliente.Reference,this.OpinionCumplimientoService.ProcesaArchivoPDF(e).then(e=>{switch(e.Result){case 0:this.toastr.error("Se detect\xf3 un RFC incorrecto por favor valide su archivo.");break;case 3e3:this.toastr.error(e.Message)}},e=>{console.log("Ocurrio un error")})}}handleError(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}openSnackBar(e,t){this.snackBar.open(e,t,{duration:2e3})}}return e.\u0275fac=function(t){return new(t||e)(T.Qb(R.a),T.Qb(_.a),T.Qb(H.b),T.Qb(j.c),T.Qb(n.h),T.Qb(J.b),T.Qb(X.y),T.Qb(ee),T.Qb(oe),T.Qb(T.i))},e.\u0275cmp=T.Kb({type:e,selectors:[["kt-cargaoponioncumplimiento"]],viewQuery:function(e,t){if(1&e&&(T.Gc(ne,!0),T.Gc(re,!0),T.Gc(ce,!0)),2&e){let e;T.xc(e=T.hc())&&(t.paginator7=e.first),T.xc(e=T.hc())&&(t.sort7=e.first),T.xc(e=T.hc())&&(t.popUpRecarga=e.first)}},outputs:{VistaPrincipal:"VistaPrincipal"},decls:33,vars:5,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[4,"ngIf"],[1,"row",3,"hidden"],[1,"col-xs-12","col-md-4"],[1,"col-xs-12","col-md-6"],[1,"row","mt-10"],["id","divOficiosUpLoad",2,"cursor","pointer",3,"click"],[1,"fa","fa-cloud-upload-alt",2,"font-size","40px","margin-top","28px","color","#54637A"],[2,"font-size","11px","font-family","Verdana"],[2,"float","left","width","60%"],[2,"margin-top","-7px"],["type","file","id","fileUploadCuenta",2,"display","none",3,"change"],["class","col-md-8",4,"ngIf"],["class","row",4,"ngIf"],["popCCliente",""],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"col-md-12"],[2,"color","#7AB800 !important"],[1,"fa","fa-user"],[1,"col-md-5"],[1,"form-group"],["type","text","aria-describedby","helpEmpresa",1,"form-control","form-control-sm"],[1,"col-md-2"],[1,"d-flex","align-items-center","p-2"],["href","javascript:;",1,"btn","btn-transparent-danger","font-weight-bold","mr-2",3,"click"],[1,"col-md-8"],[1,"progress"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",3,"ngStyle"],[1,"col-md-6"],["role","alert",1,"alert","alert-success","mb-5","p-5"],[1,"alert-heading"],[1,"border-bottom","border-white","opacity-20","mb-5"],[1,"mb-0"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"text-muted"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["maxlength","250","cols","6","rows","3",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(e,t){1&e&&(T.Wb(0,"div",0),T.Wb(1,"div",1),T.Wb(2,"div",2),T.Wb(3,"h2",3),T.Rb(4,"i",4),T.Nc(5," Registro de Opini\xf3n de Cumplimiento "),T.Vb(),T.Vb(),T.Vb(),T.Wb(6,"div",5),T.Lc(7,le,25,2,"div",6),T.Wb(8,"div",7),T.Rb(9,"div",8),T.Wb(10,"div",9),T.Wb(11,"div",10),T.Wb(12,"div",11),T.gc("click",function(){return t.Sube()}),T.Rb(13,"i",12),T.Wb(14,"p",13),T.Nc(15,"Agregar Archivo"),T.Vb(),T.Vb(),T.Wb(16,"div",14),T.Rb(17,"br"),T.Rb(18,"br"),T.Wb(19,"p"),T.Nc(20," Los formatos de archivos aceptados son: "),T.Vb(),T.Wb(21,"ul",15),T.Wb(22,"li"),T.Nc(23,"PDF (.pdf) m\xe1ximo 1MB"),T.Vb(),T.Vb(),T.Vb(),T.Wb(24,"input",16),T.gc("change",function(e){return t.UpLoadFile(e)}),T.Vb(),T.Lc(25,be,4,3,"div",17),T.Vb(),T.Vb(),T.Vb(),T.Lc(26,de,13,0,"div",18),T.Vb(),T.Vb(),T.Wb(27,"div"),T.Lc(28,he,24,1,"ng-template",null,19,T.Mc),T.Vb(),T.Wb(30,"ngx-spinner",20),T.Wb(31,"p",21),T.Nc(32," Loading... "),T.Vb(),T.Vb()),2&e&&(T.Cb(7),T.qc("ngIf",t.Page.ShowRegistro),T.Cb(1),T.qc("hidden",!t.Page.ShowUpload),T.Cb(17),T.qc("ngIf",t.Avance.message),T.Cb(1),T.qc("ngIf",t.Page.ShowCargaExitosa),T.Cb(4),T.qc("fullScreen",!0))},directives:[o.n,j.a,o.o,r.d,r.k,r.o,r.r],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}"],changeDetection:0}),e})();const ue=["sharecmp"],me=["matPaginator7"],ge=["sort7"];function fe(e,t){if(1&e&&(T.Wb(0,"option",17),T.Nc(1),T.Vb()),2&e){const e=t.$implicit;T.qc("value",e.Reference),T.Cb(1),T.Pc(" ",e.RazonSocial," ")}}function ve(e,t){if(1&e){const e=T.Xb();T.Wb(0,"div",4),T.Wb(1,"div",5),T.Wb(2,"div",6),T.Wb(3,"h2",7),T.Rb(4,"i",8),T.Nc(5," Selecci\xf3n de Empresa "),T.Vb(),T.Vb(),T.Vb(),T.Wb(6,"div",9),T.Wb(7,"div"),T.Wb(8,"div",10),T.Wb(9,"div",11),T.Wb(10,"div",12),T.Wb(11,"label"),T.Nc(12,"Seleccione la empresa a la que desea enviar su oponion de cumplimiento"),T.Vb(),T.Wb(13,"select",13),T.gc("ngModelChange",function(t){return T.Bc(e),T.kc().General.SeleccionEmpresa.Reference=t}),T.Lc(14,fe,2,2,"option",14),T.Vb(),T.Vb(),T.Vb(),T.Vb(),T.Wb(15,"div",10),T.Wb(16,"div",15),T.Wb(17,"a",16),T.gc("click",function(){return T.Bc(e),T.kc().SeleccionarEmpresa()}),T.Nc(18,"Aceptar"),T.Vb(),T.Vb(),T.Vb(),T.Vb(),T.Vb(),T.Vb()}if(2&e){const e=T.kc();T.Cb(13),T.qc("ngModel",e.General.SeleccionEmpresa.Reference)("value",0),T.Cb(1),T.qc("ngForOf",e.ListaEmpresas)}}function Ce(e,t){if(1&e){const e=T.Xb();T.Wb(0,"button",38),T.gc("click",function(){return T.Bc(e),T.kc(2).ShowLoad()}),T.Rb(1,"i",39),T.Nc(2," Cargar Opini\xf3n "),T.Vb()}}function Se(e,t){if(1&e){const e=T.Xb();T.Wb(0,"button",38),T.gc("click",function(){return T.Bc(e),T.kc(2).CargaDatos()}),T.Rb(1,"i",40),T.Nc(2," Actualizar Estatus "),T.Vb()}}function Ve(e,t){1&e&&(T.Wb(0,"mat-header-cell",41),T.Nc(1,"Archivos Cargados"),T.Vb())}function We(e,t){if(1&e&&(T.Wb(0,"mat-cell"),T.Nc(1),T.Vb()),2&e){const e=t.$implicit;T.Cb(1),T.Pc(" ",e.Actualizaciones," ")}}function we(e,t){1&e&&(T.Wb(0,"mat-header-cell",41),T.Nc(1," Mes "),T.Vb())}function Pe(e,t){if(1&e&&(T.Wb(0,"mat-cell"),T.Nc(1),T.Vb()),2&e){const e=t.$implicit;T.Cb(1),T.Pc(" ",e.Mes," ")}}function ke(e,t){1&e&&(T.Wb(0,"mat-header-cell",41),T.Nc(1," Estatus "),T.Vb())}function De(e,t){if(1&e&&(T.Wb(0,"div"),T.Wb(1,"span",44),T.Nc(2),T.Vb(),T.Vb()),2&e){const e=T.kc().$implicit;T.Cb(2),T.Pc(" ",e.Estatus,"")}}function Re(e,t){if(1&e&&(T.Wb(0,"div"),T.Wb(1,"span",45),T.Nc(2),T.Vb(),T.Vb()),2&e){const e=T.kc().$implicit;T.Cb(2),T.Pc(" ",e.Estatus,"")}}function Fe(e,t){if(1&e&&(T.Wb(0,"div"),T.Wb(1,"span",46),T.Nc(2),T.Vb(),T.Vb()),2&e){const e=T.kc().$implicit;T.Cb(2),T.Pc(" ",e.Estatus,"")}}function Oe(e,t){if(1&e&&(T.Wb(0,"mat-cell"),T.Wb(1,"div",42),T.Lc(2,De,3,1,"div",43),T.Lc(3,Re,3,1,"div",43),T.Lc(4,Fe,3,1,"div",43),T.Vb(),T.Vb()),2&e){const e=t.$implicit;T.Cb(1),T.qc("ngSwitch",e.Estatus),T.Cb(1),T.qc("ngSwitchCase","Rechazado"),T.Cb(1),T.qc("ngSwitchCase","Pendiente Revisi\xf3n"),T.Cb(1),T.qc("ngSwitchCase","Recibida")}}function ye(e,t){1&e&&T.Rb(0,"mat-header-row")}function xe(e,t){1&e&&T.Rb(0,"mat-row")}const Le=function(){return[25,50,75,100]};function Ne(e,t){if(1&e){const e=T.Xb();T.Wb(0,"div",4),T.Wb(1,"div",10),T.Wb(2,"div",18),T.Wb(3,"h1",19),T.Nc(4),T.Rb(5,"i",20),T.Vb(),T.Vb(),T.Wb(6,"span",21),T.Nc(7,"Registro de Opinion de Cumplimiento"),T.Vb(),T.Vb(),T.Wb(8,"div",9),T.Wb(9,"div",10),T.Lc(10,Ce,3,0,"button",22),T.Nc(11,"\xa0 "),T.Lc(12,Se,3,0,"button",22),T.Nc(13,"\xa0 "),T.Vb(),T.Wb(14,"div",10),T.Wb(15,"div",23),T.Rb(16,"br"),T.Wb(17,"div",24),T.Wb(18,"mat-form-field"),T.Wb(19,"input",25),T.gc("keyup",function(t){return T.Bc(e),T.kc().applyFilter7(t.target.value)}),T.Vb(),T.Vb(),T.Vb(),T.Vb(),T.Wb(20,"div",26),T.Rb(21,"mat-paginator",27,28),T.Wb(23,"mat-table",29,30),T.Ub(25,31),T.Lc(26,Ve,2,0,"mat-header-cell",32),T.Lc(27,We,2,1,"mat-cell",33),T.Tb(),T.Ub(28,34),T.Lc(29,we,2,0,"mat-header-cell",32),T.Lc(30,Pe,2,1,"mat-cell",33),T.Tb(),T.Ub(31,35),T.Lc(32,ke,2,0,"mat-header-cell",32),T.Lc(33,Oe,5,4,"mat-cell",33),T.Tb(),T.Lc(34,ye,1,0,"mat-header-row",36),T.Lc(35,xe,1,0,"mat-row",37),T.Vb(),T.Vb(),T.Vb(),T.Vb(),T.Vb()}if(2&e){const e=T.kc();T.Cb(4),T.Pc(" ",e.General.DatosEmpresa.RazonSocial," "),T.Cb(6),T.qc("ngIf",e.Screen.Post),T.Cb(2),T.qc("ngIf",e.Screen.Post),T.Cb(9),T.qc("pageSizeOptions",T.tc(7,Le)),T.Cb(2),T.qc("dataSource",e.dataSourceSolicitudes),T.Cb(11),T.qc("matHeaderRowDef",e.displayedColumns7),T.Cb(1),T.qc("matRowDefColumns",e.displayedColumns7)}}function Ee(e,t){if(1&e){const e=T.Xb();T.Wb(0,"div"),T.Wb(1,"kt-cargaoponioncumplimiento",47,48),T.gc("VistaPrincipal",function(t){return T.Bc(e),T.kc().ShowVistaPrincipal(t)}),T.Vb(),T.Vb()}}let Ge=(()=>{class e{constructor(e,t,i,a,o,n,r,c,l,s,b){this.snackBar=e,this.AuthService=t,this.modalService=i,this.toastr=a,this.spinnerService=o,this.router=n,this.sanitizer=r,this.ScreenActionsService=c,this.DashboardService=l,this.ref=s,this.OpinionCumplimientoService=b,this.Page={},this.Screen={},this.General={},this.ListaEmpresas=[],this.displayedColumns7=["Actualizaciones","Mes","Estatus"],this.Page.ShowLoad=!1,this.Page.ShowEdit=!1,this.Page.ShowList=!1,this.Page.ShowSeleccionEmpresa=!1,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.DatosEmpresa={},this.General.SeleccionEmpresa={}}ngOnInit(){this.ScreenActionsService.PromiseAcciones(this.Page.Controller).then(e=>{this.Screen=e,0!=Object.keys(this.Screen).length&&this.Screen.Get?0==Object.keys(this.DashboardService.oEmpresa).length&&this.DashboardService.oListaEmpresas.length>0?(this.ListaEmpresas=JSON.parse(JSON.stringify(this.DashboardService.oListaEmpresas)),this.Page.ShowSeleccionEmpresa=!0,this.ref.markForCheck()):Object.keys(this.DashboardService.oEmpresa).length>0&&this.DashboardService.oListaEmpresas.length>0?(this.General.DatosEmpresa=this.DashboardService.oEmpresa,this.OpinionCumplimientoService.oDetalleCliente=this.DashboardService.oEmpresa,this.CargaDatos(),this.Page.ShowList=!0):(this.router.navigate(["/dashboard"]),this.Regresar()):(this.toastr.error("Si intenta acceder a una opci\xf3n no permitida su cuenta ser\xe1 suspendida"),this.router.navigate(["dashboard"]))},e=>{this.handleError(e)})}CargaCliente(){}CargaDatos(){if(this.spinnerService.show(),this.dataSourceSolicitudes=new F.k([]),null==this.General.DatosEmpresa||null==this.General.DatosEmpresa.Reference||""==this.General.DatosEmpresa.Reference)return this.toastr.error("Ocurri\xf3 un error al contactar el servidor"),void this.router.navigate(["/dashboard"]);let e={};e.RFC=this.General.DatosEmpresa.RFC,e.Reference=this.General.DatosEmpresa.Reference,this.OpinionCumplimientoService.GetOpinionPreveedor(e).subscribe(e=>{this.dataSourceSolicitudes=new F.k(e),this.dataSourceSolicitudes.paginator=this.paginator7,this.dataSourceSolicitudes.sort=this.sort7,this.spinnerService.hide(),this.ref.markForCheck()},e=>{this.handleError(e)})}ShowLoad(){this.Page.ShowLoad=!0,this.Page.ShowList=!1}ShowVistaPrincipal(e){this.CargaCliente(),this.Page.ShowLoad=!1,this.Page.ShowList=e,this.CargaDatos()}ActualizarBandeja(){this.CargaDatos()}applyFilter7(e){this.dataSourceSolicitudes.filter=e.trim().toLowerCase(),this.dataSourceSolicitudes.paginator&&this.dataSourceSolicitudes.paginator.firstPage()}Regresar(){}SeleccionarEmpresa(){if(null==this.General.SeleccionEmpresa.Reference||""==this.General.SeleccionEmpresa.Reference)return void this.toastr.error("Debe seleccionar una empresa");const e=this.ListaEmpresas.find(e=>e.Reference===this.General.SeleccionEmpresa.Reference);null!=e&&null!=e?(this.General.DatosEmpresa.RazonSocial=e.RazonSocial,this.General.DatosEmpresa.Reference=e.Reference,this.CargaDatos(),this.Page.ShowSeleccionEmpresa=!1,this.OpinionCumplimientoService.oDetalleCliente.Reference=e.Reference,this.OpinionCumplimientoService.oDetalleCliente.RFC=e.RFC,this.OpinionCumplimientoService.oDetalleCliente.NombreCliente=e.Cliente,this.OpinionCumplimientoService.oDetalleCliente.Cargado=e.Cargado,this.Page.ShowList=!0,this.ref.markForCheck()):this.toastr.error("selecci\xf3n no v\xe1lida")}handleError(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}openSnackBar(e,t){this.snackBar.open(e,t,{duration:2e3})}}return e.\u0275fac=function(t){return new(t||e)(T.Qb(R.a),T.Qb(_.a),T.Qb(X.y),T.Qb(H.b),T.Qb(j.c),T.Qb(n.h),T.Qb(J.b),T.Qb(K.a),T.Qb(Y.a),T.Qb(T.i),T.Qb(ee))},e.\u0275cmp=T.Kb({type:e,selectors:[["kt-bandejaopinion"]],viewQuery:function(e,t){if(1&e&&(T.Gc(ue,!0),T.Gc(me,!0),T.Gc(ge,!0)),2&e){let e;T.xc(e=T.hc())&&(t.sharecmp=e.first),T.xc(e=T.hc())&&(t.paginator7=e.first),T.xc(e=T.hc())&&(t.sort7=e.first)}},decls:6,vars:4,consts:[["class","card card-custom",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["name","select",1,"form-control",3,"ngModel","value","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","p-2"],["href","javascript:;",1,"btn","btn-transparent-success","font-weight-bold","mr-2",3,"click"],[3,"value"],[1,"col-xs-12","col-md-12","mt-10"],[1,"d-flex","align-items-center","text-dark","text-hover-primary","font-size-h5","font-weight-bold","ml-5"],[1,"flaticon2-correct","text-success","icon-md","ml-2"],[1,"text-muted","ml-15"],["type","button","style","color: #7AB800 !important","class","btn btn-outline-secondary",3,"click",4,"ngIf"],[1,"col-xs-12","col-md-12",2,"flex","0 0 0% !important"],[1,"example-header"],["matInput","","placeholder","Buscar",3,"keyup"],[1,"col-xs-12","col-md-12"],[3,"pageSizeOptions"],["matPaginator7",""],["matSort","",3,"dataSource"],["sort7","matSort"],["matColumnDef","Actualizaciones"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Mes"],["matColumnDef","Estatus"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["type","button",1,"btn","btn-outline-secondary",2,"color","#7AB800 !important",3,"click"],[1,"fas","fa-upload"],[1,"fas","fa-circle-notch"],["mat-sort-header",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"label","font-weight-bold","label-lg","label-light-danger","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-primary","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-success","label-inline"],[3,"VistaPrincipal"],["sharecmp",""]],template:function(e,t){1&e&&(T.Lc(0,ve,19,3,"div",0),T.Lc(1,Ne,36,8,"div",0),T.Lc(2,Ee,3,0,"div",1),T.Wb(3,"ngx-spinner",2),T.Wb(4,"p",3),T.Nc(5," Loading... "),T.Vb(),T.Vb()),2&e&&(T.qc("ngIf",t.Page.ShowSeleccionEmpresa),T.Cb(1),T.qc("ngIf",t.Page.ShowList),T.Cb(1),T.qc("ngIf",t.Page.ShowLoad),T.Cb(1),T.qc("fullScreen",!0))},directives:[o.n,j.a,r.w,r.o,r.r,o.m,r.s,r.y,f.c,g.b,G.a,F.j,q.a,F.c,F.e,F.b,F.g,F.i,F.d,q.b,F.a,o.p,o.q,F.f,F.h,pe],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}.mat-table[_ngcontent-%COMP%]{overflow-x:scroll}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{word-wrap:normal;display:table-cell;padding:0 10px;line-break:unset;width:90%;white-space:nowrap;overflow:hidden;vertical-align:middle}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{display:table-row}"],changeDetection:0}),e})();var Ae=i("wl6q");let Me=(()=>{class e{constructor(e,t,i){this.api=e,this.router=t,this.http=i,this.oDetalleSolicitud={}}download(e,t){var i=localStorage.getItem("auth");let a=JSON.parse(i);return this.http.get(`${ie.a.apiUrl}/${e}/${t}`,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token},responseType:"blob"}).toPromise()}downloadPost(e,t){var i=localStorage.getItem("auth");let a=JSON.parse(i);return this.http.post(`${ie.a.apiUrl}/${e}/`,t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token},responseType:"blob"}).toPromise()}}return e.\u0275fac=function(t){return new(t||e)(T.dc(Z.a),T.dc(n.h),T.dc(te.b))},e.\u0275prov=T.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const qe=["sharecmp"],ze=["matPaginator7"],Ie=["sort7"];function Be(e,t){if(1&e&&(T.Wb(0,"option",57),T.Nc(1),T.Vb()),2&e){const e=t.$implicit;T.qc("value",e.Valor),T.Cb(1),T.Pc(" ",e.Descripcion," ")}}function Ue(e,t){1&e&&(T.Wb(0,"mat-header-cell"),T.Nc(1," Actions "),T.Vb())}function Te(e,t){if(1&e){const e=T.Xb();T.Wb(0,"mat-cell"),T.Wb(1,"a",58),T.gc("click",function(){T.Bc(e);const i=t.$implicit;return T.kc().DescargarOpinion(i)}),T.Rb(2,"i",59),T.Vb(),T.Vb()}}function $e(e,t){1&e&&(T.Wb(0,"mat-header-cell",60),T.Nc(1,"Verifica Datos"),T.Vb())}function Qe(e,t){if(1&e){const e=T.Xb();T.Wb(0,"mat-cell"),T.Wb(1,"span",61),T.gc("click",function(){T.Bc(e);const i=t.$implicit;return T.kc().VerificaSAT(i)}),T.Nc(2," Validar "),T.Vb(),T.Vb()}}function je(e,t){1&e&&(T.Wb(0,"mat-header-cell",60),T.Nc(1," Validacion Documento "),T.Vb())}function _e(e,t){if(1&e&&(T.Wb(0,"div"),T.Wb(1,"span",64),T.Nc(2),T.Vb(),T.Vb()),2&e){const e=T.kc().$implicit;T.Cb(2),T.Pc(" ",e.StatusValidacion,"")}}function Xe(e,t){if(1&e&&(T.Wb(0,"div"),T.Wb(1,"span",65),T.Nc(2),T.Vb(),T.Vb()),2&e){const e=T.kc().$implicit;T.Cb(2),T.Pc(" ",e.StatusValidacion,"")}}function He(e,t){if(1&e&&(T.Wb(0,"div"),T.Wb(1,"span",66),T.Nc(2),T.Vb(),T.Vb()),2&e){const e=T.kc().$implicit;T.Cb(2),T.Pc(" ",e.StatusValidacion,"")}}function Je(e,t){if(1&e&&(T.Wb(0,"mat-cell"),T.Wb(1,"div",62),T.Lc(2,_e,3,1,"div",63),T.Lc(3,Xe,3,1,"div",63),T.Lc(4,He,3,1,"div",63),T.Vb(),T.Vb()),2&e){const e=t.$implicit;T.Cb(1),T.qc("ngSwitch",e.StatusValidacion),T.Cb(1),T.qc("ngSwitchCase","Sin posibles ediciones"),T.Cb(1),T.qc("ngSwitchCase","Documento Editado"),T.Cb(1),T.qc("ngSwitchCase","Posiblemente Editado")}}function Ke(e,t){1&e&&(T.Wb(0,"mat-header-cell",60),T.Nc(1,"Etiqueta"),T.Vb())}function Ye(e,t){if(1&e&&(T.Wb(0,"mat-cell"),T.Wb(1,"span",67),T.Nc(2),T.Vb(),T.Vb()),2&e){const e=t.$implicit;T.Cb(1),T.Hc("background-color:"+e.Color),T.Cb(1),T.Pc(" ",e.Etiqueta," ")}}function Ze(e,t){1&e&&(T.Wb(0,"mat-header-cell",60),T.Nc(1,"Fecha Documento"),T.Vb())}function et(e,t){if(1&e&&(T.Wb(0,"mat-cell"),T.Nc(1),T.lc(2,"date"),T.Vb()),2&e){const e=t.$implicit;T.Cb(1),T.Pc(" ",T.nc(2,1,e.FechaDocumento,"yyyy-MM-dd")," ")}}function tt(e,t){1&e&&(T.Wb(0,"mat-header-cell",60),T.Nc(1," RFC "),T.Vb())}function it(e,t){if(1&e&&(T.Wb(0,"mat-cell"),T.Nc(1),T.Vb()),2&e){const e=t.$implicit;T.Cb(1),T.Pc(" ",e.RFC," ")}}function at(e,t){1&e&&(T.Wb(0,"mat-header-cell",60),T.Nc(1," Opinion "),T.Vb())}function ot(e,t){if(1&e&&(T.Wb(0,"mat-cell"),T.Nc(1),T.Vb()),2&e){const e=t.$implicit;T.Cb(1),T.Pc(" ",e.Opinion," ")}}function nt(e,t){1&e&&(T.Wb(0,"mat-header-cell",60),T.Nc(1," Razon Social "),T.Vb())}function rt(e,t){if(1&e&&(T.Wb(0,"mat-cell"),T.Nc(1),T.Vb()),2&e){const e=t.$implicit;T.Cb(1),T.Pc(" ",e.RazonSocial," ")}}function ct(e,t){1&e&&(T.Wb(0,"mat-header-cell",60),T.Nc(1," Fecha Consulta Documento SAT "),T.Vb())}function lt(e,t){if(1&e&&(T.Wb(0,"mat-cell"),T.Nc(1),T.Vb()),2&e){const e=t.$implicit;T.Cb(1),T.Pc(" ",e.FechaConsulta," ")}}function st(e,t){1&e&&(T.Wb(0,"mat-header-cell",60),T.Nc(1," Fecha Carga Documento "),T.Vb())}function bt(e,t){if(1&e&&(T.Wb(0,"mat-cell"),T.Nc(1),T.lc(2,"date"),T.Vb()),2&e){const e=t.$implicit;T.Cb(1),T.Pc(" ",T.nc(2,1,e.FechaCargaDocumento,"yyyy-MM-dd @ HH:mm")," ")}}function dt(e,t){1&e&&(T.Wb(0,"mat-header-cell",60),T.Nc(1," Folio "),T.Vb())}function ht(e,t){if(1&e&&(T.Wb(0,"mat-cell"),T.Nc(1),T.Vb()),2&e){const e=t.$implicit;T.Cb(1),T.Pc(" ",e.Folio," ")}}function pt(e,t){1&e&&(T.Wb(0,"mat-header-cell",60),T.Nc(1," Cadena Original "),T.Vb())}function ut(e,t){if(1&e&&(T.Wb(0,"mat-cell"),T.Nc(1),T.Vb()),2&e){const e=t.$implicit;T.Cb(1),T.Pc(" ",e.CadenaOriginal," ")}}function mt(e,t){1&e&&(T.Wb(0,"mat-header-cell",60),T.Nc(1," SelloDigital "),T.Vb())}function gt(e,t){if(1&e&&(T.Wb(0,"mat-cell"),T.Nc(1),T.Vb()),2&e){const e=t.$implicit;T.Cb(1),T.Pc(" ",e.SelloDigital," ")}}function ft(e,t){1&e&&T.Rb(0,"mat-header-row")}function vt(e,t){1&e&&T.Rb(0,"mat-row")}function Ct(e,t){if(1&e){const e=T.Xb();T.Wb(0,"div"),T.Wb(1,"kt-cargaoponioncumplimiento",68,69),T.gc("VistaPrincipal",function(t){return T.Bc(e),T.kc().ShowVistaPrincipal(t)}),T.Vb(),T.Vb()}}const St=function(){return[25,50,75,100]},Vt=[{path:"",component:$,children:[{path:"operations/verdict",component:Ge},{path:"operations/vendorsreview",component:(()=>{class e{constructor(e,t,i,a,o,n,r,c,l,s,b,d){this.snackBar=e,this.AuthService=t,this.modalService=i,this.toastr=a,this.spinnerService=o,this.router=n,this.sanitizer=r,this.ScreenActionsService=c,this.ExcelService=l,this.ref=s,this.OpinionCumplimientoService=b,this.DownloadService=d,this.Page={},this.Screen={},this.General={},this.panelOpenState=!1,this.ListaTipoOpinion=[],this.displayedColumns7=["actions","Validacion","StatusValidacion","Etiqueta","FechaDocumento","RFC","Opinion","RazonSocial","FechaConsulta","FechaCargaDocumento","Folio","CadenaOriginal","SelloDigital"],this.Page.ShowLoad=!1,this.Page.ShowRechazo=!1,this.Page.ShowEdit=!1,this.Page.ShowList=!1,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Filtros={},this.ListaTipoOpinion.push({Valor:1,Descripcion:"Negativo"},{Valor:2,Descripcion:"Positivo"},{Valor:3,Descripcion:"Todas"}),this.General.Data=[]}ngOnInit(){this.ScreenActionsService.PromiseAcciones(this.Page.Controller).then(e=>{this.Screen=e,0!=Object.keys(this.Screen).length&&this.Screen.Get?(this.ref.markForCheck(),this.CargaDatos()):(this.toastr.error("Si intenta acceder a una opci\xf3n no permitida su cuenta ser\xe1 suspendida"),this.router.navigate(["dashboard"]))},e=>{this.handleError(e)})}CargaDatos(){this.Page.ShowList=!0,this.General.Data.length=0,this.spinnerService.show(),this.dataSourceSolicitudes=new F.k([]),this.OpinionCumplimientoService.GetRevisionOpiniones().subscribe(e=>{this.General.Data=e,this.dataSourceSolicitudes=new F.k(e),this.dataSourceSolicitudes.paginator=this.paginator7,this.dataSourceSolicitudes.sort=this.sort7,this.spinnerService.hide(),this.ref.markForCheck()},e=>{this.handleError(e)})}AplicaFiltros(){0!=Object.keys(this.General.Filtros).length?null==this.General.Filtros.FechaFinal||null==this.General.Filtros.FechaFinal||""==this.General.Filtros.FechaFinal||null!=this.General.Filtros.FechaInicial&&(null!=this.General.Filtros.FechaInicial||""!=this.General.Filtros.FechaInicial)?(this.General.Data.length=0,this.OpinionCumplimientoService.AplicaFiltros(this.General.Filtros).subscribe(e=>{this.General.Data=e,this.dataSourceSolicitudes=new F.k(e),this.dataSourceSolicitudes.paginator=this.paginator7,this.dataSourceSolicitudes.sort=this.sort7,this.spinnerService.hide(),this.ref.markForCheck()},e=>{this.handleError(e)})):this.toastr.error("Debe seleccionar la fecha inicial"):this.toastr.error("Filtros no v\xe1lidos","Error")}Exportar(){let e=this.General.Data.map(({FechaDocumento:e,StatusValidacion:t,Etiqueta:i,RFC:a,Folio:o,RazonSocial:n,Opinion:r,FechaConsulta:c,CadenaOriginal:l,SelloDigital:s,FechaCargaDocumento:b})=>({FechaDocumento:e,StatusValidacion:t,Etiqueta:i,RFC:a,Folio:o,RazonSocial:n,Opinion:r,FechaConsulta:c,CadenaOriginal:l,SelloDigital:s,FechaCargaDocumento:b}));this.spinnerService.show(),this.ExcelService.exportAsExcelFile(e,"OpinionProveedores"),this.spinnerService.hide()}ResetData(){this.CargaDatos()}ShowLoad(){this.Page.ShowLoad=!0,this.Page.ShowList=!1}ShowVistaPrincipal(e){this.Page.ShowLoad=!1,this.Page.ShowRechazo=!1,this.Page.ShowList=e,this.CargaDatos()}ActualizarBandeja(){this.CargaDatos()}DescargarOpinion(e){let t={};t.Value=e.Value,t.RFC=e.RFC,this.spinnerService.show(),this.DownloadService.downloadPost("report/vendorverdict",t).then(e=>{var i=new Blob([e],{type:"application/pdf"}),a=URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.target="_blank",o.download="OpinionCumplimiento_"+t.RFC+".pdf",document.body.appendChild(o),o.click(),this.spinnerService.hide()},e=>{this.toastr.error("Ocurrio un error al descargar la infomaci\xf3n"),this.spinnerService.hide()})}VerificaSAT(e){let t="",i="",a=new Date(e.FechaDocumento),o=a.getDate(),n=a.getMonth()+1,r=a.getFullYear(),c="",l="";l=n<10?"0"+n:n.toString(),c=o<10?"0"+o:o.toString(),t=`${e.Folio}_${e.RFC}_${c}-${l}-${r}_${e.Digito}`,i="https://siat.sat.gob.mx/app/qr/faces/pages/mobile/validadorqr.jsf?D1=1&D2=1&D3="+t,window.open("about:blank","_blank").location.href=i}applyFilter7(e){this.dataSourceSolicitudes.filter=e.trim().toLowerCase(),this.dataSourceSolicitudes.paginator&&this.dataSourceSolicitudes.paginator.firstPage()}handleError(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}openSnackBar(e,t){this.snackBar.open(e,t,{duration:2e3})}}return e.\u0275fac=function(t){return new(t||e)(T.Qb(R.a),T.Qb(_.a),T.Qb(X.y),T.Qb(H.b),T.Qb(j.c),T.Qb(n.h),T.Qb(J.b),T.Qb(K.a),T.Qb(Ae.a),T.Qb(T.i),T.Qb(ee),T.Qb(Me))},e.\u0275cmp=T.Kb({type:e,selectors:[["kt-bandejarevisionopinion"]],viewQuery:function(e,t){if(1&e&&(T.Gc(qe,!0),T.Gc(ze,!0),T.Gc(Ie,!0)),2&e){let e;T.xc(e=T.hc())&&(t.sharecmp=e.first),T.xc(e=T.hc())&&(t.paginator7=e.first),T.xc(e=T.hc())&&(t.sort7=e.first)}},decls:117,vars:16,consts:[[1,"card","card-custom",3,"hidden"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[1,"row"],[1,"col-xs-12","col-md-12"],[3,"expanded","expandedChange"],[1,"Oferta",2,"font-weight","bold"],[1,"fas","fa-filter"],[1,"col-xs-12","col-md-2"],[1,"form-group"],["type","text","maxlength","13","aria-describedby","helpRFCCliente","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-xs-12","col-md-3"],["type","text","maxlength","50","aria-describedby","helpRazonSocial","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["required","","name","select","name","ddlTipoBusqueda",1,"form-control","form-control-sm",3,"value","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","date","maxlength","4","aria-describedby","FechaInicialhelp","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","date","maxlength","4","aria-describedby","FechaFinalhelp","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-md-1"],["type","reset","name","edit",1,"btn","btn-success","btn-sm",2,"margin-top","25px",3,"click"],[1,"fas","fa-search"],["href","javascript:void(0)",1,"btn","btn-danger","btn-sm",2,"margin-top","25px",3,"click"],[1,"far","fa-times-circle"],[1,"col-xs-12","col-md-9"],[1,"col-xs-12","col-md-3","text-right"],["type","button","data-toggle","tooltip","title","Exportar datos a Excel",1,"btn","btn-outline-secondary",2,"color","#7AB800 !important",3,"click"],[1,"fas","fa-file-excel"],[1,"col-xs-12","col-md-12",2,"flex","0 0 0% !important"],[1,"example-header"],["matInput","","placeholder","Buscar",3,"keyup"],[3,"pageSizeOptions"],["matPaginator7",""],["matSort","",3,"dataSource"],["sort7","matSort"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Validacion"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","StatusValidacion"],["matColumnDef","Etiqueta"],["matColumnDef","FechaDocumento"],["matColumnDef","RFC"],["matColumnDef","Opinion"],["matColumnDef","RazonSocial"],["matColumnDef","FechaConsulta"],["matColumnDef","FechaCargaDocumento"],["matColumnDef","Folio"],["matColumnDef","CadenaOriginal"],["matColumnDef","SelloDigital"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[3,"value"],["href","javascript:;","title","Descargar Opinion de Cumplimiento",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-primary","btn-icon",3,"click"],[1,"fas","fa-cloud-download-alt"],["mat-sort-header",""],["data-toggle","tooltip","title","Consultar datos en SAT",1,"text-muted",2,"text-decoration","underline","cursor","pointer",3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"label","font-weight-bold","label-lg","label-light-success","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-danger","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-warning","label-inline"],[2,"color","#fff","border-radius","2px","padding","3px","font-size","12px"],[3,"VistaPrincipal"],["sharecmp",""]],template:function(e,t){1&e&&(T.Wb(0,"div",0),T.Wb(1,"div",1),T.Wb(2,"div",2),T.Wb(3,"h2",3),T.Rb(4,"i",4),T.Nc(5," Revisi\xf3n de opinion de cumplimiento para proveedores"),T.Vb(),T.Vb(),T.Vb(),T.Wb(6,"div",5),T.Wb(7,"div",6),T.Wb(8,"div",7),T.Wb(9,"mat-expansion-panel",8),T.gc("expandedChange",function(e){return t.panelOpenState=e}),T.Wb(10,"mat-expansion-panel-header"),T.Wb(11,"mat-panel-title"),T.Wb(12,"span",9),T.Rb(13,"i",10),T.Nc(14," B\xfasqueda Avanzada"),T.Vb(),T.Vb(),T.Vb(),T.Wb(15,"div",6),T.Wb(16,"div",11),T.Wb(17,"div",12),T.Wb(18,"label"),T.Nc(19,"RFC "),T.Vb(),T.Wb(20,"input",13),T.gc("ngModelChange",function(e){return t.General.Filtros.RFCCliente=e}),T.Vb(),T.Vb(),T.Vb(),T.Wb(21,"div",14),T.Wb(22,"div",12),T.Wb(23,"label"),T.Nc(24,"Raz\xf3n Social "),T.Vb(),T.Wb(25,"input",15),T.gc("ngModelChange",function(e){return t.General.Filtros.RazonSocial=e}),T.Vb(),T.Vb(),T.Vb(),T.Wb(26,"div",11),T.Wb(27,"div",12),T.Wb(28,"label"),T.Nc(29,"Tipo"),T.Vb(),T.Wb(30,"select",16),T.gc("ngModelChange",function(e){return t.General.Filtros.TipoOpinion=e}),T.Lc(31,Be,2,2,"option",17),T.Vb(),T.Vb(),T.Vb(),T.Vb(),T.Wb(32,"div",6),T.Wb(33,"div",11),T.Wb(34,"div",12),T.Wb(35,"label"),T.Nc(36,"Fecha Documento Inicial"),T.Vb(),T.Wb(37,"input",18),T.gc("ngModelChange",function(e){return t.General.Filtros.FechaInicial=e}),T.Vb(),T.Vb(),T.Vb(),T.Wb(38,"div",11),T.Wb(39,"div",12),T.Wb(40,"label"),T.Nc(41,"Fecha Documento Final"),T.Vb(),T.Wb(42,"input",19),T.gc("ngModelChange",function(e){return t.General.Filtros.FechaFinal=e}),T.Vb(),T.Vb(),T.Vb(),T.Wb(43,"div",20),T.Wb(44,"div",12),T.Wb(45,"button",21),T.gc("click",function(){return t.AplicaFiltros()}),T.Rb(46,"i",22),T.Nc(47," Buscar "),T.Vb(),T.Vb(),T.Vb(),T.Wb(48,"div",20),T.Wb(49,"div",12),T.Wb(50,"a",23),T.gc("click",function(){return t.ResetData()}),T.Rb(51,"i",24),T.Nc(52," Limpiar"),T.Vb(),T.Vb(),T.Vb(),T.Vb(),T.Rb(53,"br"),T.Vb(),T.Vb(),T.Vb(),T.Wb(54,"div",6),T.Rb(55,"div",25),T.Wb(56,"div",26),T.Rb(57,"br"),T.Wb(58,"button",27),T.gc("click",function(){return t.Exportar()}),T.Rb(59,"i",28),T.Nc(60," Exportar"),T.Vb(),T.Vb(),T.Vb(),T.Wb(61,"div",6),T.Wb(62,"div",29),T.Rb(63,"br"),T.Wb(64,"div",30),T.Wb(65,"mat-form-field"),T.Wb(66,"input",31),T.gc("keyup",function(e){return t.applyFilter7(e.target.value)}),T.Vb(),T.Vb(),T.Vb(),T.Vb(),T.Wb(67,"div",7),T.Rb(68,"mat-paginator",32,33),T.Wb(70,"mat-table",34,35),T.Ub(72,36),T.Lc(73,Ue,2,0,"mat-header-cell",37),T.Lc(74,Te,3,0,"mat-cell",38),T.Tb(),T.Ub(75,39),T.Lc(76,$e,2,0,"mat-header-cell",40),T.Lc(77,Qe,3,0,"mat-cell",38),T.Tb(),T.Ub(78,41),T.Lc(79,je,2,0,"mat-header-cell",40),T.Lc(80,Je,5,4,"mat-cell",38),T.Tb(),T.Ub(81,42),T.Lc(82,Ke,2,0,"mat-header-cell",40),T.Lc(83,Ye,3,3,"mat-cell",38),T.Tb(),T.Ub(84,43),T.Lc(85,Ze,2,0,"mat-header-cell",40),T.Lc(86,et,3,4,"mat-cell",38),T.Tb(),T.Ub(87,44),T.Lc(88,tt,2,0,"mat-header-cell",40),T.Lc(89,it,2,1,"mat-cell",38),T.Tb(),T.Ub(90,45),T.Lc(91,at,2,0,"mat-header-cell",40),T.Lc(92,ot,2,1,"mat-cell",38),T.Tb(),T.Ub(93,46),T.Lc(94,nt,2,0,"mat-header-cell",40),T.Lc(95,rt,2,1,"mat-cell",38),T.Tb(),T.Ub(96,47),T.Lc(97,ct,2,0,"mat-header-cell",40),T.Lc(98,lt,2,1,"mat-cell",38),T.Tb(),T.Ub(99,48),T.Lc(100,st,2,0,"mat-header-cell",40),T.Lc(101,bt,3,4,"mat-cell",38),T.Tb(),T.Ub(102,49),T.Lc(103,dt,2,0,"mat-header-cell",40),T.Lc(104,ht,2,1,"mat-cell",38),T.Tb(),T.Ub(105,50),T.Lc(106,pt,2,0,"mat-header-cell",40),T.Lc(107,ut,2,1,"mat-cell",38),T.Tb(),T.Ub(108,51),T.Lc(109,mt,2,0,"mat-header-cell",40),T.Lc(110,gt,2,1,"mat-cell",38),T.Tb(),T.Lc(111,ft,1,0,"mat-header-row",52),T.Lc(112,vt,1,0,"mat-row",53),T.Vb(),T.Vb(),T.Vb(),T.Vb(),T.Vb(),T.Lc(113,Ct,3,0,"div",54),T.Wb(114,"ngx-spinner",55),T.Wb(115,"p",56),T.Nc(116," Loading... "),T.Vb(),T.Vb()),2&e&&(T.qc("hidden",!t.Page.ShowList),T.Cb(9),T.qc("expanded",t.panelOpenState),T.Cb(11),T.qc("ngModel",t.General.Filtros.RFCCliente),T.Cb(5),T.qc("ngModel",t.General.Filtros.RazonSocial),T.Cb(5),T.qc("value",0)("ngModel",t.General.Filtros.TipoOpinion),T.Cb(1),T.qc("ngForOf",t.ListaTipoOpinion),T.Cb(6),T.qc("ngModel",t.General.Filtros.FechaInicial),T.Cb(5),T.qc("ngModel",t.General.Filtros.FechaFinal),T.Cb(26),T.qc("pageSizeOptions",T.tc(15,St)),T.Cb(2),T.qc("dataSource",t.dataSourceSolicitudes),T.Cb(41),T.qc("matHeaderRowDef",t.displayedColumns7),T.Cb(1),T.qc("matRowDefColumns",t.displayedColumns7),T.Cb(1),T.qc("ngIf",t.Page.ShowLoad),T.Cb(1),T.qc("fullScreen",!0))},directives:[B.c,B.f,B.g,r.d,r.k,r.o,r.r,r.w,r.v,o.m,f.c,g.b,G.a,F.j,q.a,F.c,F.e,F.b,F.g,F.i,o.n,j.a,r.s,r.y,F.d,F.a,q.b,o.p,o.q,F.f,F.h,pe],pipes:[o.e],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}.mat-table[_ngcontent-%COMP%]{overflow-x:scroll}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{word-wrap:normal;display:table-cell;padding:0 10px;line-break:unset;width:90%;white-space:nowrap;overflow:hidden;vertical-align:middle}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{display:table-row}.Oferta[_ngcontent-%COMP%]{font-size:11px;font-weight:400;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}"],changeDetection:0}),e})()}]}];let Wt=(()=>{class e{}return e.\u0275mod=T.Ob({type:e}),e.\u0275inj=T.Nb({factory:function(t){return new(t||e)},providers:[h.c,{provide:I.d,useValue:{}},{provide:I.a,useValue:{}},{provide:b.f,useValue:"en-GB"},{provide:m.a,useValue:{useUtc:!0}}],imports:[[o.c,g.c,f.e,u.c,v.b,O.d,x.b,w.g,W.b,C.c,h.b,b.m,s.b,p.b,P.c,S.d,V.b,y.g,k.b,D.b,R.b,F.l,L.b,z.b,I.c,B.b,U.b,q.c,M.d,A.e,G.b,d.f,b.u,c.a,a.c,E.d,N.c,l.a,Q.a,j.b,r.j,r.u,n.l.forChild(Vt)],n.l]}),e})()}}]);