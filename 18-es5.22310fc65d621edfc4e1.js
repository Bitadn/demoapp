!function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"K4G+":function(e,n,a){"use strict";a.r(n),a.d(n,"InternalModule",function(){return It});var i,o,c=a("QibW"),l=a("ofXK"),s=a("tyNb"),b=a("3Pt+"),u=a("WsYS"),d=a("93Pz"),f=a("1jcm"),h=a("FKr1"),m=a("0IaG"),p=a("NFeN"),g=a("bSwM"),v=a("iadO"),C=a("1yaQ"),V=a("qFsG"),k=a("kmnG"),W=a("/1cH"),S=a("bTqV"),P=a("wZkO"),w=a("Qu3c"),x=a("d3UM"),y=a("Wp6s"),E=a("STbY"),N=a("bv9b"),G=a("Xa2L"),A=a("dNgK"),M=a("+0xr"),U=a("MutI"),L=a("XhcP"),R=a("5RNC"),D=a("zkoq"),B=a("jaxi"),O=a("8yBR"),I=a("M9IT"),q=a("A5z7"),Q=a("xHqg"),F=a("Dh3D"),_=a("/t3+"),z=a("2ChS"),T=a("7EHt"),$=a("f0Cb"),X=a("fXoL"),j=((i=function e(){r(this,e)}).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=X.Kb({type:i,selectors:[["kt-internal"]],decls:1,vars:0,template:function(e,t){1&e&&X.Rb(0,"router-outlet")},directives:[s.m],encapsulation:2,changeDetection:0}),i),H=a("QJFE"),K=a("JqCM"),J=a("PSD3"),Z=a.n(J),Y=a("+BVi"),ee=a("1kSV"),te=a("5eHb"),re=a("jhN1"),ne=a("ap2d"),ae=((o=function(){function e(t,n){r(this,e),this.api=t,this.router=n}return t(e,[{key:"GetPerfiles",value:function(){return this.api.get("Perfil",{})}},{key:"GetFolio",value:function(e){return this.api.getById("Perfil",e)}},{key:"Post",value:function(e){return this.api.post("Perfil",e)}},{key:"Put",value:function(e){return this.api.put("Perfil",e)}},{key:"Delete",value:function(e){return this.api.delete("Perfil",e)}}]),e}()).\u0275fac=function(e){return new(e||o)(X.dc(ne.a),X.dc(s.h))},o.\u0275prov=X.Mb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),ie=a("ptnc"),oe=["matPaginator7"],ce=["sort7"];function le(e,t){if(1&e){var r=X.Xb();X.Wb(0,"button",31),X.gc("click",function(){return X.Bc(r),X.kc().ShowAdd()}),X.Rb(1,"i",32),X.Nc(2," Nuevo "),X.Vb()}}function se(e,t){1&e&&(X.Wb(0,"mat-header-cell",33),X.Nc(1," N\xfamero"),X.Vb())}function be(e,t){if(1&e&&(X.Wb(0,"mat-cell"),X.Nc(1),X.Vb()),2&e){var r=t.index;X.Cb(1),X.Pc(" ",r+1," ")}}function ue(e,t){1&e&&(X.Wb(0,"mat-header-cell",33),X.Nc(1," Perf\xedl "),X.Vb())}function de(e,t){if(1&e&&(X.Wb(0,"mat-cell"),X.Nc(1),X.Vb()),2&e){var r=t.$implicit;X.Cb(1),X.Pc(" ",r.NombrePerfil," ")}}function fe(e,t){1&e&&(X.Wb(0,"mat-header-cell"),X.Nc(1," Actions "),X.Vb())}function he(e,t){if(1&e){var r=X.Xb();X.Wb(0,"a",36),X.gc("click",function(){X.Bc(r);var e=X.kc().$implicit;return X.kc().ShowEdit(e)}),X.Rb(1,"i",37),X.Vb()}}function me(e,t){if(1&e){var r=X.Xb();X.Wb(0,"a",38),X.gc("click",function(){X.Bc(r);var e=X.kc().$implicit;return X.kc().Eliminar(e)}),X.Rb(1,"i",39),X.Vb()}}function pe(e,t){if(1&e&&(X.Wb(0,"mat-cell"),X.Lc(1,he,2,0,"a",34),X.Nc(2," \xa0 \xa0 "),X.Lc(3,me,2,0,"a",35),X.Nc(4," \xa0 "),X.Vb()),2&e){var r=X.kc();X.Cb(1),X.qc("ngIf",r.Screen.Put),X.Cb(2),X.qc("ngIf",r.Screen.Delete)}}function ge(e,t){1&e&&X.Rb(0,"mat-header-row")}function ve(e,t){1&e&&X.Rb(0,"mat-row")}function Ce(e,t){if(1&e){var r=X.Xb();X.Wb(0,"div",6),X.Rb(1,"div",40),X.Wb(2,"div",41),X.Wb(3,"div",42),X.Wb(4,"div",1),X.Wb(5,"h3",43),X.Nc(6," Nuevo Perfil "),X.Vb(),X.Vb(),X.Wb(7,"div",5),X.Wb(8,"div",6),X.Wb(9,"div",44),X.Wb(10,"label"),X.Nc(11,"Perf\xedl"),X.Vb(),X.Wb(12,"input",45),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Perfil.NombrePerfil=e}),X.Vb(),X.Vb(),X.Wb(13,"div",46),X.Wb(14,"label"),X.Nc(15,"Estatus"),X.Vb(),X.Wb(16,"label",47),X.Rb(17,"i",48),X.Nc(18," Activo"),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Wb(19,"div",49),X.Wb(20,"div",7),X.Wb(21,"button",50),X.gc("click",function(){return X.Bc(r),X.kc().Guardar()}),X.Rb(22,"i",51),X.Nc(23," Guardar"),X.Vb(),X.Wb(24,"button",52),X.gc("click",function(){return X.Bc(r),X.kc().Cancelar()}),X.Rb(25,"i",53),X.Nc(26," Cancelar"),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb()}if(2&e){var n=X.kc();X.Cb(12),X.qc("ngModel",n.General.Perfil.NombrePerfil)}}function Ve(e,t){if(1&e){var r=X.Xb();X.Wb(0,"div",6),X.Rb(1,"div",40),X.Wb(2,"div",41),X.Wb(3,"div",42),X.Wb(4,"div",1),X.Wb(5,"h3",43),X.Nc(6," Editar Perf\xedl "),X.Vb(),X.Vb(),X.Wb(7,"div",5),X.Wb(8,"div",6),X.Wb(9,"div",44),X.Wb(10,"label"),X.Nc(11,"Perf\xedl"),X.Vb(),X.Wb(12,"input",45),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Perfil.NombrePerfil=e}),X.Vb(),X.Vb(),X.Wb(13,"div",46),X.Wb(14,"label"),X.Nc(15,"Estatus"),X.Vb(),X.Wb(16,"label",47),X.Rb(17,"i",48),X.Nc(18," Activo"),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Wb(19,"div",49),X.Wb(20,"div",44),X.Wb(21,"button",50),X.gc("click",function(){return X.Bc(r),X.kc().GuardarEditar()}),X.Rb(22,"i",51),X.Nc(23," Guardar"),X.Vb(),X.Wb(24,"button",52),X.gc("click",function(){return X.Bc(r),X.kc().Cancelar()}),X.Rb(25,"i",53),X.Nc(26," Cancelar"),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb()}if(2&e){var n=X.kc();X.Cb(12),X.qc("ngModel",n.General.Perfil.NombrePerfil)}}var ke,We=function(){return[25,50,100]},Se=((ke=function(){function e(t,n,a,i,o,c,l,s,b){r(this,e),this.snackBar=t,this.AuthService=n,this.modalService=a,this.toastr=i,this.spinnerService=o,this.router=c,this.sanitizer=l,this.PerfilService=s,this.ScreenActionsService=b,this.Page={},this.Screen={},this.General={},this.displayedColumns7=["No","NombrePerfil","actions"],this.Page.ShowAdd=!1,this.Page.ShowEdit=!1,this.Page.ShowList=!0,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Perfil={}}return t(e,[{key:"ngOnInit",value:function(){var e=this;this.ScreenActionsService.PromiseAcciones(this.Page.Controller).then(function(t){e.Screen=t,e.CargaDatos()},function(t){e.handleError(t)})}},{key:"CargaDatos",value:function(){var e=this;this.dataSourceFolios=new M.k([]),this.spinnerService.show(),this.PerfilService.GetPerfiles().subscribe(function(t){e.dataSourceFolios=new M.k(t),e.dataSourceFolios.paginator=e.paginator7,e.dataSourceFolios.sort=e.sort7,e.spinnerService.hide()},function(t){e.handleError(t)})}},{key:"applyFilter7",value:function(e){this.dataSourceFolios.filter=e.trim().toLowerCase(),this.dataSourceFolios.paginator&&this.dataSourceFolios.paginator.firstPage()}},{key:"ShowAdd",value:function(){this.General.Perfil={},this.Page.ShowAdd=!0,this.Page.ShowList=!1,this.Page.ShowEdit=!1}},{key:"Cancelar",value:function(){this.Page.ShowList=!0,this.Page.ShowAdd=!1,this.Page.ShowEdit=!1}},{key:"ShowEdit",value:function(e){this.General.Perfil.IdPerfil=e.IdPerfil,this.General.Perfil.NombrePerfil=e.NombrePerfil,this.Page.ShowEdit=!0,this.Page.ShowAdd=!1,this.Page.ShowList=!1}},{key:"Guardar",value:function(){var e=this;this.General.Perfil.NombrePerfil?this.General.Perfil.NombrePerfil.length<5?this.toastr.error("La informacion proporcionada no es v\xe1lida, favor de revisar"):this.PerfilService.Post(this.General.Perfil).subscribe(function(t){e.toastr.success("La informaci\xf3n se guard\xf3 correctamente"),e.CargaDatos(),e.Cancelar()},function(t){e.handleError(t)}):this.toastr.error("El perfil no puede estar vac\xedo, favor de revisar")}},{key:"GuardarEditar",value:function(){var e=this;this.General.Perfil.IdPerfil&&0!=this.General.Perfil.IdPerfil?this.General.Perfil.NombrePerfil?this.General.Perfil.NombrePerfil.length<5?this.toastr.error("La informacion proporcionada no es v\xe1lida, favor de revisar"):this.PerfilService.Put(this.General.Perfil).subscribe(function(t){e.toastr.success("La informaci\xf3n se actualiz\xf3 correctamente"),e.CargaDatos(),e.Cancelar()},function(t){e.handleError(t)}):this.toastr.error("El perfil no puede estar vac\xedo, favor de revisar"):this.toastr.error("ocurrio un error al seleccionar el  perf\xedl")}},{key:"Eliminar",value:function(e){var t=this;Z.a.fire({title:"Confirmaci\xf3n",text:"Eliminar la informaci\xf3n del perfil: "+e.NombrePerfil,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then(function(r){r.value&&t.GuardarEliminar(e.IdPerfil)})}},{key:"GuardarEliminar",value:function(e){var t=this;this.PerfilService.Delete(e).subscribe(function(){t.toastr.success("La informaci\xf3n se elimin\xf3 correctamente"),t.Cancelar(),t.CargaDatos()},function(e){t.handleError(e)})}},{key:"handleError",value:function(e){this.AuthService.handleError(e)}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:2e3})}}]),e}()).\u0275fac=function(e){return new(e||ke)(X.Qb(A.a),X.Qb(Y.a),X.Qb(ee.y),X.Qb(te.b),X.Qb(K.c),X.Qb(s.h),X.Qb(re.b),X.Qb(ae),X.Qb(ie.a))},ke.\u0275cmp=X.Kb({type:ke,selectors:[["kt-perfiles"]],viewQuery:function(e,t){var r;1&e&&(X.Gc(oe,!0),X.Gc(ce,!0)),2&e&&(X.xc(r=X.hc())&&(t.paginator7=r.first),X.xc(r=X.hc())&&(t.sort7=r.first))},decls:41,vars:10,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[1,"row"],[1,"col-xs-12","col-md-12"],[3,"hidden"],[1,"col-xs-12","col-md-10"],[1,"col-xs-12","col-md-2","text-right"],["type","button","style","color: #7AB800 !important","class","btn btn-outline-secondary",3,"click",4,"ngIf"],[1,"example-container"],[1,"col-xs-12","col-md-6",2,"flex","0 0 0% !important"],[1,"example-header"],["matInput","","placeholder","Filter",3,"keyup"],[3,"pageSizeOptions"],["matPaginator7",""],["matSort","",3,"dataSource"],["sort7","matSort"],["matColumnDef","No"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","NombrePerfil"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","row",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],["type","button",1,"btn","btn-outline-secondary",2,"color","#7AB800 !important",3,"click"],[1,"fas","fa-plus-circle"],["mat-sort-header",""],["href","javascript:;","class","btn btn-xs btn-default btn-text-default btn-hover-primary btn-icon","title","Editar",3,"click",4,"ngIf"],["href","javascript:;","class","btn btn-xs btn-default btn-text-default btn-hover-danger btn-icon","title","Eliminar",3,"click",4,"ngIf"],["href","javascript:;","title","Editar",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-primary","btn-icon",3,"click"],[1,"fa","fa-edit","icon-nm"],["href","javascript:;","title","Eliminar",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-danger","btn-icon",3,"click"],[1,"fa","fa-trash-alt","icon-nm"],[1,"col-xs-0","col-md-2"],[1,"col-xs-12","col-md-8"],[1,"card","card-custom",2,"box-shadow","0px 0px"],[1,"h3"],[1,"col-md-5"],["maxlength","50","type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-md-2"],[1,"form-control","form-control-sm"],[1,"fa","fa-check"],[1,"card-footer",2,"border-top","0px","padding","0px"],[1,"btn","btn-light","btn-text-success","btn-hover-text-success","font-weight-bold",3,"click"],[1,"fa","fa-save"],[1,"btn","btn-light","btn-text-dark","btn-hover-text-dark","font-weight-bold",2,"margin-left","5px",3,"click"],[1,"fa","fa-times"]],template:function(e,t){1&e&&(X.Wb(0,"div",0),X.Wb(1,"div",1),X.Wb(2,"div",2),X.Wb(3,"h2",3),X.Rb(4,"i",4),X.Nc(5," Administraci\xf3n de Perf\xedles"),X.Vb(),X.Vb(),X.Vb(),X.Wb(6,"div",5),X.Wb(7,"div",6),X.Wb(8,"div",7),X.Wb(9,"div",8),X.Wb(10,"div",6),X.Rb(11,"div",9),X.Wb(12,"div",10),X.Lc(13,le,3,0,"button",11),X.Vb(),X.Vb(),X.Wb(14,"div",6),X.Wb(15,"div",12),X.Wb(16,"div",13),X.Wb(17,"div",14),X.Wb(18,"mat-form-field"),X.Wb(19,"input",15),X.gc("keyup",function(e){return t.applyFilter7(e.target.value)}),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Wb(20,"div",7),X.Rb(21,"mat-paginator",16,17),X.Wb(23,"mat-table",18,19),X.Ub(25,20),X.Lc(26,se,2,0,"mat-header-cell",21),X.Lc(27,be,2,1,"mat-cell",22),X.Tb(),X.Ub(28,23),X.Lc(29,ue,2,0,"mat-header-cell",21),X.Lc(30,de,2,1,"mat-cell",22),X.Tb(),X.Ub(31,24),X.Lc(32,fe,2,0,"mat-header-cell",25),X.Lc(33,pe,5,2,"mat-cell",22),X.Tb(),X.Lc(34,ge,1,0,"mat-header-row",26),X.Lc(35,ve,1,0,"mat-row",27),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Lc(36,Ce,27,1,"div",28),X.Lc(37,Ve,27,1,"div",28),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Wb(38,"ngx-spinner",29),X.Wb(39,"p",30),X.Nc(40," Loading... "),X.Vb(),X.Vb()),2&e&&(X.Cb(9),X.qc("hidden",!t.Page.ShowList),X.Cb(4),X.qc("ngIf",t.Screen.Post),X.Cb(8),X.qc("pageSizeOptions",X.tc(9,We)),X.Cb(2),X.qc("dataSource",t.dataSourceFolios),X.Cb(11),X.qc("matHeaderRowDef",t.displayedColumns7),X.Cb(1),X.qc("matRowDefColumns",t.displayedColumns7),X.Cb(1),X.qc("ngIf",t.Page.ShowAdd),X.Cb(1),X.qc("ngIf",t.Page.ShowEdit),X.Cb(1),X.qc("fullScreen",!0))},directives:[l.n,k.c,V.b,I.a,M.j,F.a,M.c,M.e,M.b,M.g,M.i,K.a,M.d,F.b,M.a,M.f,M.h,b.d,b.k,b.o,b.r],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:100%;min-width:100%}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:100%}.mat-column-FolioActivaExpress[_ngcontent-%COMP%], .mat-column-RFC[_ngcontent-%COMP%], .mat-column-TipoAlta[_ngcontent-%COMP%]{flex:0 0 10%!important}.mat-column-FolioActivaExpress[_ngcontent-%COMP%], .mat-column-NombreCliente[_ngcontent-%COMP%], .mat-column-RFC[_ngcontent-%COMP%], .mat-column-TipoAlta[_ngcontent-%COMP%]{word-wrap:break-word!important;white-space:unset!important;width:10%!important;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.mat-column-NombreCliente[_ngcontent-%COMP%]{flex:0 0 30%!important}[_ngcontent-%COMP%]::-moz-placeholder{color:#c8cfdd;opacity:1}[_ngcontent-%COMP%]::placeholder{color:#c8cfdd;opacity:1}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#c8cfdd}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#c8cfdd}.Oferta[_ngcontent-%COMP%]{font-size:11px;font-weight:400;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.Offer[_ngcontent-%COMP%]:hover{background-color:#7ab800;color:#fff}"],changeDetection:0}),ke),Pe=a("rqpA"),we=a("MOgX"),xe=["matPaginator7"],ye=["sort7"];function Ee(e,t){if(1&e){var r=X.Xb();X.Wb(0,"button",33),X.gc("click",function(){return X.Bc(r),X.kc().ShowAdd()}),X.Rb(1,"i",34),X.Nc(2," Nuevo "),X.Vb()}}function Ne(e,t){1&e&&(X.Wb(0,"mat-header-cell",35),X.Nc(1," N\xfamero"),X.Vb())}function Ge(e,t){if(1&e&&(X.Wb(0,"mat-cell"),X.Nc(1),X.Vb()),2&e){var r=t.index;X.Cb(1),X.Pc(" ",r+1," ")}}function Ae(e,t){1&e&&(X.Wb(0,"mat-header-cell",35),X.Nc(1," Nombre "),X.Vb())}function Me(e,t){if(1&e&&(X.Wb(0,"mat-cell"),X.Nc(1),X.Vb()),2&e){var r=t.$implicit;X.Cb(1),X.Rc(" ",r.nombre," ",r.apellidopaterno," ",r.apellidomaterno,"")}}function Ue(e,t){1&e&&(X.Wb(0,"mat-header-cell",35),X.Nc(1," Usuario "),X.Vb())}function Le(e,t){if(1&e&&(X.Wb(0,"mat-cell"),X.Nc(1),X.Vb()),2&e){var r=t.$implicit;X.Cb(1),X.Pc(" ",r.NombreUsuario," ")}}function Re(e,t){1&e&&(X.Wb(0,"mat-header-cell",35),X.Nc(1," Perf\xedl "),X.Vb())}function De(e,t){if(1&e&&(X.Wb(0,"mat-cell"),X.Nc(1),X.Vb()),2&e){var r=t.$implicit;X.Cb(1),X.Pc(" ",r.NombrePerfil," ")}}function Be(e,t){1&e&&(X.Wb(0,"mat-header-cell"),X.Nc(1," Actions "),X.Vb())}function Oe(e,t){if(1&e){var r=X.Xb();X.Wb(0,"button",38),X.gc("click",function(){X.Bc(r);var e=X.kc().$implicit;return X.kc().ShowEdit(e)}),X.Rb(1,"i",39),X.Vb()}}function Ie(e,t){if(1&e){var r=X.Xb();X.Wb(0,"button",40),X.gc("click",function(){X.Bc(r);var e=X.kc().$implicit;return X.kc().Eliminar(e)}),X.Rb(1,"i",41),X.Vb()}}function qe(e,t){if(1&e){var r=X.Xb();X.Wb(0,"button",40),X.gc("click",function(){X.Bc(r);var e=X.kc().$implicit;return X.kc().ResetPWD(e)}),X.Rb(1,"i",42),X.Vb()}}function Qe(e,t){if(1&e&&(X.Wb(0,"mat-cell"),X.Lc(1,Oe,2,0,"button",36),X.Nc(2," \xa0 "),X.Lc(3,Ie,2,0,"button",37),X.Nc(4," \xa0 "),X.Lc(5,qe,2,0,"button",37),X.Nc(6," \xa0 "),X.Vb()),2&e){var r=X.kc();X.Cb(1),X.qc("ngIf",r.Screen.Put),X.Cb(2),X.qc("ngIf",r.Screen.Delete),X.Cb(2),X.qc("ngIf",r.Screen.ResetPWD)}}function Fe(e,t){1&e&&X.Rb(0,"mat-header-row")}function _e(e,t){1&e&&X.Rb(0,"mat-row")}function ze(e,t){if(1&e&&(X.Wb(0,"option",52),X.Nc(1),X.Vb()),2&e){var r=t.$implicit;X.qc("value",r.idperfil),X.Cb(1),X.Pc(" ",r.nombreperfil," ")}}function Te(e,t){if(1&e&&(X.Wb(0,"option",52),X.Nc(1),X.Vb()),2&e){var r=t.$implicit;X.qc("value",r.Valor),X.Cb(1),X.Pc(" ",r.Descripcion," ")}}function $e(e,t){if(1&e){var r=X.Xb();X.Wb(0,"div",7),X.Wb(1,"div",15),X.Wb(2,"div",43),X.Wb(3,"div",1),X.Wb(4,"h3",44),X.Nc(5," Nuevo Usuari@ "),X.Vb(),X.Vb(),X.Wb(6,"div",5),X.Wb(7,"div",7),X.Wb(8,"div",45),X.Wb(9,"label"),X.Nc(10,"Usuario"),X.Vb(),X.Wb(11,"input",46),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.Usuario=e}),X.Vb(),X.Vb(),X.Wb(12,"div",45),X.Wb(13,"label"),X.Nc(14,"Perfil"),X.Vb(),X.Wb(15,"select",47),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.Perfil=e}),X.Lc(16,ze,2,2,"option",48),X.Vb(),X.Vb(),X.Wb(17,"div",45),X.Wb(18,"label"),X.Nc(19,"E-mail"),X.Vb(),X.Wb(20,"input",46),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.Correo=e}),X.Vb(),X.Vb(),X.Vb(),X.Rb(21,"br"),X.Wb(22,"div",7),X.Wb(23,"div",45),X.Wb(24,"label"),X.Nc(25,"Nombre"),X.Vb(),X.Wb(26,"input",46),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.Nombre=e}),X.Vb(),X.Vb(),X.Wb(27,"div",45),X.Wb(28,"label"),X.Nc(29,"Apellido Paterno"),X.Vb(),X.Wb(30,"input",46),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.APA=e}),X.Vb(),X.Vb(),X.Wb(31,"div",45),X.Wb(32,"label"),X.Nc(33,"Apellido Materno"),X.Vb(),X.Wb(34,"input",46),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.AMA=e}),X.Vb(),X.Vb(),X.Vb(),X.Rb(35,"br"),X.Wb(36,"div",7),X.Wb(37,"div",45),X.Wb(38,"label"),X.Nc(39,"Empresa"),X.Vb(),X.Wb(40,"select",49),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.IdEmpresa=e}),X.Lc(41,Te,2,2,"option",48),X.Vb(),X.Vb(),X.Wb(42,"div",50),X.Wb(43,"label"),X.Nc(44,"Estatus"),X.Vb(),X.Wb(45,"select",51),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.Estatus=e}),X.Wb(46,"option",52),X.Nc(47,"Activo"),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Wb(48,"div",53),X.Wb(49,"div",15),X.Wb(50,"button",54),X.gc("click",function(){return X.Bc(r),X.kc().Guardar()}),X.Rb(51,"i",55),X.Nc(52," Guardar"),X.Vb(),X.Wb(53,"button",56),X.gc("click",function(){return X.Bc(r),X.kc().Cancelar()}),X.Rb(54,"i",57),X.Nc(55," Cancelar"),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb()}if(2&e){var n=X.kc();X.Cb(11),X.qc("ngModel",n.General.Usuario.Usuario),X.Cb(4),X.qc("ngModel",n.General.Usuario.Perfil)("value",0),X.Cb(1),X.qc("ngForOf",n.General.Perfiles),X.Cb(4),X.qc("ngModel",n.General.Usuario.Correo),X.Cb(6),X.qc("ngModel",n.General.Usuario.Nombre),X.Cb(4),X.qc("ngModel",n.General.Usuario.APA),X.Cb(4),X.qc("ngModel",n.General.Usuario.AMA),X.Cb(6),X.qc("value",0)("ngModel",n.General.Usuario.IdEmpresa),X.Cb(1),X.qc("ngForOf",n.ListaEmpresas),X.Cb(4),X.qc("ngModel",n.General.Usuario.Estatus)("value",1),X.Cb(1),X.qc("value",1)}}function Xe(e,t){if(1&e&&(X.Wb(0,"option",52),X.Nc(1),X.Vb()),2&e){var r=t.$implicit;X.qc("value",r.idperfil),X.Cb(1),X.Pc(" ",r.nombreperfil," ")}}function je(e,t){if(1&e&&(X.Wb(0,"option",52),X.Nc(1),X.Vb()),2&e){var r=t.$implicit;X.qc("value",r.Valor),X.Cb(1),X.Pc(" ",r.Descripcion," ")}}function He(e,t){if(1&e){var r=X.Xb();X.Wb(0,"div",7),X.Wb(1,"div",15),X.Wb(2,"div",43),X.Wb(3,"div",1),X.Wb(4,"h3",44),X.Nc(5," Editar Usuario "),X.Vb(),X.Vb(),X.Wb(6,"div",5),X.Wb(7,"div",7),X.Wb(8,"div",50),X.Wb(9,"label"),X.Nc(10,"Usuario"),X.Vb(),X.Wb(11,"input",58),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.Usuario=e}),X.Vb(),X.Vb(),X.Wb(12,"div",45),X.Wb(13,"label"),X.Nc(14,"Perfil"),X.Vb(),X.Wb(15,"select",47),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.Perfil=e}),X.Lc(16,Xe,2,2,"option",48),X.Vb(),X.Vb(),X.Wb(17,"div",45),X.Wb(18,"label"),X.Nc(19,"Correo Electr\xf3nico"),X.Vb(),X.Wb(20,"input",59),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.Correo=e}),X.Vb(),X.Vb(),X.Vb(),X.Rb(21,"br"),X.Wb(22,"div",7),X.Wb(23,"div",45),X.Wb(24,"label"),X.Nc(25,"Nombre"),X.Vb(),X.Wb(26,"input",46),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.Nombre=e}),X.Vb(),X.Vb(),X.Wb(27,"div",45),X.Wb(28,"label"),X.Nc(29,"Apellido Paterno"),X.Vb(),X.Wb(30,"input",46),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.APA=e}),X.Vb(),X.Vb(),X.Wb(31,"div",45),X.Wb(32,"label"),X.Nc(33,"Apellido Materno"),X.Vb(),X.Wb(34,"input",46),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.AMA=e}),X.Vb(),X.Vb(),X.Vb(),X.Rb(35,"br"),X.Wb(36,"div",7),X.Wb(37,"div",45),X.Wb(38,"label"),X.Nc(39,"Empresa"),X.Vb(),X.Wb(40,"select",49),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.IdEmpresa=e}),X.Lc(41,je,2,2,"option",48),X.Vb(),X.Vb(),X.Wb(42,"div",45),X.Wb(43,"label"),X.Nc(44,"Estatus"),X.Vb(),X.Wb(45,"select",51),X.gc("ngModelChange",function(e){return X.Bc(r),X.kc().General.Usuario.Estatus=e}),X.Wb(46,"option",52),X.Nc(47,"Activo"),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Wb(48,"div",53),X.Wb(49,"div",7),X.Wb(50,"div",15),X.Wb(51,"button",54),X.gc("click",function(){return X.Bc(r),X.kc().GuardarEditar()}),X.Rb(52,"i",55),X.Nc(53," Guardar"),X.Vb(),X.Nc(54,"\xa0 "),X.Wb(55,"button",56),X.gc("click",function(){return X.Bc(r),X.kc().Cancelar()}),X.Rb(56,"i",57),X.Nc(57," Cancelar"),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb()}if(2&e){var n=X.kc();X.Cb(11),X.qc("ngModel",n.General.Usuario.Usuario),X.Cb(4),X.qc("ngModel",n.General.Usuario.Perfil)("value",0),X.Cb(1),X.qc("ngForOf",n.General.Perfiles),X.Cb(4),X.qc("ngModel",n.General.Usuario.Correo),X.Cb(6),X.qc("ngModel",n.General.Usuario.Nombre),X.Cb(4),X.qc("ngModel",n.General.Usuario.APA),X.Cb(4),X.qc("ngModel",n.General.Usuario.AMA),X.Cb(6),X.qc("value",0)("ngModel",n.General.Usuario.IdEmpresa),X.Cb(1),X.qc("ngForOf",n.ListaEmpresas),X.Cb(4),X.qc("ngModel",n.General.Usuario.Estatus)("value",1),X.Cb(1),X.qc("value",1)}}var Ke,Je,Ze=function(){return[25,50,100]},Ye=((Je=function(){function e(t,n,a,i,o,c,l,s,b,u,d){r(this,e),this.snackBar=t,this.ref=n,this.AuthService=a,this.modalService=i,this.toastr=o,this.spinnerService=c,this.router=l,this.sanitizer=s,this.UsuarioService=b,this.ScreenActionsService=u,this.EmpresaService=d,this.Page={},this.Screen={},this.General={},this.displayedColumns7=["No","nombre","NombreUsuario","NombrePerfil","actions"],this.ListaEmpresas=[],this.Page.ShowAdd=!1,this.Page.ShowEdit=!1,this.Page.ShowList=!0,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Perfil={},this.AuthService.IsAlive()}return t(e,[{key:"ngOnInit",value:function(){var e=this;this.ScreenActionsService.PromiseAcciones(this.Page.Controller).then(function(t){e.Screen=t,e.CargaEmpresas(),e.CargaDatos()},function(t){e.handleError(t)})}},{key:"CargaEmpresas",value:function(){var e=this;this.dataSourceUsuarios=new M.k([]),this.spinnerService.show(),this.EmpresaService.GetEmpresas().subscribe(function(t){e.ListaEmpresas=t},function(t){e.handleError(t)})}},{key:"CargaDatos",value:function(){var e=this;this.dataSourceUsuarios=new M.k([]),this.spinnerService.show(),this.UsuarioService.GetUsuarios().subscribe(function(t){e.dataSourceUsuarios=new M.k(t[0]),e.General.Perfiles=t[1],e.dataSourceUsuarios.paginator=e.paginator7,e.dataSourceUsuarios.sort=e.sort7,e.ref.markForCheck(),e.spinnerService.hide()},function(t){e.handleError(t)})}},{key:"applyFilter7",value:function(e){this.dataSourceUsuarios.filter=e.trim().toLowerCase(),this.dataSourceUsuarios.paginator&&this.dataSourceUsuarios.paginator.firstPage()}},{key:"ShowAdd",value:function(){this.General.Usuario={},this.General.Usuario.Perfil="2",this.General.Usuario.Estatus=1,this.Page.ShowAdd=!0,this.Page.ShowList=!1,this.Page.ShowEdit=!1,this.ref.markForCheck()}},{key:"Cancelar",value:function(){this.Page.ShowList=!0,this.Page.ShowAdd=!1,this.Page.ShowEdit=!1}},{key:"ShowEdit",value:function(e){this.General.Usuario={},this.General.Usuario.Usuario=e.NombreUsuario,this.General.Usuario.Contra="**********",this.General.Usuario.Perfil=e.IdPerfil,this.General.Usuario.Correo=e.CorreoElectronico,this.General.Usuario.Nombre=e.nombre,this.General.Usuario.APA=e.apellidopaterno,this.General.Usuario.AMA=e.apellidomaterno,this.General.Usuario.Estatus=1,this.General.Usuario.IdUsuario=e.IdUsuario,this.General.Usuario.IdEmpresa=e.IdEmpresa,this.General.Usuario.IdEmpleado=e.idempleado,this.General.Perfil.IdPerfil=e.IdPerfil,this.General.Perfil.NombrePerfil=e.NombrePerfil,this.Page.ShowEdit=!0,this.Page.ShowAdd=!1,this.Page.ShowList=!1,this.ref.markForCheck()}},{key:"Guardar",value:function(){var e=this;if(null==this.General.Usuario.Usuario||this.General.Usuario.Usuario.length<7)this.toastr.error("La longitud del usuario debe ser mayor a 6");else if(this.validateEmail(this.General.Usuario.Correo))if(null==this.General.Usuario.Nombre||this.General.Usuario.Nombre.length<2)this.toastr.error("Ingrese un nombre v\xe1lido");else if(null==this.General.Usuario.APA||this.General.Usuario.APA.length<2)this.toastr.error("Ingrese un apellido paterno v\xe1lido");else if(null==this.General.Usuario.AMA||this.General.Usuario.AMA.length<2)this.toastr.error("Ingrese un apellido materno v\xe1lido");else{var t="PasswordTemporal"+this.getRandomInt(1,1e4);this.General.Usuario.Contra=t,this.UsuarioService.Post(this.General.Usuario).subscribe(function(r){Z.a.fire({title:"Confirmaci\xf3n",text:"Usuario registrado correctamente. Contrase\xf1a: "+t,icon:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar"}).then(function(e){}),e.CargaDatos(),e.Cancelar(),e.spinnerService.hide()},function(t){e.handleError(t)})}else this.toastr.error("El correo proporcionado no es v\xe1lido, favor de revisar")}},{key:"GuardarEditar",value:function(){var e=this;null==this.General.Usuario.Nombre||this.General.Usuario.Nombre.length<2?this.toastr.error("Ingrese un nombre v\xe1lido"):null==this.General.Usuario.APA||this.General.Usuario.APA.length<2?this.toastr.error("Ingrese un apellido paterno v\xe1lido"):null==this.General.Usuario.AMA||this.General.Usuario.AMA.length<2?this.toastr.error("Ingrese un apellido materno v\xe1lido"):this.validateEmail(this.General.Usuario.Correo)?this.UsuarioService.UpdateUser(this.General.Usuario).subscribe(function(t){e.toastr.success("La informaci\xf3n se actualiz\xf3 correctamente"),e.CargaDatos(),e.Cancelar(),e.spinnerService.hide()},function(t){e.handleError(t)}):this.toastr.error("El correo proporcionado no es v\xe1lido, favor de revisar")}},{key:"ResetPWD",value:function(e){var t=this;Z.a.fire({title:"Confirmaci\xf3n",text:"\xbfRestablecer contrase\xf1a de: "+e.NombreUsuario+"?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"}).then(function(r){r.value&&t.GuardarReset(e.NombreUsuario)})}},{key:"GuardarReset",value:function(e){var t=this,r="Telefonica"+this.getRandomInt(1,1e4);this.UsuarioService.ResetPWD({NombreUsuario:e,Password:r}).subscribe(function(e){Z.a.fire({title:"Confirmaci\xf3n",text:"Contrase\xf1a actualizada correctamente a: "+r,icon:"success",showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar"}).then(function(e){}),t.Cancelar(),t.CargaDatos()},function(e){t.handleError(e)})}},{key:"Eliminar",value:function(e){var t=this;Z.a.fire({title:"Confirmaci\xf3n",text:"Eliminar la informaci\xf3n del usuario: "+e.NombreUsuario,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then(function(r){r.value&&t.GuardarEliminar(e.IdUsuario)})}},{key:"GuardarEliminar",value:function(e){var t=this;this.UsuarioService.Delete({IdUsuario:e}).subscribe(function(){t.toastr.success("La informaci\xf3n se elimin\xf3 correctamente"),t.Cancelar(),t.CargaDatos()},function(e){t.handleError(e)})}},{key:"validateEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{8,}))$/.test(e)}},{key:"getRandomInt",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"handleError",value:function(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:2e3})}}]),e}()).\u0275fac=function(e){return new(e||Je)(X.Qb(A.a),X.Qb(X.i),X.Qb(Y.a),X.Qb(ee.y),X.Qb(te.b),X.Qb(K.c),X.Qb(s.h),X.Qb(re.b),X.Qb(Pe.a),X.Qb(ie.a),X.Qb(we.a))},Je.\u0275cmp=X.Kb({type:Je,selectors:[["kt-usuarios"]],viewQuery:function(e,t){var r;1&e&&(X.Gc(xe,!0),X.Gc(ye,!0)),2&e&&(X.xc(r=X.hc())&&(t.paginator7=r.first),X.xc(r=X.hc())&&(t.sort7=r.first))},decls:46,vars:10,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[3,"hidden"],[1,"row"],[1,"col-xs-12","col-md-10"],[1,"col-xs-12","col-md-2","text-right"],["type","button","style","color: #7AB800 !important","class","btn btn-outline-secondary",3,"click",4,"ngIf"],[1,"example-container"],[1,"col-xs-12","col-md-6",2,"flex","0 0 0% !important"],[1,"example-header"],["matInput","","placeholder","Filter",3,"keyup"],[1,"col-xs-12","col-md-12"],[3,"pageSizeOptions"],["matPaginator7",""],["matSort","",3,"dataSource"],["sort7","matSort"],["matColumnDef","No"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","NombreUsuario"],["matColumnDef","NombrePerfil"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["class","row",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],["type","button",1,"btn","btn-outline-secondary",2,"color","#7AB800 !important",3,"click"],[1,"fas","fa-plus-circle"],["mat-sort-header",""],["style","width:40px !important;","type","button","class","btn btn-xs btn-default btn-text-default btn-hover-primary btn-icon",3,"click",4,"ngIf"],["style","width:40px !important;","type","button","class","btn btn-xs btn-default btn-text-default btn-hover-danger btn-icon",3,"click",4,"ngIf"],["type","button",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-primary","btn-icon",2,"width","40px !important",3,"click"],[1,"fa","fa-edit"],["type","button",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-danger","btn-icon",2,"width","40px !important",3,"click"],[1,"fa","fa-trash-alt"],[1,"fa","fa-unlock"],[1,"card","card-custom",2,"box-shadow","0px 0px"],[1,"h3"],[1,"col-md-4"],["maxlength","50","type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["name","select",1,"form-control",3,"ngModel","value","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["required","","name","select","name","ddlEmpresa",1,"form-control","form-control-sm",3,"value","ngModel","ngModelChange"],[1,"col-md-2"],["disabled","","name","select",1,"form-control",3,"ngModel","value","ngModelChange"],[3,"value"],[1,"card-footer",2,"border-top","0px","padding","0px"],[1,"btn","btn-light","btn-text-success","btn-hover-text-success","font-weight-bold",3,"click"],[1,"fa","fa-save"],[1,"btn","btn-light","btn-text-dark","btn-hover-text-dark","font-weight-bold",2,"margin-left","5px",3,"click"],[1,"fa","fa-times"],["disabled","","maxlength","50","type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["maxlength","50","type","email",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(X.Wb(0,"div",0),X.Wb(1,"div",1),X.Wb(2,"div",2),X.Wb(3,"h2",3),X.Rb(4,"i",4),X.Nc(5," Administraci\xf3n de Usuarios"),X.Vb(),X.Vb(),X.Vb(),X.Wb(6,"div",5),X.Wb(7,"div"),X.Wb(8,"div",6),X.Wb(9,"div",7),X.Rb(10,"div",8),X.Wb(11,"div",9),X.Lc(12,Ee,3,0,"button",10),X.Vb(),X.Vb(),X.Wb(13,"div",7),X.Wb(14,"div",11),X.Wb(15,"div",12),X.Wb(16,"div",13),X.Wb(17,"mat-form-field"),X.Wb(18,"input",14),X.gc("keyup",function(e){return t.applyFilter7(e.target.value)}),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Wb(19,"div",15),X.Rb(20,"mat-paginator",16,17),X.Wb(22,"mat-table",18,19),X.Ub(24,20),X.Lc(25,Ne,2,0,"mat-header-cell",21),X.Lc(26,Ge,2,1,"mat-cell",22),X.Tb(),X.Ub(27,23),X.Lc(28,Ae,2,0,"mat-header-cell",21),X.Lc(29,Me,2,3,"mat-cell",22),X.Tb(),X.Ub(30,24),X.Lc(31,Ue,2,0,"mat-header-cell",21),X.Lc(32,Le,2,1,"mat-cell",22),X.Tb(),X.Ub(33,25),X.Lc(34,Re,2,0,"mat-header-cell",21),X.Lc(35,De,2,1,"mat-cell",22),X.Tb(),X.Ub(36,26),X.Lc(37,Be,2,0,"mat-header-cell",27),X.Lc(38,Qe,7,3,"mat-cell",22),X.Tb(),X.Lc(39,Fe,1,0,"mat-header-row",28),X.Lc(40,_e,1,0,"mat-row",29),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Lc(41,$e,56,14,"div",30),X.Lc(42,He,58,14,"div",30),X.Vb(),X.Vb(),X.Vb(),X.Wb(43,"ngx-spinner",31),X.Wb(44,"p",32),X.Nc(45," Loading... "),X.Vb(),X.Vb()),2&e&&(X.Cb(8),X.qc("hidden",!t.Page.ShowList),X.Cb(4),X.qc("ngIf",t.Screen.Post),X.Cb(8),X.qc("pageSizeOptions",X.tc(9,Ze)),X.Cb(2),X.qc("dataSource",t.dataSourceUsuarios),X.Cb(17),X.qc("matHeaderRowDef",t.displayedColumns7),X.Cb(1),X.qc("matRowDefColumns",t.displayedColumns7),X.Cb(1),X.qc("ngIf",t.Page.ShowAdd),X.Cb(1),X.qc("ngIf",t.Page.ShowEdit),X.Cb(1),X.qc("fullScreen",!0))},directives:[l.n,k.c,V.b,I.a,M.j,F.a,M.c,M.e,M.b,M.g,M.i,K.a,M.d,F.b,M.a,M.f,M.h,b.d,b.k,b.o,b.r,b.w,l.m,b.v,b.s,b.y],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:100%;min-width:100%}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:100%}.mat-column-NombreCliente[_ngcontent-%COMP%]{word-wrap:break-word!important;white-space:unset!important;flex:0 0 30%!important;width:10%!important;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}[_ngcontent-%COMP%]::-moz-placeholder{color:#c8cfdd;opacity:1}[_ngcontent-%COMP%]::placeholder{color:#c8cfdd;opacity:1}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#c8cfdd}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#c8cfdd}.Oferta[_ngcontent-%COMP%]{font-size:11px;font-weight:400;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.Offer[_ngcontent-%COMP%]:hover{background-color:#7ab800;color:#fff}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:36px}"],changeDetection:0}),Je),et=((Ke=function(){function e(t,n){r(this,e),this.api=t,this.router=n,this.oDetalleCuenta={}}return t(e,[{key:"GetAccesos",value:function(){return this.api.get("Assignment",{})}},{key:"GuardarCuenta",value:function(e){return this.api.post("Assignment",e)}},{key:"GetDetalleCuenta",value:function(e){return this.api.post("Assignment/Detail",e)}},{key:"ActualizarCuenta",value:function(e){return this.api.put("Assignment",e)}},{key:"EliminarCuenta",value:function(e){return this.api.post("Assignment/revoke",e)}},{key:"ResetAdminCuenta",value:function(e){return this.api.post("Assignment/reset",e)}},{key:"SuspenderReactivar",value:function(e){return this.api.post("Assignment/suspending",e)}}]),e}()).\u0275fac=function(e){return new(e||Ke)(X.dc(ne.a),X.dc(s.h))},Ke.\u0275prov=X.Mb({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke),tt=a("2jtQ");function rt(e,t){if(1&e&&(X.Wb(0,"option",25),X.Nc(1),X.Vb()),2&e){var r=t.$implicit;X.qc("value",r.Valor),X.Cb(1),X.Pc(" ",r.Descripcion," ")}}var nt,at=((nt=function(){function e(t,n,a,i,o,c,l,s,b,u){r(this,e),this.snackBar=t,this.AuthService=n,this.toastr=a,this.spinnerService=i,this.router=o,this.sanitizer=c,this.ref=l,this.EmpresaService=s,this.RegistroService=b,this.AssignmentService=u,this.VistaPrincipal=new X.p,this.Page={},this.Screen={},this.General={},this.ListaEmpresas=[],this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Cuenta={}}return t(e,[{key:"ngOnInit",value:function(){this.CargaEmpresas()}},{key:"CargaEmpresas",value:function(){var e=this;this.EmpresaService.GetEmpresas().subscribe(function(t){e.ListaEmpresas=t},function(t){e.handleError(t)})}},{key:"Regresar",value:function(e){this.VistaPrincipal.emit(e)}},{key:"BuscarEmail",value:function(e){var t=this;if(e){var r=this.emailIsValid(e),n={};n.CorreoElectronico=e,r?this.RegistroService.VerificaEmail(n).then(function(e){return e.json()}).then(function(e){e&&1==e.Existe&&(t.toastr.error("El Email ya fue registrado, favor de verificar"),t.General.Cuenta.CorreoElectronico="",t.ref.markForCheck())},function(e){t.handleError(e)}):(this.toastr.error("Email incorrecto, favor de verificar"),this.General.Usuario.CorreoElectronico="")}}},{key:"emailIsValid",value:function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}},{key:"CrearPassword",value:function(){var e=this.fullDate();this.General.Cuenta.Pass1="Siva_"+e+"@"}},{key:"fullDate",value:function(){var e=new Date,t=e.getFullYear().toString(),r=(e.getMonth()+1).toString(),n=e.getDate().toString();return 1==n.length&&(n="0"+n),1==r.length&&(r="0"+r),t+r}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}},{key:"PassTest",value:function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[.$@#$!%*?&])[A-Za-z\d.$@#$!%*?&].{10,}/.test(e)}},{key:"Guardar",value:function(){var e=this;this.emailIsValid(this.General.Cuenta.CorreoElectronico)?this.General.Cuenta.CorreoElectronico==this.General.Cuenta.CorreoElectronico2?null!=this.General.Cuenta.Pass1&&""!=this.General.Cuenta.Pass1?null!=this.General.Cuenta.Nombre&&""!=this.General.Cuenta.Nombre?null!=this.General.Cuenta.ApellidoPaterno&&""!=this.General.Cuenta.ApellidoPaterno?null!=this.General.Cuenta.ApellidoMaterno&&""!=this.General.Cuenta.ApellidoMaterno?null!=this.General.Cuenta.IdEmpresa&&"0"!=this.General.Cuenta.IdEmpresa?this.AssignmentService.GuardarCuenta(this.General.Cuenta).subscribe(function(t){0==t.Valid?e.toastr.error("Ocurri\xf3 un error al crear la cuenta, intente nuevamente"):e.toastr.success("La acci\xf3n se realizo correctamente "),e.Regresar(!0)},function(t){e.handleError(t)}):this.toastr.error("Debe seleccionar una empresa"):this.toastr.error("El campo Apellido Materno no es v\xe1lido"):this.toastr.error("El campo Apellido Paterno no es v\xe1lido"):this.toastr.error("El campo Nombre no es v\xe1lido"):this.toastr.info("Debe Generar un password"):this.toastr.error("Los correos ingresados son diferentes"):this.toastr.error("Email incorrecto, favor de verificar")}},{key:"handleError",value:function(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:2e3})}}]),e}()).\u0275fac=function(e){return new(e||nt)(X.Qb(A.a),X.Qb(Y.a),X.Qb(te.b),X.Qb(K.c),X.Qb(s.h),X.Qb(re.b),X.Qb(X.i),X.Qb(we.a),X.Qb(tt.a),X.Qb(et))},nt.\u0275cmp=X.Kb({type:nt,selectors:[["kt-altacuenta"]],outputs:{VistaPrincipal:"VistaPrincipal"},decls:63,vars:10,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-user"],[1,"card-body"],[1,"row"],[1,"col-md-3"],[1,"form-group"],["type","email","maxlength","40","aria-describedby","helpSuscriptor","placeholder","",1,"form-control","form-control-sm","text-lowercase",3,"ngModel","ngModelChange","focusout"],["type","email","maxlength","40","aria-describedby","helpSuscriptor","placeholder","",1,"form-control","form-control-sm","text-lowercase",3,"ngModel","ngModelChange"],[2,"cursor","pointer","text-decoration","underline","color","#3699FF",3,"click"],[1,"form-control","form-control-sm"],["type","text","maxlength","100","aria-describedby","helpServicio","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["required","","name","select","name","ddlEmpresa",1,"form-control","form-control-sm",3,"value","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12"],[2,"font-weight","700"],[1,"card-footer",2,"border-top","0px","padding","0px"],[1,"btn","btn-light","btn-text-success","btn-hover-text-success","font-weight-bold",3,"click"],[1,"fa","fa-save"],[1,"btn","btn-light","btn-text-dark","btn-hover-text-dark","font-weight-bold",2,"margin-left","5px",3,"click"],[1,"fa","fa-times"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[3,"value"]],template:function(e,t){1&e&&(X.Wb(0,"div",0),X.Wb(1,"div",1),X.Wb(2,"div",2),X.Wb(3,"h2",3),X.Rb(4,"i",4),X.Nc(5," Registro de Administraci\xf3n de Cuenta de Empresa"),X.Vb(),X.Vb(),X.Vb(),X.Wb(6,"div",5),X.Wb(7,"div",6),X.Wb(8,"div",7),X.Wb(9,"div",8),X.Wb(10,"label"),X.Nc(11,"*Usuario (Email)"),X.Vb(),X.Wb(12,"input",9),X.gc("ngModelChange",function(e){return t.General.Cuenta.CorreoElectronico=e})("focusout",function(e){return t.BuscarEmail(e.target.value)}),X.Vb(),X.Vb(),X.Vb(),X.Wb(13,"div",7),X.Wb(14,"div",8),X.Wb(15,"label"),X.Nc(16,"*Confirmar (email)"),X.Vb(),X.Wb(17,"input",10),X.gc("ngModelChange",function(e){return t.General.Cuenta.CorreoElectronico2=e}),X.Vb(),X.Vb(),X.Vb(),X.Wb(18,"div",7),X.Wb(19,"div",8),X.Wb(20,"label",11),X.gc("click",function(){return t.CrearPassword()}),X.Nc(21,"*Autogenerar Password"),X.Vb(),X.Wb(22,"span",12),X.Nc(23),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Wb(24,"div",6),X.Wb(25,"div",7),X.Wb(26,"div",8),X.Wb(27,"label"),X.Nc(28,"*Nombre"),X.Vb(),X.Wb(29,"input",13),X.gc("ngModelChange",function(e){return t.General.Cuenta.Nombre=e}),X.Vb(),X.Vb(),X.Vb(),X.Wb(30,"div",7),X.Wb(31,"div",8),X.Wb(32,"label"),X.Nc(33,"*Apellido Paterno"),X.Vb(),X.Wb(34,"input",13),X.gc("ngModelChange",function(e){return t.General.Cuenta.ApellidoPaterno=e}),X.Vb(),X.Vb(),X.Vb(),X.Wb(35,"div",7),X.Wb(36,"div",8),X.Wb(37,"label"),X.Nc(38,"*Apellido Materno"),X.Vb(),X.Wb(39,"input",13),X.gc("ngModelChange",function(e){return t.General.Cuenta.ApellidoMaterno=e}),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Wb(40,"div",6),X.Wb(41,"div",7),X.Wb(42,"label"),X.Nc(43,"*Empresa"),X.Vb(),X.Wb(44,"select",14),X.gc("ngModelChange",function(e){return t.General.Cuenta.IdEmpresa=e}),X.Lc(45,rt,2,2,"option",15),X.Vb(),X.Vb(),X.Vb(),X.Wb(46,"div",6),X.Wb(47,"div",16),X.Rb(48,"br"),X.Wb(49,"label",17),X.Nc(50,"Deber\xe1 compartir el usuario y password generados. Una vez que ingrese al sistema se le solicitara el cambio de password"),X.Vb(),X.Vb(),X.Vb(),X.Wb(51,"div",18),X.Rb(52,"br"),X.Wb(53,"div",7),X.Wb(54,"button",19),X.gc("click",function(){return t.Guardar()}),X.Rb(55,"i",20),X.Nc(56," Guardar"),X.Vb(),X.Wb(57,"button",21),X.gc("click",function(){return t.Regresar(!0)}),X.Rb(58,"i",22),X.Nc(59," Cancelar"),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Wb(60,"ngx-spinner",23),X.Wb(61,"p",24),X.Nc(62," Loading... "),X.Vb(),X.Vb()),2&e&&(X.Cb(12),X.qc("ngModel",t.General.Cuenta.CorreoElectronico),X.Cb(5),X.qc("ngModel",t.General.Cuenta.CorreoElectronico2),X.Cb(6),X.Oc(t.General.Cuenta.Pass1),X.Cb(6),X.qc("ngModel",t.General.Cuenta.Nombre),X.Cb(5),X.qc("ngModel",t.General.Cuenta.ApellidoPaterno),X.Cb(5),X.qc("ngModel",t.General.Cuenta.ApellidoMaterno),X.Cb(5),X.qc("value",0)("ngModel",t.General.Cuenta.IdEmpresa),X.Cb(1),X.qc("ngForOf",t.ListaEmpresas),X.Cb(15),X.qc("fullScreen",!0))},directives:[b.d,b.k,b.o,b.r,b.w,b.v,l.m,K.a,b.s,b.y],styles:[""],changeDetection:0}),nt);function it(e,t){if(1&e&&(X.Wb(0,"option",20),X.Nc(1),X.Vb()),2&e){var r=t.$implicit;X.qc("value",r.Valor),X.Cb(1),X.Pc(" ",r.Descripcion," ")}}var ot,ct=((ot=function(){function e(t,n,a,i,o,c,l,s,b,u){r(this,e),this.snackBar=t,this.AuthService=n,this.toastr=a,this.spinnerService=i,this.router=o,this.sanitizer=c,this.ref=l,this.EmpresaService=s,this.RegistroService=b,this.AssignmentService=u,this.VistaPrincipal=new X.p,this.Page={},this.Screen={},this.General={},this.ListaEmpresas=[],this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Cuenta={},this.CargaEmpresas()}return t(e,[{key:"ngOnInit",value:function(){}},{key:"CargaEmpresas",value:function(){var e=this;this.spinnerService.show(),this.EmpresaService.GetEmpresas().subscribe(function(t){e.ListaEmpresas=t,Object.keys(e.AssignmentService.oDetalleCuenta).length>0&&(e.General.Cuenta=e.AssignmentService.oDetalleCuenta),e.spinnerService.hide()},function(t){e.handleError(t)})}},{key:"Regresar",value:function(e){this.VistaPrincipal.emit(e)}},{key:"emailIsValid",value:function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}},{key:"Guardar",value:function(){var e=this;null!=this.General.Cuenta.Nombre&&""!=this.General.Cuenta.Nombre?null!=this.General.Cuenta.ApellidoPaterno&&""!=this.General.Cuenta.ApellidoPaterno?null!=this.General.Cuenta.ApellidoMaterno&&""!=this.General.Cuenta.ApellidoMaterno?null!=this.General.Cuenta.IdEmpresa&&"0"!=this.General.Cuenta.IdEmpresa?this.AssignmentService.ActualizarCuenta(this.General.Cuenta).subscribe(function(t){0==t.Valid?e.toastr.error("Ocurri\xf3 un error al crear la cuenta, intente nuevamente"):e.toastr.success("La acci\xf3n se realizo correctamente "),e.Regresar(!0)},function(t){e.handleError(t)}):this.toastr.error("Debe seleccionar una empresa"):this.toastr.error("El campo Apellido Materno no es v\xe1lido"):this.toastr.error("El campo Apellido Paterno no es v\xe1lido"):this.toastr.error("El campo Nombre no es v\xe1lido")}},{key:"handleError",value:function(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:2e3})}}]),e}()).\u0275fac=function(e){return new(e||ot)(X.Qb(A.a),X.Qb(Y.a),X.Qb(te.b),X.Qb(K.c),X.Qb(s.h),X.Qb(re.b),X.Qb(X.i),X.Qb(we.a),X.Qb(tt.a),X.Qb(et))},ot.\u0275cmp=X.Kb({type:ot,selectors:[["kt-editarcuenta"]],outputs:{VistaPrincipal:"VistaPrincipal"},decls:48,vars:8,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-user"],[1,"card-body"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"form-control","form-control-sm",2,"background-color","#F3F6F9"],["type","text","maxlength","100","aria-describedby","helpServicio","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["required","","name","select","name","ddlEmpresa",1,"form-control","form-control-sm",3,"value","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"card-footer",2,"border-top","0px","padding","0px"],[1,"btn","btn-light","btn-text-success","btn-hover-text-success","font-weight-bold",3,"click"],[1,"fa","fa-save"],[1,"btn","btn-light","btn-text-dark","btn-hover-text-dark","font-weight-bold",2,"margin-left","5px",3,"click"],[1,"fa","fa-times"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[3,"value"]],template:function(e,t){1&e&&(X.Wb(0,"div",0),X.Wb(1,"div",1),X.Wb(2,"div",2),X.Wb(3,"h2",3),X.Rb(4,"i",4),X.Nc(5," Editar Registro de Administraci\xf3n de Cuenta de Empresa"),X.Vb(),X.Vb(),X.Vb(),X.Wb(6,"div",5),X.Wb(7,"div",6),X.Wb(8,"div",7),X.Wb(9,"div",8),X.Wb(10,"label"),X.Nc(11,"*Usuario (Email)"),X.Vb(),X.Wb(12,"span",9),X.Nc(13),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Wb(14,"div",6),X.Wb(15,"div",7),X.Wb(16,"div",8),X.Wb(17,"label"),X.Nc(18,"*Nombre"),X.Vb(),X.Wb(19,"input",10),X.gc("ngModelChange",function(e){return t.General.Cuenta.Nombre=e}),X.Vb(),X.Vb(),X.Vb(),X.Wb(20,"div",7),X.Wb(21,"div",8),X.Wb(22,"label"),X.Nc(23,"*Apellido Paterno"),X.Vb(),X.Wb(24,"input",10),X.gc("ngModelChange",function(e){return t.General.Cuenta.ApellidoPaterno=e}),X.Vb(),X.Vb(),X.Vb(),X.Wb(25,"div",7),X.Wb(26,"div",8),X.Wb(27,"label"),X.Nc(28,"*Apellido Materno"),X.Vb(),X.Wb(29,"input",10),X.gc("ngModelChange",function(e){return t.General.Cuenta.ApellidoMaterno=e}),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Wb(30,"div",6),X.Wb(31,"div",7),X.Wb(32,"label"),X.Nc(33,"*Empresa"),X.Vb(),X.Wb(34,"select",11),X.gc("ngModelChange",function(e){return t.General.Cuenta.IdEmpresa=e}),X.Lc(35,it,2,2,"option",12),X.Vb(),X.Vb(),X.Vb(),X.Wb(36,"div",13),X.Rb(37,"br"),X.Wb(38,"div",7),X.Wb(39,"button",14),X.gc("click",function(){return t.Guardar()}),X.Rb(40,"i",15),X.Nc(41," Guardar"),X.Vb(),X.Wb(42,"button",16),X.gc("click",function(){return t.Regresar(!0)}),X.Rb(43,"i",17),X.Nc(44," Cancelar"),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Wb(45,"ngx-spinner",18),X.Wb(46,"p",19),X.Nc(47," Loading... "),X.Vb(),X.Vb()),2&e&&(X.Cb(13),X.Pc(" ",t.General.Cuenta.CorreoElectronico,""),X.Cb(6),X.qc("ngModel",t.General.Cuenta.Nombre),X.Cb(5),X.qc("ngModel",t.General.Cuenta.ApellidoPaterno),X.Cb(5),X.qc("ngModel",t.General.Cuenta.ApellidoMaterno),X.Cb(5),X.qc("value",0)("ngModel",t.General.Cuenta.IdEmpresa),X.Cb(1),X.qc("ngForOf",t.ListaEmpresas),X.Cb(10),X.qc("fullScreen",!0))},directives:[b.d,b.k,b.o,b.r,b.w,b.v,l.m,K.a,b.s,b.y],styles:[""],changeDetection:0}),ot),lt=["matPaginator7"],st=["sort7"];function bt(e,t){if(1&e){var r=X.Xb();X.Wb(0,"button",31),X.gc("click",function(){return X.Bc(r),X.kc().ShowAdd()}),X.Rb(1,"i",32),X.Nc(2," Nuevo "),X.Vb()}}function ut(e,t){1&e&&(X.Wb(0,"mat-header-cell"),X.Nc(1," Actions "),X.Vb())}function dt(e,t){if(1&e){var r=X.Xb();X.Wb(0,"button",37),X.gc("click",function(){X.Bc(r);var e=X.kc().$implicit;return X.kc().ShowEdit(e)}),X.Rb(1,"i",38),X.Vb()}}function ft(e,t){if(1&e){var r=X.Xb();X.Wb(0,"button",39),X.gc("click",function(){X.Bc(r);var e=X.kc().$implicit;return X.kc().Suspender(e)}),X.Rb(1,"i",40),X.Vb()}}function ht(e,t){if(1&e){var r=X.Xb();X.Wb(0,"button",41),X.gc("click",function(){X.Bc(r);var e=X.kc().$implicit;return X.kc().Eliminar(e)}),X.Rb(1,"i",42),X.Vb()}}function mt(e,t){if(1&e){var r=X.Xb();X.Wb(0,"button",43),X.gc("click",function(){X.Bc(r);var e=X.kc().$implicit;return X.kc().ResetPWD(e)}),X.Rb(1,"i",44),X.Vb()}}function pt(e,t){if(1&e&&(X.Wb(0,"mat-cell"),X.Lc(1,dt,2,0,"button",33),X.Nc(2," \xa0 "),X.Lc(3,ft,2,0,"button",34),X.Nc(4," \xa0 "),X.Lc(5,ht,2,0,"button",35),X.Nc(6," \xa0 "),X.Lc(7,mt,2,0,"button",36),X.Nc(8," \xa0 "),X.Vb()),2&e){var r=X.kc();X.Cb(1),X.qc("ngIf",r.Screen.Put),X.Cb(2),X.qc("ngIf",r.Screen.Reactive),X.Cb(2),X.qc("ngIf",r.Screen.Delete),X.Cb(2),X.qc("ngIf",r.Screen.Reset)}}function gt(e,t){1&e&&(X.Wb(0,"mat-header-cell",45),X.Nc(1," Estatus "),X.Vb())}function vt(e,t){if(1&e&&(X.Wb(0,"div"),X.Wb(1,"span",48),X.Nc(2),X.Vb(),X.Vb()),2&e){var r=X.kc().$implicit;X.Cb(2),X.Pc(" ",r.Status,"")}}function Ct(e,t){if(1&e&&(X.Wb(0,"div"),X.Wb(1,"span",49),X.Nc(2),X.Vb(),X.Vb()),2&e){var r=X.kc().$implicit;X.Cb(2),X.Pc(" ",r.Status,"")}}function Vt(e,t){if(1&e&&(X.Wb(0,"div"),X.Wb(1,"span",50),X.Nc(2),X.Vb(),X.Vb()),2&e){var r=X.kc().$implicit;X.Cb(2),X.Pc(" ",r.Status,"")}}function kt(e,t){if(1&e&&(X.Wb(0,"mat-cell"),X.Wb(1,"div",46),X.Lc(2,vt,3,1,"div",47),X.Lc(3,Ct,3,1,"div",47),X.Lc(4,Vt,3,1,"div",47),X.Vb(),X.Vb()),2&e){var r=t.$implicit;X.Cb(1),X.qc("ngSwitch",r.Status),X.Cb(1),X.qc("ngSwitchCase","Suspendido"),X.Cb(1),X.qc("ngSwitchCase","Activo"),X.Cb(1),X.qc("ngSwitchCase","Cambio Password")}}function Wt(e,t){1&e&&(X.Wb(0,"mat-header-cell",45),X.Nc(1," Usuario "),X.Vb())}function St(e,t){if(1&e&&(X.Wb(0,"mat-cell"),X.Nc(1),X.Vb()),2&e){var r=t.$implicit;X.Cb(1),X.Pc(" ",r.NombreUsuario," ")}}function Pt(e,t){1&e&&(X.Wb(0,"mat-header-cell",45),X.Nc(1," Nombre "),X.Vb())}function wt(e,t){if(1&e&&(X.Wb(0,"mat-cell"),X.Nc(1),X.Vb()),2&e){var r=t.$implicit;X.Cb(1),X.Pc(" ",r.Nombre," ")}}function xt(e,t){1&e&&(X.Wb(0,"mat-header-cell",45),X.Nc(1," Asignado a "),X.Vb())}function yt(e,t){if(1&e&&(X.Wb(0,"mat-cell"),X.Nc(1),X.Vb()),2&e){var r=t.$implicit;X.Cb(1),X.Pc(" ",r.RazonSocial," ")}}function Et(e,t){1&e&&(X.Wb(0,"mat-header-cell",45),X.Nc(1," Perf\xedl "),X.Vb())}function Nt(e,t){if(1&e&&(X.Wb(0,"mat-cell"),X.Nc(1),X.Vb()),2&e){var r=t.$implicit;X.Cb(1),X.Pc(" ",r.NombrePerfil," ")}}function Gt(e,t){1&e&&X.Rb(0,"mat-header-row")}function At(e,t){1&e&&X.Rb(0,"mat-row")}function Mt(e,t){if(1&e){var r=X.Xb();X.Wb(0,"div"),X.Wb(1,"kt-altacuenta",51,52),X.gc("VistaPrincipal",function(e){return X.Bc(r),X.kc().ShowVistaPrincipal(e)}),X.Vb(),X.Vb()}}function Ut(e,t){if(1&e){var r=X.Xb();X.Wb(0,"div"),X.Wb(1,"kt-editarcuenta",51,53),X.gc("VistaPrincipal",function(e){return X.Bc(r),X.kc().ShowVistaPrincipal(e)}),X.Vb(),X.Vb()}}var Lt,Rt,Dt,Bt=function(){return[25,50,75,100]},Ot=[{path:"",component:j,children:[{path:"security/perfil",component:Se},{path:"security/usuario",component:Ye},{path:"config/assignment",component:(Rt=function(){function e(t,n,a,i,o,c,l,s,b,u,d){r(this,e),this.snackBar=t,this.ref=n,this.AuthService=a,this.modalService=i,this.toastr=o,this.spinnerService=c,this.router=l,this.UsuarioService=s,this.ScreenActionsService=b,this.AssignmentService=u,this.EmpresaService=d,this.Page={},this.Screen={},this.General={},this.displayedColumns7=["actions","Status","NombreUsuario","Nombre","RazonSocial","NombrePerfil"],this.ListaEmpresas=[],this.Page.ShowAdd=!1,this.Page.ShowEdit=!1,this.Page.ShowList=!0,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Perfil={},this.AuthService.IsAlive()}return t(e,[{key:"ngOnInit",value:function(){var e=this;this.ScreenActionsService.PromiseAcciones(this.Page.Controller).then(function(t){e.Screen=t,e.CargaDatos()},function(t){e.handleError(t)})}},{key:"CargaDatos",value:function(){var e=this;this.dataSourceUsuarios=new M.k([]),this.spinnerService.show(),this.AssignmentService.GetAccesos().subscribe(function(t){e.dataSourceUsuarios=new M.k(t),e.dataSourceUsuarios.paginator=e.paginator7,e.dataSourceUsuarios.sort=e.sort7,e.ref.markForCheck(),e.spinnerService.hide()},function(t){e.handleError(t)})}},{key:"applyFilter7",value:function(e){this.dataSourceUsuarios.filter=e.trim().toLowerCase(),this.dataSourceUsuarios.paginator&&this.dataSourceUsuarios.paginator.firstPage()}},{key:"ShowAdd",value:function(){this.Page.ShowAdd=!0,this.Page.ShowList=!1,this.ref.markForCheck()}},{key:"Cancelar",value:function(){this.Page.ShowList=!0,this.Page.ShowAdd=!1,this.Page.ShowEdit=!1}},{key:"ShowVistaPrincipal",value:function(e){this.Page.ShowAdd=!1,this.Page.ShowEdit=!1,this.Page.ShowList=e,this.CargaDatos()}},{key:"ShowEdit",value:function(e){var t=this;this.spinnerService.show(),this.AssignmentService.GetDetalleCuenta(e).subscribe(function(r){t.AssignmentService.oDetalleCuenta=r,t.AssignmentService.oDetalleCuenta.Reference=e.Reference,t.Page.ShowAdd=!1,t.Page.ShowEdit=!0,t.Page.ShowList=!1,t.spinnerService.hide()},function(e){t.handleError(e)})}},{key:"Eliminar",value:function(e){var t=this;Z.a.fire({title:"Confirmaci\xf3n",text:"Desea eliminar definitivamente el acceso al usuario: "+e.NombreUsuario+". Al realizar esta acci\xf3n el usuario ya no tendr\xe1 acceso al sistema. Esta acci\xf3n es irreversible",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then(function(r){r.value&&t.GuardarEliminar(e)})}},{key:"GuardarEliminar",value:function(e){var t=this;this.spinnerService.show(),this.AssignmentService.EliminarCuenta(e).subscribe(function(e){t.spinnerService.hide(),t.toastr.success("La tarea se realiz\xf3 correctamente"),t.CargaDatos()},function(e){t.handleError(e)})}},{key:"ResetPWD",value:function(e){var t=this;Z.a.fire({title:"Confirmaci\xf3n",text:"Desea reestablecer la contrase\xf1a del usuario: "+e.NombreUsuario,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(function(r){r.value&&t.GuardarResetearUsuario(e)})}},{key:"GuardarResetearUsuario",value:function(e){var t=this;this.spinnerService.show(),this.AssignmentService.ResetAdminCuenta(e).subscribe(function(e){1==e.Valid?(window.confirm("Password Temporal: "+e.Temporal),t.toastr.success("La acci\xf3n se realiz\xf3 correctamente. Email Enviado")):t.toastr.error("Ocurri\xf3 un error al realizar la tarea, intente m\xe1s tarde"),t.spinnerService.hide(),t.ref.markForCheck()},function(e){t.handleError(e)})}},{key:"Suspender",value:function(e){var t,r=this;t="Cambio Password"==e.Status||"Activo"==e.Status?"Desea Suspender al Usuario: "+e.NombreUsuario:"Desea Reactivar al Usuario: "+e.NombreUsuario,Z.a.fire({title:"Confirmaci\xf3n",text:t,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(function(t){t.value&&r.GuardarReactivarSuspender(e)})}},{key:"GuardarReactivarSuspender",value:function(e){var t=this,r={};r.Reference=e.Reference,r.NombreUsuario=e.NombreUsuario,this.spinnerService.show(),this.AssignmentService.SuspenderReactivar(r).subscribe(function(e){1==e.Valid?(t.CargaDatos(),t.toastr.success("La acci\xf3n se realiz\xf3 correctamente.")):t.toastr.error("Ocurri\xf3 un error al realizar la tarea, intente m\xe1s tarde"),t.spinnerService.hide()},function(e){t.handleError(e)})}},{key:"getRandomInt",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"handleError",value:function(e){this.spinnerService.hide(),this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion)}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:2e3})}}]),e}(),Rt.\u0275fac=function(e){return new(e||Rt)(X.Qb(A.a),X.Qb(X.i),X.Qb(Y.a),X.Qb(ee.y),X.Qb(te.b),X.Qb(K.c),X.Qb(s.h),X.Qb(Pe.a),X.Qb(ie.a),X.Qb(et),X.Qb(we.a))},Rt.\u0275cmp=X.Kb({type:Rt,selectors:[["kt-bandejaaccesos"]],viewQuery:function(e,t){var r;1&e&&(X.Gc(lt,!0),X.Gc(st,!0)),2&e&&(X.xc(r=X.hc())&&(t.paginator7=r.first),X.xc(r=X.hc())&&(t.sort7=r.first))},decls:45,vars:10,consts:[[1,"card","card-custom",3,"hidden"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[1,"col-xs-12","col-md-2"],["type","button","style","color: #7AB800 !important","class","btn btn-outline-secondary",3,"click",4,"ngIf"],[1,"row"],[1,"col-xs-12","col-md-12",2,"flex","0 0 0% !important"],[1,"example-header"],["matInput","","placeholder","Buscar",3,"keyup"],[1,"col-xs-12","col-md-12"],[3,"pageSizeOptions"],["matPaginator7",""],["matSort","",3,"dataSource"],["sort7","matSort"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Status"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","NombreUsuario"],["matColumnDef","Nombre"],["matColumnDef","RazonSocial"],["matColumnDef","NombrePerfil"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],["type","button",1,"btn","btn-outline-secondary",2,"color","#7AB800 !important",3,"click"],[1,"fas","fa-plus-circle"],["style","width:40px !important;","type","button","data-toggle","tooltip","title","Editar informaci\xf3n","class","btn btn-xs btn-default btn-text-default btn-hover-primary btn-icon",3,"click",4,"ngIf"],["style","width:40px !important;","type","button","data-toggle","tooltip","title","Activar o Desactivar Usuario","class","btn btn-xs btn-default btn-text-default btn-hover-danger btn-icon",3,"click",4,"ngIf"],["style","width:40px !important;","type","button","data-toggle","tooltip","title","Eliminar definitivamente","class","btn btn-xs btn-default btn-text-default btn-hover-danger btn-icon",3,"click",4,"ngIf"],["style","width:40px !important;","type","button","data-toggle","tooltip","title","Resetear Password de Gestor de Empresa","class","btn btn-xs btn-default btn-text-default btn-hover-danger btn-icon",3,"click",4,"ngIf"],["type","button","data-toggle","tooltip","title","Editar informaci\xf3n",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-primary","btn-icon",2,"width","40px !important",3,"click"],[1,"fa","fa-edit"],["type","button","data-toggle","tooltip","title","Activar o Desactivar Usuario",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-danger","btn-icon",2,"width","40px !important",3,"click"],[1,"far","fa-eye-slash"],["type","button","data-toggle","tooltip","title","Eliminar definitivamente",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-danger","btn-icon",2,"width","40px !important",3,"click"],[1,"far","fa-trash-alt"],["type","button","data-toggle","tooltip","title","Resetear Password de Gestor de Empresa",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-danger","btn-icon",2,"width","40px !important",3,"click"],[1,"fa","fa-unlock"],["mat-sort-header",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["data-toggle","tooltip","title","Proveedor suspendido",1,"label","font-weight-bold","label-lg","label-light-danger","label-inline"],["data-toggle","tooltip","title","Proveedor activo",1,"label","font-weight-bold","label-lg","label-light-success","label-inline"],["data-toggle","tooltip","title","Solicito reseteo de contrase\xf1a",1,"label","font-weight-bold","label-lg","label-light-warning","label-inline"],[3,"VistaPrincipal"],["sharecmp",""],["sharecmpEdit",""]],template:function(e,t){1&e&&(X.Wb(0,"div",0),X.Wb(1,"div",1),X.Wb(2,"div",2),X.Wb(3,"h2",3),X.Rb(4,"i",4),X.Nc(5," Configuraci\xf3n de accesos "),X.Vb(),X.Vb(),X.Vb(),X.Wb(6,"div",5),X.Wb(7,"div",6),X.Lc(8,bt,3,0,"button",7),X.Vb(),X.Wb(9,"div",8),X.Wb(10,"div",9),X.Rb(11,"br"),X.Wb(12,"div",10),X.Wb(13,"mat-form-field"),X.Wb(14,"input",11),X.gc("keyup",function(e){return t.applyFilter7(e.target.value)}),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Wb(15,"div",12),X.Rb(16,"mat-paginator",13,14),X.Wb(18,"mat-table",15,16),X.Ub(20,17),X.Lc(21,ut,2,0,"mat-header-cell",18),X.Lc(22,pt,9,4,"mat-cell",19),X.Tb(),X.Ub(23,20),X.Lc(24,gt,2,0,"mat-header-cell",21),X.Lc(25,kt,5,4,"mat-cell",19),X.Tb(),X.Ub(26,22),X.Lc(27,Wt,2,0,"mat-header-cell",21),X.Lc(28,St,2,1,"mat-cell",19),X.Tb(),X.Ub(29,23),X.Lc(30,Pt,2,0,"mat-header-cell",21),X.Lc(31,wt,2,1,"mat-cell",19),X.Tb(),X.Ub(32,24),X.Lc(33,xt,2,0,"mat-header-cell",21),X.Lc(34,yt,2,1,"mat-cell",19),X.Tb(),X.Ub(35,25),X.Lc(36,Et,2,0,"mat-header-cell",21),X.Lc(37,Nt,2,1,"mat-cell",19),X.Tb(),X.Lc(38,Gt,1,0,"mat-header-row",26),X.Lc(39,At,1,0,"mat-row",27),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Vb(),X.Lc(40,Mt,3,0,"div",28),X.Lc(41,Ut,3,0,"div",28),X.Wb(42,"ngx-spinner",29),X.Wb(43,"p",30),X.Nc(44," Loading... "),X.Vb(),X.Vb()),2&e&&(X.qc("hidden",!t.Page.ShowList),X.Cb(8),X.qc("ngIf",t.Screen.Post),X.Cb(8),X.qc("pageSizeOptions",X.tc(9,Bt)),X.Cb(2),X.qc("dataSource",t.dataSourceUsuarios),X.Cb(20),X.qc("matHeaderRowDef",t.displayedColumns7),X.Cb(1),X.qc("matRowDefColumns",t.displayedColumns7),X.Cb(1),X.qc("ngIf",t.Page.ShowAdd),X.Cb(1),X.qc("ngIf",t.Page.ShowEdit),X.Cb(1),X.qc("fullScreen",!0))},directives:[l.n,k.c,V.b,I.a,M.j,F.a,M.c,M.e,M.b,M.g,M.i,K.a,M.d,M.a,F.b,l.p,l.q,M.f,M.h,at,ct],styles:[".mat-table[_ngcontent-%COMP%]{overflow-x:scroll}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{word-wrap:normal;display:table-cell;padding:0 10px;line-break:unset;width:90%;white-space:nowrap;overflow:hidden;vertical-align:middle}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{display:table-row}"],changeDetection:0}),Rt)},{path:"config/refresh",component:(Lt=function(){function e(t,n){r(this,e),this.router=t,this.EmpresaService=n,document.getElementById("EnterpriseName").innerHTML=JSON.parse(JSON.stringify(this.EmpresaService.Empresa.Descripcion)),this.router.navigate([this.EmpresaService.Empresa.LastUrl])}return t(e,[{key:"ngOnInit",value:function(){}}]),e}(),Lt.\u0275fac=function(e){return new(e||Lt)(X.Qb(s.h),X.Qb(we.a))},Lt.\u0275cmp=X.Kb({type:Lt,selectors:[["kt-refresh"]],decls:3,vars:1,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"]],template:function(e,t){1&e&&(X.Wb(0,"ngx-spinner",0),X.Wb(1,"p",1),X.Nc(2," Loading... "),X.Vb(),X.Vb()),2&e&&X.qc("fullScreen",!0)},directives:[K.a],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:100%;min-width:100%}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:100%}.mat-column-NombreCliente[_ngcontent-%COMP%]{word-wrap:break-word!important;white-space:unset!important;flex:0 0 30%!important;width:10%!important;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}[_ngcontent-%COMP%]::-moz-placeholder{color:#c8cfdd;opacity:1}[_ngcontent-%COMP%]::placeholder{color:#c8cfdd;opacity:1}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#c8cfdd}[_ngcontent-%COMP%]::-ms-input-placeholder{color:#c8cfdd}.Oferta[_ngcontent-%COMP%]{font-size:11px;font-weight:400;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.Offer[_ngcontent-%COMP%]:hover{background-color:#7ab800;color:#fff}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:36px}"],changeDetection:0}),Lt)}]}],It=((Dt=function e(){r(this,e)}).\u0275mod=X.Ob({type:Dt}),Dt.\u0275inj=X.Nb({factory:function(e){return new(e||Dt)},providers:[p.c,{provide:z.d,useValue:{}},{provide:z.a,useValue:{}},{provide:h.f,useValue:"en-GB"},{provide:C.a,useValue:{useUtc:!0}}],imports:[[l.c,V.c,k.e,v.c,W.b,U.d,R.b,y.g,x.b,S.c,p.b,h.m,f.b,g.b,E.c,P.d,w.b,L.g,N.b,G.b,A.b,M.l,D.b,_.b,z.c,T.b,$.b,F.c,Q.d,q.e,I.b,m.f,h.u,u.a,c.c,O.d,B.c,d.a,H.a,K.b,b.j,b.u,s.l.forChild(Ot)],s.l]}),Dt)}}])}();