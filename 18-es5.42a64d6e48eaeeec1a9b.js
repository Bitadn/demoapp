!function(){function e(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(t,i,a){return i&&e(t.prototype,i),a&&e(t,a),t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{MinF:function(e,a,n){"use strict";n.r(a),n.d(a,"OpinionCumplimientoModule",function(){return Ot});var o,r,c,l=n("QibW"),s=n("ofXK"),b=n("tyNb"),d=n("3Pt+"),u=n("WsYS"),p=n("93Pz"),h=n("1jcm"),f=n("FKr1"),m=n("0IaG"),g=n("NFeN"),v=n("bSwM"),C=n("iadO"),S=n("1yaQ"),U=n("qFsG"),V=n("kmnG"),w=n("/1cH"),y=n("bTqV"),k=n("wZkO"),P=n("Qu3c"),D=n("d3UM"),O=n("Wp6s"),F=n("STbY"),I=n("bv9b"),x=n("Xa2L"),R=n("dNgK"),E=n("+0xr"),M=n("MutI"),K=n("XhcP"),A=n("5RNC"),G=n("zkoq"),z=n("jaxi"),L=n("8yBR"),j=n("M9IT"),B=n("A5z7"),Q=n("xHqg"),T=n("Dh3D"),$=n("/t3+"),N=n("2ChS"),_=n("7EHt"),J=n("f0Cb"),H=n("fXoL"),W=((o=function e(){i(this,e)}).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=H.Jb({type:o,selectors:[["kt-opinioncumplimiento"]],decls:1,vars:0,template:function(e,t){1&e&&H.Qb(0,"router-outlet")},directives:[b.m],encapsulation:2,changeDetection:0}),o),q=n("QJFE"),X=n("JqCM"),Y=n("+BVi"),Z=n("1kSV"),ee=n("5eHb"),te=n("jhN1"),ie=n("ptnc"),ae=n("LIxy"),ne=n("ap2d"),oe=((r=function(){function e(t,a){i(this,e),this.api=t,this.router=a,this.oDetalleCliente={}}return t(e,[{key:"GetDetalleOpinionCumplimiento",value:function(){return this.api.get("validator/client",{})}},{key:"GetCliente",value:function(e){return this.api.post("validator/client",e)}},{key:"GetOpinionPreveedor",value:function(e){return this.api.post("OpinionCumplimiento/list",e)}},{key:"ProcesaArchivoPDF",value:function(e){return this.api.post("OpinionCumplimiento",e).toPromise()}},{key:"GetRevisionOpiniones",value:function(){return this.api.get("RevisionOpinion",{})}},{key:"AplicaFiltros",value:function(e){return this.api.post("RevisionOpinion/Filter",e)}}]),e}()).\u0275fac=function(e){return new(e||r)(H.cc(ne.a),H.cc(b.h))},r.\u0275prov=H.Lb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),re=n("tk/3"),ce=n("AytR"),le=n("lJxs"),se=((c=function(){function e(t){i(this,e),this.httpClient=t}return t(e,[{key:"upload",value:function(e,t){var i=localStorage.getItem("auth"),a=JSON.parse(i);return this.httpClient.post("".concat(ce.a.apiUrl,"/").concat(e),t,{headers:new re.e({Authorization:"Bearer "+a.token}),reportProgress:!0,observe:"events"}).pipe(Object(le.a)(function(e){switch(e.type){case re.d.UploadProgress:return{status:"progress",message:Math.round(100*e.loaded/e.total)};case re.d.Response:return e.body;default:return"Unhandled"}}))}},{key:"ProcessCargaArchivoPromise",value:function(e){return this.httpOptions=this.getToken(),this.httpClient.get("".concat(ce.a.apiUrl,"/").concat(e),Object.assign({},this.httpOptions)).toPromise()}},{key:"uploadOpinion",value:function(e,t){var i=localStorage.getItem("auth"),a=JSON.parse(i);return this.httpClient.post("".concat(ce.a.apiUrl,"/").concat(e),t,{headers:new re.e({Authorization:"Bearer "+a.token}),reportProgress:!0,observe:"events"}).pipe(Object(le.a)(function(e){switch(e.type){case re.d.UploadProgress:return{status:"progress",message:Math.round(100*e.loaded/e.total)};case re.d.Response:return e.body;default:return"Unhandled"}}))}},{key:"getToken",value:function(){var e=localStorage.getItem("id_token");return{headers:new re.e({"Content-Type":"application/json",Authorization:"Bearer "+e})}}}]),e}()).\u0275fac=function(e){return new(e||c)(H.cc(re.b))},c.\u0275prov=H.Lb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),be=["matPaginator7"],de=["sort7"],ue=["popCCliente"];function pe(e,t){if(1&e){var i=H.Wb();H.Vb(0,"div"),H.Vb(1,"div",22),H.Vb(2,"div",23),H.Vb(3,"h5",24),H.Qb(4,"i",25),H.Kc(5," Cliente"),H.Ub(),H.Ub(),H.Vb(6,"div",23),H.Qb(7,"hr"),H.Ub(),H.Ub(),H.Vb(8,"div",22),H.Vb(9,"div",26),H.Vb(10,"div",27),H.Vb(11,"label"),H.Kc(12,"Nombre"),H.Ub(),H.Vb(13,"label",28),H.Kc(14),H.Ub(),H.Ub(),H.Ub(),H.Vb(15,"div",29),H.Vb(16,"div",27),H.Vb(17,"label"),H.Kc(18,"RFC"),H.Ub(),H.Vb(19,"label",28),H.Kc(20),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Vb(21,"div",22),H.Vb(22,"div",30),H.Vb(23,"a",31),H.fc("click",function(){return H.zc(i),H.jc().Regresar(!0)}),H.Kc(24,"Cancelar"),H.Ub(),H.Ub(),H.Ub(),H.Ub()}if(2&e){var a=H.jc();H.Cb(14),H.Mc(" ",a.General.Cliente.NombreCliente,""),H.Cb(6),H.Mc(" ",a.General.Cliente.RFC,"")}}var he=function(e){return{width:e}};function fe(e,t){if(1&e&&(H.Vb(0,"div",32),H.Qb(1,"br"),H.Vb(2,"div",33),H.Qb(3,"div",34),H.Ub(),H.Ub()),2&e){var i=H.jc();H.Cb(3),H.pc("ngStyle",H.tc(1,he,i.Avance.message+"%"))}}function me(e,t){if(1&e){var i=H.Wb();H.Vb(0,"div",22),H.Vb(1,"div",35),H.Vb(2,"div",36),H.Vb(3,"h4",37),H.Kc(4,"Archivo Cargado correctamente"),H.Ub(),H.Vb(5,"p"),H.Kc(6," El Archivo se registr\xf3 correctamente."),H.Qb(7,"br"),H.Kc(8," A continuaci\xf3n ser\xe1 validado y recibira una notificaci\xf3n en caso de ser aceptado o rechazado."),H.Ub(),H.Qb(9,"div",38),H.Vb(10,"p",39),H.Vb(11,"button",40),H.fc("click",function(){return H.zc(i),H.jc().Regresar(!0)}),H.Kc(12,"Aceptar"),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Ub()}}function ge(e,t){if(1&e){var i=H.Wb();H.Vb(0,"div",41),H.Vb(1,"h4",42),H.Vb(2,"span",43),H.Kc(3," Se ha detectado una carga previa"),H.Ub(),H.Ub(),H.Vb(4,"button",44),H.fc("click",function(){return(0,t.dismiss)("Cross click")}),H.Vb(5,"span",45),H.Kc(6,"\xd7"),H.Ub(),H.Ub(),H.Ub(),H.Vb(7,"div",46),H.Vb(8,"div",22),H.Vb(9,"div",23),H.Vb(10,"div",27),H.Vb(11,"label"),H.Kc(12,"Si desea volver a cargar su opini\xf3n de cumplimiento, favor de ingresar el motivo"),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Vb(13,"div",22),H.Vb(14,"div",23),H.Vb(15,"div",27),H.Vb(16,"label"),H.Kc(17,"Motivo:"),H.Ub(),H.Vb(18,"textarea",47),H.fc("ngModelChange",function(e){return H.zc(i),H.jc().General.Cliente.MotivoActualizacion=e}),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Vb(19,"div",48),H.Vb(20,"button",49),H.fc("click",function(){return H.zc(i),H.jc().AceptaCarga()}),H.Kc(21,"Aceptar"),H.Ub(),H.Vb(22,"button",50),H.fc("click",function(){return(0,t.close)("Close click")}),H.Kc(23,"Cancelar"),H.Ub(),H.Ub()}if(2&e){var a=H.jc();H.Cb(18),H.pc("ngModel",a.General.Cliente.MotivoActualizacion)}}var ve,Ce=((ve=function(){function e(t,a,n,o,r,c,l,s,b,d){i(this,e),this.snackBar=t,this.AuthService=a,this.toastr=n,this.spinnerService=o,this.router=r,this.sanitizer=c,this.modalService=l,this.OpinionCumplimientoService=s,this.UploadFilesService=b,this.ref=d,this.VistaPrincipal=new H.p,this.Page={},this.Screen={},this.General={},this.Avance={Break:0},this.Documento={},this.Archivo={},this.uploadResponse={status:"",message:0,filePath:""},this.ListaTipoSolicitud=[],this.modalReference=null,this.displayedColumns7=["No","NombrePerfil","actions"],this.Page.ShowAdd=!1,this.Page.ShowEdit=!1,this.Page.ShowUpload=!1,this.Page.ShowRegistro=!0,this.Page.ShowCargaExitosa=!1,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Cliente={}}return t(e,[{key:"ngOnInit",value:function(){Object.keys(this.OpinionCumplimientoService.oDetalleCliente).length>0?(this.General.Cliente=this.OpinionCumplimientoService.oDetalleCliente,this.Page.ShowUpload=!0,this.ref.detectChanges()):this.Regresar(!0)}},{key:"UpLoadFile",value:function(e){var t=this,i=[],a=(i=e.target.files[0].name).substring(i.length-5,i.length),n=e.target.files[0].size/1024,o=a.match(/\.(.+)$/)[1].toLowerCase();if(n>1024)return this.toastr.error("Tama\xf1o de archivo no valido, solo se puede cargar un maximo de 1MB","Error"),void(document.getElementById("fileUploadCuenta").value="");if("pdf"==o){var r=new FormData;r.append("file",e.target.files[0]),r.append("data",JSON.stringify(this.General.Cliente)),this.UploadFilesService.uploadOpinion("report/upload",r).subscribe(function(e){try{if(t.uploadResponse=e,"Unhandled"!=e&&Object.entries(e).length>0){if(e.hasOwnProperty("IdFile")){if(t.General.IdFile=e.IdFile,0==t.General.IdFile)return t.ErrorCargaArchivo(),void t.spinnerService.hide();t.Page.ShowRegistro=!1,t.Page.ShowUpload=!1,t.Page.ShowCargaExitosa=!0,t.ref.detectChanges(),t.timeouts=setTimeout(function(){t.ProcesarArchivo(),t.spinnerService.hide()},1e3)}t.Avance=Object.assign({},t.uploadResponse),t.ref.detectChanges()}100===t.Avance.message&&0==t.Avance.Break&&(t.timeouts=setTimeout(function(){t.openSnackBar("El archivo se cargo correctamente","Cerrar"),t.Avance={status:"",message:0},t.ref.detectChanges()},2e3)),document.getElementById("fileUploadCuenta").value=""}catch(i){t.Avance={status:"",message:100}}},function(e){t.ErrorCargaArchivo()})}else this.toastr.error("Archivo no v\xe1lido","Error")}},{key:"ErrorCargaArchivo",value:function(){this.Avance.Break=1,this.Avance={status:"",message:0},this.ref.detectChanges(),document.getElementById("fileUploadCuenta").value="",this.toastr.error("Ocurrio un error al cargar el archivo")}},{key:"Sube",value:function(){this.General.Cliente.MotivoActualizacion="",0==this.General.Cliente.Cargado?(this.uploadResponse={status:"",message:0,filePath:""},document.getElementById("fileUploadCuenta").click()):(this.modalReference=this.modalService.open(this.popUpRecarga,{size:"lg"}),this.ref.markForCheck())}},{key:"AceptaCarga",value:function(){null==this.General.Cliente.MotivoActualizacion||this.General.Cliente.MotivoActualizacion.length<5?this.openSnackBar("Motivo no v\xe1lido","Cerrar"):(this.modalReference.close(),this.uploadResponse={status:"",message:0,filePath:""},document.getElementById("fileUploadCuenta").click())}},{key:"Regresar",value:function(e){this.VistaPrincipal.emit(e)}},{key:"ProcesarArchivo",value:function(){var e=this;if(this.General.IdFile){this.General.Cliente.Cargado=1;var t={};t.InitProcess=this.General.IdFile,t.Reference=this.General.Cliente.Reference,this.OpinionCumplimientoService.ProcesaArchivoPDF(t).then(function(t){switch(t.Result){case 0:e.toastr.error("Se detect\xf3 un RFC incorrecto por favor valide su archivo.");break;case 3e3:e.toastr.error(t.Message)}},function(e){console.log("Ocurrio un error")})}}},{key:"handleError",value:function(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:2e3})}}]),e}()).\u0275fac=function(e){return new(e||ve)(H.Pb(R.a),H.Pb(Y.a),H.Pb(ee.b),H.Pb(X.c),H.Pb(b.h),H.Pb(te.b),H.Pb(Z.y),H.Pb(oe),H.Pb(se),H.Pb(H.i))},ve.\u0275cmp=H.Jb({type:ve,selectors:[["kt-cargaoponioncumplimiento"]],viewQuery:function(e,t){var i;1&e&&(H.Ec(be,!0),H.Ec(de,!0),H.Ec(ue,!0)),2&e&&(H.wc(i=H.gc())&&(t.paginator7=i.first),H.wc(i=H.gc())&&(t.sort7=i.first),H.wc(i=H.gc())&&(t.popUpRecarga=i.first))},outputs:{VistaPrincipal:"VistaPrincipal"},decls:33,vars:5,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[4,"ngIf"],[1,"row",3,"hidden"],[1,"col-xs-12","col-md-4"],[1,"col-xs-12","col-md-6"],[1,"row","mt-10"],["id","divOficiosUpLoad",2,"cursor","pointer",3,"click"],[1,"fa","fa-cloud-upload-alt",2,"font-size","40px","margin-top","28px","color","#54637A"],[2,"font-size","11px","font-family","Verdana"],[2,"float","left","width","60%"],[2,"margin-top","-7px"],["type","file","id","fileUploadCuenta",2,"display","none",3,"change"],["class","col-md-8",4,"ngIf"],["class","row",4,"ngIf"],["popCCliente",""],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"col-md-12"],[2,"color","#7AB800 !important"],[1,"fa","fa-user"],[1,"col-md-5"],[1,"form-group"],["type","text","aria-describedby","helpEmpresa",1,"form-control","form-control-sm"],[1,"col-md-2"],[1,"d-flex","align-items-center","p-2"],["href","javascript:;",1,"btn","btn-transparent-danger","font-weight-bold","mr-2",3,"click"],[1,"col-md-8"],[1,"progress"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",3,"ngStyle"],[1,"col-md-6"],["role","alert",1,"alert","alert-success","mb-5","p-5"],[1,"alert-heading"],[1,"border-bottom","border-white","opacity-20","mb-5"],[1,"mb-0"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"text-muted"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["maxlength","250","cols","6","rows","3",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(e,t){1&e&&(H.Vb(0,"div",0),H.Vb(1,"div",1),H.Vb(2,"div",2),H.Vb(3,"h2",3),H.Qb(4,"i",4),H.Kc(5," Registro de Opini\xf3n de Cumplimiento "),H.Ub(),H.Ub(),H.Ub(),H.Vb(6,"div",5),H.Ic(7,pe,25,2,"div",6),H.Vb(8,"div",7),H.Qb(9,"div",8),H.Vb(10,"div",9),H.Vb(11,"div",10),H.Vb(12,"div",11),H.fc("click",function(){return t.Sube()}),H.Qb(13,"i",12),H.Vb(14,"p",13),H.Kc(15,"Agregar Archivo"),H.Ub(),H.Ub(),H.Vb(16,"div",14),H.Qb(17,"br"),H.Qb(18,"br"),H.Vb(19,"p"),H.Kc(20," Los formatos de archivos aceptados son: "),H.Ub(),H.Vb(21,"ul",15),H.Vb(22,"li"),H.Kc(23,"PDF (.pdf) m\xe1ximo 1MB"),H.Ub(),H.Ub(),H.Ub(),H.Vb(24,"input",16),H.fc("change",function(e){return t.UpLoadFile(e)}),H.Ub(),H.Ic(25,fe,4,3,"div",17),H.Ub(),H.Ub(),H.Ub(),H.Ic(26,me,13,0,"div",18),H.Ub(),H.Ub(),H.Vb(27,"div"),H.Ic(28,ge,24,1,"ng-template",null,19,H.Jc),H.Ub(),H.Vb(30,"ngx-spinner",20),H.Vb(31,"p",21),H.Kc(32," Loading... "),H.Ub(),H.Ub()),2&e&&(H.Cb(7),H.pc("ngIf",t.Page.ShowRegistro),H.Cb(1),H.pc("hidden",!t.Page.ShowUpload),H.Cb(17),H.pc("ngIf",t.Avance.message),H.Cb(1),H.pc("ngIf",t.Page.ShowCargaExitosa),H.Cb(4),H.pc("fullScreen",!0))},directives:[s.n,X.a,s.o,d.d,d.k,d.o,d.r],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}"],changeDetection:0}),ve),Se=["sharecmp"],Ue=["matPaginator7"],Ve=["sort7"];function we(e,t){if(1&e&&(H.Vb(0,"option",17),H.Kc(1),H.Ub()),2&e){var i=t.$implicit;H.pc("value",i.Reference),H.Cb(1),H.Mc(" ",i.RazonSocial," ")}}function ye(e,t){if(1&e){var i=H.Wb();H.Vb(0,"div",4),H.Vb(1,"div",5),H.Vb(2,"div",6),H.Vb(3,"h2",7),H.Qb(4,"i",8),H.Kc(5," Selecci\xf3n de Empresa "),H.Ub(),H.Ub(),H.Ub(),H.Vb(6,"div",9),H.Vb(7,"div"),H.Vb(8,"div",10),H.Vb(9,"div",11),H.Vb(10,"div",12),H.Vb(11,"label"),H.Kc(12,"Seleccione la empresa a la que desea enviar su oponion de cumplimiento"),H.Ub(),H.Vb(13,"select",13),H.fc("ngModelChange",function(e){return H.zc(i),H.jc().General.SeleccionEmpresa.Reference=e}),H.Ic(14,we,2,2,"option",14),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Vb(15,"div",10),H.Vb(16,"div",15),H.Vb(17,"a",16),H.fc("click",function(){return H.zc(i),H.jc().SeleccionarEmpresa()}),H.Kc(18,"Aceptar"),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Ub()}if(2&e){var a=H.jc();H.Cb(13),H.pc("ngModel",a.General.SeleccionEmpresa.Reference)("value",0),H.Cb(1),H.pc("ngForOf",a.ListaEmpresas)}}function ke(e,t){if(1&e){var i=H.Wb();H.Vb(0,"button",38),H.fc("click",function(){return H.zc(i),H.jc(2).ShowLoad()}),H.Qb(1,"i",39),H.Kc(2," Cargar Opini\xf3n "),H.Ub()}}function Pe(e,t){if(1&e){var i=H.Wb();H.Vb(0,"button",38),H.fc("click",function(){return H.zc(i),H.jc(2).CargaDatos()}),H.Qb(1,"i",40),H.Kc(2," Actualizar Estatus "),H.Ub()}}function De(e,t){1&e&&(H.Vb(0,"mat-header-cell",41),H.Kc(1,"Archivos Cargados"),H.Ub())}function Oe(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Kc(1),H.Ub()),2&e){var i=t.$implicit;H.Cb(1),H.Mc(" ",i.Actualizaciones," ")}}function Fe(e,t){1&e&&(H.Vb(0,"mat-header-cell",41),H.Kc(1," Mes "),H.Ub())}function Ie(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Kc(1),H.Ub()),2&e){var i=t.$implicit;H.Cb(1),H.Mc(" ",i.Mes," ")}}function xe(e,t){1&e&&(H.Vb(0,"mat-header-cell",41),H.Kc(1," Estatus "),H.Ub())}function Re(e,t){if(1&e&&(H.Vb(0,"div"),H.Vb(1,"span",44),H.Kc(2),H.Ub(),H.Ub()),2&e){var i=H.jc().$implicit;H.Cb(2),H.Mc(" ",i.Estatus,"")}}function Ee(e,t){if(1&e&&(H.Vb(0,"div"),H.Vb(1,"span",45),H.Kc(2),H.Ub(),H.Ub()),2&e){var i=H.jc().$implicit;H.Cb(2),H.Mc(" ",i.Estatus,"")}}function Me(e,t){if(1&e&&(H.Vb(0,"div"),H.Vb(1,"span",46),H.Kc(2),H.Ub(),H.Ub()),2&e){var i=H.jc().$implicit;H.Cb(2),H.Mc(" ",i.Estatus,"")}}function Ke(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Vb(1,"div",42),H.Ic(2,Re,3,1,"div",43),H.Ic(3,Ee,3,1,"div",43),H.Ic(4,Me,3,1,"div",43),H.Ub(),H.Ub()),2&e){var i=t.$implicit;H.Cb(1),H.pc("ngSwitch",i.Estatus),H.Cb(1),H.pc("ngSwitchCase","Rechazado"),H.Cb(1),H.pc("ngSwitchCase","Pendiente Revisi\xf3n"),H.Cb(1),H.pc("ngSwitchCase","Recibida")}}function Ae(e,t){1&e&&H.Qb(0,"mat-header-row")}function Ge(e,t){1&e&&H.Qb(0,"mat-row")}var ze=function(){return[25,50,75,100]};function Le(e,t){if(1&e){var i=H.Wb();H.Vb(0,"div",4),H.Vb(1,"div",10),H.Vb(2,"div",18),H.Vb(3,"h1",19),H.Kc(4),H.Qb(5,"i",20),H.Ub(),H.Ub(),H.Vb(6,"span",21),H.Kc(7,"Registro de Opinion de Cumplimiento"),H.Ub(),H.Ub(),H.Vb(8,"div",9),H.Vb(9,"div",10),H.Ic(10,ke,3,0,"button",22),H.Kc(11,"\xa0 "),H.Ic(12,Pe,3,0,"button",22),H.Kc(13,"\xa0 "),H.Ub(),H.Vb(14,"div",10),H.Vb(15,"div",23),H.Qb(16,"br"),H.Vb(17,"div",24),H.Vb(18,"mat-form-field"),H.Vb(19,"input",25),H.fc("keyup",function(e){return H.zc(i),H.jc().applyFilter7(e.target.value)}),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Vb(20,"div",26),H.Qb(21,"mat-paginator",27,28),H.Vb(23,"mat-table",29,30),H.Tb(25,31),H.Ic(26,De,2,0,"mat-header-cell",32),H.Ic(27,Oe,2,1,"mat-cell",33),H.Sb(),H.Tb(28,34),H.Ic(29,Fe,2,0,"mat-header-cell",32),H.Ic(30,Ie,2,1,"mat-cell",33),H.Sb(),H.Tb(31,35),H.Ic(32,xe,2,0,"mat-header-cell",32),H.Ic(33,Ke,5,4,"mat-cell",33),H.Sb(),H.Ic(34,Ae,1,0,"mat-header-row",36),H.Ic(35,Ge,1,0,"mat-row",37),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Ub()}if(2&e){var a=H.jc();H.Cb(4),H.Mc(" ",a.General.DatosEmpresa.RazonSocial," "),H.Cb(6),H.pc("ngIf",a.Screen.Post),H.Cb(2),H.pc("ngIf",a.Screen.Post),H.Cb(9),H.pc("pageSizeOptions",H.sc(7,ze)),H.Cb(2),H.pc("dataSource",a.dataSourceSolicitudes),H.Cb(11),H.pc("matHeaderRowDef",a.displayedColumns7),H.Cb(1),H.pc("matRowDefColumns",a.displayedColumns7)}}function je(e,t){if(1&e){var i=H.Wb();H.Vb(0,"div"),H.Vb(1,"kt-cargaoponioncumplimiento",47,48),H.fc("VistaPrincipal",function(e){return H.zc(i),H.jc().ShowVistaPrincipal(e)}),H.Ub(),H.Ub()}}var Be,Qe,Te=((Be=function(){function e(t,a,n,o,r,c,l,s,b,d,u){i(this,e),this.snackBar=t,this.AuthService=a,this.modalService=n,this.toastr=o,this.spinnerService=r,this.router=c,this.sanitizer=l,this.ScreenActionsService=s,this.DashboardService=b,this.ref=d,this.OpinionCumplimientoService=u,this.Page={},this.Screen={},this.General={},this.ListaEmpresas=[],this.displayedColumns7=["Actualizaciones","Mes","Estatus"],this.Page.ShowLoad=!1,this.Page.ShowEdit=!1,this.Page.ShowList=!1,this.Page.ShowSeleccionEmpresa=!1,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.DatosEmpresa={},this.General.SeleccionEmpresa={}}return t(e,[{key:"ngOnInit",value:function(){var e=this;this.ScreenActionsService.PromiseAcciones(this.Page.Controller).then(function(t){e.Screen=t,0!=Object.keys(e.Screen).length&&e.Screen.Get?0==Object.keys(e.DashboardService.oEmpresa).length&&e.DashboardService.oListaEmpresas.length>0?(e.ListaEmpresas=JSON.parse(JSON.stringify(e.DashboardService.oListaEmpresas)),e.Page.ShowSeleccionEmpresa=!0,e.ref.markForCheck()):Object.keys(e.DashboardService.oEmpresa).length>0&&e.DashboardService.oListaEmpresas.length>0?(e.General.DatosEmpresa=e.DashboardService.oEmpresa,e.OpinionCumplimientoService.oDetalleCliente=e.DashboardService.oEmpresa,e.CargaDatos(),e.Page.ShowList=!0):(e.router.navigate(["/dashboard"]),e.Regresar()):(e.toastr.error("Si intenta acceder a una opci\xf3n no permitida su cuenta ser\xe1 suspendida"),e.router.navigate(["dashboard"]))},function(t){e.handleError(t)})}},{key:"CargaCliente",value:function(){}},{key:"CargaDatos",value:function(){var e=this;if(this.spinnerService.show(),this.dataSourceSolicitudes=new E.k([]),null==this.General.DatosEmpresa||null==this.General.DatosEmpresa.Reference||""==this.General.DatosEmpresa.Reference)return this.toastr.error("Ocurri\xf3 un error al contactar el servidor"),void this.router.navigate(["/dashboard"]);var t={};t.RFC=this.General.DatosEmpresa.RFC,t.Reference=this.General.DatosEmpresa.Reference,this.OpinionCumplimientoService.GetOpinionPreveedor(t).subscribe(function(t){e.dataSourceSolicitudes=new E.k(t),e.dataSourceSolicitudes.paginator=e.paginator7,e.dataSourceSolicitudes.sort=e.sort7,e.spinnerService.hide(),e.ref.markForCheck()},function(t){e.handleError(t)})}},{key:"ShowLoad",value:function(){this.Page.ShowLoad=!0,this.Page.ShowList=!1}},{key:"ShowVistaPrincipal",value:function(e){this.CargaCliente(),this.Page.ShowLoad=!1,this.Page.ShowList=e,this.CargaDatos()}},{key:"ActualizarBandeja",value:function(){this.CargaDatos()}},{key:"applyFilter7",value:function(e){this.dataSourceSolicitudes.filter=e.trim().toLowerCase(),this.dataSourceSolicitudes.paginator&&this.dataSourceSolicitudes.paginator.firstPage()}},{key:"Regresar",value:function(){}},{key:"SeleccionarEmpresa",value:function(){var e=this;if(null!=this.General.SeleccionEmpresa.Reference&&""!=this.General.SeleccionEmpresa.Reference){var t=this.ListaEmpresas.find(function(t){return t.Reference===e.General.SeleccionEmpresa.Reference});null!=t&&null!=t?(this.General.DatosEmpresa.RazonSocial=t.RazonSocial,this.General.DatosEmpresa.Reference=t.Reference,this.CargaDatos(),this.Page.ShowSeleccionEmpresa=!1,this.OpinionCumplimientoService.oDetalleCliente.Reference=t.Reference,this.OpinionCumplimientoService.oDetalleCliente.RFC=t.RFC,this.OpinionCumplimientoService.oDetalleCliente.NombreCliente=t.Cliente,this.OpinionCumplimientoService.oDetalleCliente.Cargado=t.Cargado,this.Page.ShowList=!0,this.ref.markForCheck()):this.toastr.error("selecci\xf3n no v\xe1lida")}else this.toastr.error("Debe seleccionar una empresa")}},{key:"handleError",value:function(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:2e3})}}]),e}()).\u0275fac=function(e){return new(e||Be)(H.Pb(R.a),H.Pb(Y.a),H.Pb(Z.y),H.Pb(ee.b),H.Pb(X.c),H.Pb(b.h),H.Pb(te.b),H.Pb(ie.a),H.Pb(ae.a),H.Pb(H.i),H.Pb(oe))},Be.\u0275cmp=H.Jb({type:Be,selectors:[["kt-bandejaopinion"]],viewQuery:function(e,t){var i;1&e&&(H.Ec(Se,!0),H.Ec(Ue,!0),H.Ec(Ve,!0)),2&e&&(H.wc(i=H.gc())&&(t.sharecmp=i.first),H.wc(i=H.gc())&&(t.paginator7=i.first),H.wc(i=H.gc())&&(t.sort7=i.first))},decls:6,vars:4,consts:[["class","card card-custom",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["name","select",1,"form-control",3,"ngModel","value","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","p-2"],["href","javascript:;",1,"btn","btn-transparent-success","font-weight-bold","mr-2",3,"click"],[3,"value"],[1,"col-xs-12","col-md-12","mt-10"],[1,"d-flex","align-items-center","text-dark","text-hover-primary","font-size-h5","font-weight-bold","ml-5"],[1,"flaticon2-correct","text-success","icon-md","ml-2"],[1,"text-muted","ml-15"],["type","button","style","color: #7AB800 !important","class","btn btn-outline-secondary",3,"click",4,"ngIf"],[1,"col-xs-12","col-md-12",2,"flex","0 0 0% !important"],[1,"example-header"],["matInput","","placeholder","Buscar",3,"keyup"],[1,"col-xs-12","col-md-12"],[3,"pageSizeOptions"],["matPaginator7",""],["matSort","",3,"dataSource"],["sort7","matSort"],["matColumnDef","Actualizaciones"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Mes"],["matColumnDef","Estatus"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["type","button",1,"btn","btn-outline-secondary",2,"color","#7AB800 !important",3,"click"],[1,"fas","fa-upload"],[1,"fas","fa-circle-notch"],["mat-sort-header",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"label","font-weight-bold","label-lg","label-light-danger","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-primary","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-success","label-inline"],[3,"VistaPrincipal"],["sharecmp",""]],template:function(e,t){1&e&&(H.Ic(0,ye,19,3,"div",0),H.Ic(1,Le,36,8,"div",0),H.Ic(2,je,3,0,"div",1),H.Vb(3,"ngx-spinner",2),H.Vb(4,"p",3),H.Kc(5," Loading... "),H.Ub(),H.Ub()),2&e&&(H.pc("ngIf",t.Page.ShowSeleccionEmpresa),H.Cb(1),H.pc("ngIf",t.Page.ShowList),H.Cb(1),H.pc("ngIf",t.Page.ShowLoad),H.Cb(1),H.pc("fullScreen",!0))},directives:[s.n,X.a,d.w,d.o,d.r,s.m,d.s,d.y,V.c,U.b,j.a,E.j,T.a,E.c,E.e,E.b,E.g,E.i,E.d,T.b,E.a,s.p,s.q,E.f,E.h,Ce],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}.mat-table[_ngcontent-%COMP%]{overflow-x:scroll}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{word-wrap:normal;display:table-cell;padding:0 10px;line-break:unset;width:90%;white-space:nowrap;overflow:hidden;vertical-align:middle}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{display:table-row}"],changeDetection:0}),Be),$e=n("wl6q"),Ne=((Qe=function(){function e(t,a,n){i(this,e),this.api=t,this.router=a,this.http=n,this.oDetalleSolicitud={}}return t(e,[{key:"download",value:function(e,t){var i=localStorage.getItem("auth"),a=JSON.parse(i);return this.http.get("".concat(ce.a.apiUrl,"/").concat(e,"/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token},responseType:"blob"}).toPromise()}},{key:"downloadPost",value:function(e,t){var i=localStorage.getItem("auth"),a=JSON.parse(i);return this.http.post("".concat(ce.a.apiUrl,"/").concat(e,"/"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token},responseType:"blob"}).toPromise()}}]),e}()).\u0275fac=function(e){return new(e||Qe)(H.cc(ne.a),H.cc(b.h),H.cc(re.b))},Qe.\u0275prov=H.Lb({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe),_e=["sharecmp"],Je=["matPaginator7"],He=["sort7"];function We(e,t){if(1&e&&(H.Vb(0,"option",55),H.Kc(1),H.Ub()),2&e){var i=t.$implicit;H.pc("value",i.Valor),H.Cb(1),H.Mc(" ",i.Descripcion," ")}}function qe(e,t){1&e&&(H.Vb(0,"mat-header-cell"),H.Kc(1," Actions "),H.Ub())}function Xe(e,t){if(1&e){var i=H.Wb();H.Vb(0,"mat-cell"),H.Vb(1,"a",56),H.fc("click",function(){H.zc(i);var e=t.$implicit;return H.jc().DescargarOpinion(e)}),H.Qb(2,"i",57),H.Ub(),H.Ub()}}function Ye(e,t){1&e&&(H.Vb(0,"mat-header-cell",58),H.Kc(1,"Fecha Documento"),H.Ub())}function Ze(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Kc(1),H.kc(2,"date"),H.Ub()),2&e){var i=t.$implicit;H.Cb(1),H.Mc(" ",H.mc(2,1,i.FechaDocumento,"yyyy-MM-dd")," ")}}function et(e,t){1&e&&(H.Vb(0,"mat-header-cell",58),H.Kc(1," Validacion Documento "),H.Ub())}function tt(e,t){if(1&e&&(H.Vb(0,"div"),H.Vb(1,"span",61),H.Kc(2),H.Ub(),H.Ub()),2&e){var i=H.jc().$implicit;H.Cb(2),H.Mc(" ",i.StatusValidacion,"")}}function it(e,t){if(1&e&&(H.Vb(0,"div"),H.Vb(1,"span",62),H.Kc(2),H.Ub(),H.Ub()),2&e){var i=H.jc().$implicit;H.Cb(2),H.Mc(" ",i.StatusValidacion,"")}}function at(e,t){if(1&e&&(H.Vb(0,"div"),H.Vb(1,"span",63),H.Kc(2),H.Ub(),H.Ub()),2&e){var i=H.jc().$implicit;H.Cb(2),H.Mc(" ",i.StatusValidacion,"")}}function nt(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Vb(1,"div",59),H.Ic(2,tt,3,1,"div",60),H.Ic(3,it,3,1,"div",60),H.Ic(4,at,3,1,"div",60),H.Ub(),H.Ub()),2&e){var i=t.$implicit;H.Cb(1),H.pc("ngSwitch",i.StatusValidacion),H.Cb(1),H.pc("ngSwitchCase","Sin posibles ediciones"),H.Cb(1),H.pc("ngSwitchCase","Documento Editado"),H.Cb(1),H.pc("ngSwitchCase","Posiblemente Editado")}}function ot(e,t){1&e&&(H.Vb(0,"mat-header-cell",58),H.Kc(1," RFC "),H.Ub())}function rt(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Kc(1),H.Ub()),2&e){var i=t.$implicit;H.Cb(1),H.Mc(" ",i.RFC," ")}}function ct(e,t){1&e&&(H.Vb(0,"mat-header-cell",58),H.Kc(1," Opinion "),H.Ub())}function lt(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Kc(1),H.Ub()),2&e){var i=t.$implicit;H.Cb(1),H.Mc(" ",i.Opinion," ")}}function st(e,t){1&e&&(H.Vb(0,"mat-header-cell",58),H.Kc(1," Razon Social "),H.Ub())}function bt(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Kc(1),H.Ub()),2&e){var i=t.$implicit;H.Cb(1),H.Mc(" ",i.RazonSocial," ")}}function dt(e,t){1&e&&(H.Vb(0,"mat-header-cell",58),H.Kc(1," Fecha Consulta Documento SAT "),H.Ub())}function ut(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Kc(1),H.Ub()),2&e){var i=t.$implicit;H.Cb(1),H.Mc(" ",i.FechaConsulta," ")}}function pt(e,t){1&e&&(H.Vb(0,"mat-header-cell",58),H.Kc(1," Fecha Carga Documento "),H.Ub())}function ht(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Kc(1),H.kc(2,"date"),H.Ub()),2&e){var i=t.$implicit;H.Cb(1),H.Mc(" ",H.mc(2,1,i.FechaCargaDocumento,"yyyy-MM-dd @ HH:mm")," ")}}function ft(e,t){1&e&&(H.Vb(0,"mat-header-cell",58),H.Kc(1," Folio "),H.Ub())}function mt(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Kc(1),H.Ub()),2&e){var i=t.$implicit;H.Cb(1),H.Mc(" ",i.Folio," ")}}function gt(e,t){1&e&&(H.Vb(0,"mat-header-cell",58),H.Kc(1," Cadena Original "),H.Ub())}function vt(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Kc(1),H.Ub()),2&e){var i=t.$implicit;H.Cb(1),H.Mc(" ",i.CadenaOriginal," ")}}function Ct(e,t){1&e&&(H.Vb(0,"mat-header-cell",58),H.Kc(1," SelloDigital "),H.Ub())}function St(e,t){if(1&e&&(H.Vb(0,"mat-cell"),H.Kc(1),H.Ub()),2&e){var i=t.$implicit;H.Cb(1),H.Mc(" ",i.SelloDigital," ")}}function Ut(e,t){1&e&&H.Qb(0,"mat-header-row")}function Vt(e,t){1&e&&H.Qb(0,"mat-row")}function wt(e,t){if(1&e){var i=H.Wb();H.Vb(0,"div"),H.Vb(1,"kt-cargaoponioncumplimiento",64,65),H.fc("VistaPrincipal",function(e){return H.zc(i),H.jc().ShowVistaPrincipal(e)}),H.Ub(),H.Ub()}}var yt,kt,Pt=function(){return[25,50,75,100]},Dt=[{path:"",component:W,children:[{path:"operations/verdict",component:Te},{path:"operations/vendorsreview",component:(yt=function(){function e(t,a,n,o,r,c,l,s,b,d,u,p){i(this,e),this.snackBar=t,this.AuthService=a,this.modalService=n,this.toastr=o,this.spinnerService=r,this.router=c,this.sanitizer=l,this.ScreenActionsService=s,this.ExcelService=b,this.ref=d,this.OpinionCumplimientoService=u,this.DownloadService=p,this.Page={},this.Screen={},this.General={},this.panelOpenState=!1,this.ListaTipoOpinion=[],this.displayedColumns7=["actions","FechaDocumento","StatusValidacion","RFC","Opinion","RazonSocial","FechaConsulta","FechaCargaDocumento","Folio","CadenaOriginal","SelloDigital"],this.Page.ShowLoad=!1,this.Page.ShowRechazo=!1,this.Page.ShowEdit=!1,this.Page.ShowList=!1,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Filtros={},this.ListaTipoOpinion.push({Valor:1,Descripcion:"Negativo"},{Valor:2,Descripcion:"Positivo"},{Valor:3,Descripcion:"Todas"}),this.General.Data=[]}return t(e,[{key:"ngOnInit",value:function(){var e=this;this.ScreenActionsService.PromiseAcciones(this.Page.Controller).then(function(t){e.Screen=t,0!=Object.keys(e.Screen).length&&e.Screen.Get?(e.ref.markForCheck(),e.CargaDatos()):(e.toastr.error("Si intenta acceder a una opci\xf3n no permitida su cuenta ser\xe1 suspendida"),e.router.navigate(["dashboard"]))},function(t){e.handleError(t)})}},{key:"CargaDatos",value:function(){var e=this;this.Page.ShowList=!0,this.General.Data.length=0,this.spinnerService.show(),this.dataSourceSolicitudes=new E.k([]),this.OpinionCumplimientoService.GetRevisionOpiniones().subscribe(function(t){e.General.Data=t,e.dataSourceSolicitudes=new E.k(t),e.dataSourceSolicitudes.paginator=e.paginator7,e.dataSourceSolicitudes.sort=e.sort7,e.spinnerService.hide(),e.ref.markForCheck()},function(t){e.handleError(t)})}},{key:"AplicaFiltros",value:function(){var e=this;0!=Object.keys(this.General.Filtros).length?null==this.General.Filtros.FechaFinal||null==this.General.Filtros.FechaFinal||""==this.General.Filtros.FechaFinal||null!=this.General.Filtros.FechaInicial&&(null!=this.General.Filtros.FechaInicial||""!=this.General.Filtros.FechaInicial)?(this.General.Data.length=0,this.OpinionCumplimientoService.AplicaFiltros(this.General.Filtros).subscribe(function(t){e.General.Data=t,e.dataSourceSolicitudes=new E.k(t),e.dataSourceSolicitudes.paginator=e.paginator7,e.dataSourceSolicitudes.sort=e.sort7,e.spinnerService.hide(),e.ref.markForCheck()},function(t){e.handleError(t)})):this.toastr.error("Debe seleccionar la fecha inicial"):this.toastr.error("Filtros no v\xe1lidos","Error")}},{key:"Exportar",value:function(){this.spinnerService.show(),this.ExcelService.exportAsExcelFile(this.General.Data,"OpinionProveedores"),this.spinnerService.hide()}},{key:"ResetData",value:function(){this.CargaDatos()}},{key:"ShowLoad",value:function(){this.Page.ShowLoad=!0,this.Page.ShowList=!1}},{key:"ShowVistaPrincipal",value:function(e){this.Page.ShowLoad=!1,this.Page.ShowRechazo=!1,this.Page.ShowList=e,this.CargaDatos()}},{key:"ActualizarBandeja",value:function(){this.CargaDatos()}},{key:"DescargarOpinion",value:function(e){var t=this,i={};i.Value=e.Value,i.RFC=e.RFC,this.spinnerService.show(),this.DownloadService.downloadPost("report/vendorverdict",i).then(function(e){var a=new Blob([e],{type:"application/pdf"}),n=URL.createObjectURL(a),o=document.createElement("a");o.href=n,o.target="_blank",o.download="OpinionCumplimiento_"+i.RFC+".pdf",document.body.appendChild(o),o.click(),t.spinnerService.hide()},function(e){t.toastr.error("Ocurrio un error al descargar la infomaci\xf3n"),t.spinnerService.hide()})}},{key:"applyFilter7",value:function(e){this.dataSourceSolicitudes.filter=e.trim().toLowerCase(),this.dataSourceSolicitudes.paginator&&this.dataSourceSolicitudes.paginator.firstPage()}},{key:"handleError",value:function(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}},{key:"openSnackBar",value:function(e,t){this.snackBar.open(e,t,{duration:2e3})}}]),e}(),yt.\u0275fac=function(e){return new(e||yt)(H.Pb(R.a),H.Pb(Y.a),H.Pb(Z.y),H.Pb(ee.b),H.Pb(X.c),H.Pb(b.h),H.Pb(te.b),H.Pb(ie.a),H.Pb($e.a),H.Pb(H.i),H.Pb(oe),H.Pb(Ne))},yt.\u0275cmp=H.Jb({type:yt,selectors:[["kt-bandejarevisionopinion"]],viewQuery:function(e,t){var i;1&e&&(H.Ec(_e,!0),H.Ec(Je,!0),H.Ec(He,!0)),2&e&&(H.wc(i=H.gc())&&(t.sharecmp=i.first),H.wc(i=H.gc())&&(t.paginator7=i.first),H.wc(i=H.gc())&&(t.sort7=i.first))},decls:111,vars:16,consts:[[1,"card","card-custom",3,"hidden"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[1,"row"],[1,"col-xs-12","col-md-12"],[3,"expanded","expandedChange"],[1,"Oferta",2,"font-weight","bold"],[1,"fas","fa-filter"],[1,"col-xs-12","col-md-2"],[1,"form-group"],["type","text","maxlength","13","aria-describedby","helpRFCCliente","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-xs-12","col-md-3"],["type","text","maxlength","50","aria-describedby","helpRazonSocial","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["required","","name","select","name","ddlTipoBusqueda",1,"form-control","form-control-sm",3,"value","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","date","maxlength","4","aria-describedby","FechaInicialhelp","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","date","maxlength","4","aria-describedby","FechaFinalhelp","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-md-1"],["type","reset","name","edit",1,"btn","btn-success","btn-sm",2,"margin-top","25px",3,"click"],[1,"fas","fa-search"],["href","javascript:void(0)",1,"btn","btn-danger","btn-sm",2,"margin-top","25px",3,"click"],[1,"far","fa-times-circle"],[1,"col-xs-12","col-md-9"],[1,"col-xs-12","col-md-3","text-right"],["type","button","data-toggle","tooltip","title","Exportar datos a Excel",1,"btn","btn-outline-secondary",2,"color","#7AB800 !important",3,"click"],[1,"fas","fa-file-excel"],[1,"col-xs-12","col-md-12",2,"flex","0 0 0% !important"],[1,"example-header"],["matInput","","placeholder","Buscar",3,"keyup"],[3,"pageSizeOptions"],["matPaginator7",""],["matSort","",3,"dataSource"],["sort7","matSort"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","FechaDocumento"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","StatusValidacion"],["matColumnDef","RFC"],["matColumnDef","Opinion"],["matColumnDef","RazonSocial"],["matColumnDef","FechaConsulta"],["matColumnDef","FechaCargaDocumento"],["matColumnDef","Folio"],["matColumnDef","CadenaOriginal"],["matColumnDef","SelloDigital"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[3,"value"],["href","javascript:;","title","Descargar Opinion de Cumplimiento",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-primary","btn-icon",3,"click"],[1,"fas","fa-cloud-download-alt"],["mat-sort-header",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"label","font-weight-bold","label-lg","label-light-success","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-danger","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-warning","label-inline"],[3,"VistaPrincipal"],["sharecmp",""]],template:function(e,t){1&e&&(H.Vb(0,"div",0),H.Vb(1,"div",1),H.Vb(2,"div",2),H.Vb(3,"h2",3),H.Qb(4,"i",4),H.Kc(5," Revisi\xf3n de opinion de cumplimiento para proveedores"),H.Ub(),H.Ub(),H.Ub(),H.Vb(6,"div",5),H.Vb(7,"div",6),H.Vb(8,"div",7),H.Vb(9,"mat-expansion-panel",8),H.fc("expandedChange",function(e){return t.panelOpenState=e}),H.Vb(10,"mat-expansion-panel-header"),H.Vb(11,"mat-panel-title"),H.Vb(12,"span",9),H.Qb(13,"i",10),H.Kc(14," B\xfasqueda Avanzada"),H.Ub(),H.Ub(),H.Ub(),H.Vb(15,"div",6),H.Vb(16,"div",11),H.Vb(17,"div",12),H.Vb(18,"label"),H.Kc(19,"RFC "),H.Ub(),H.Vb(20,"input",13),H.fc("ngModelChange",function(e){return t.General.Filtros.RFCCliente=e}),H.Ub(),H.Ub(),H.Ub(),H.Vb(21,"div",14),H.Vb(22,"div",12),H.Vb(23,"label"),H.Kc(24,"Raz\xf3n Social "),H.Ub(),H.Vb(25,"input",15),H.fc("ngModelChange",function(e){return t.General.Filtros.RazonSocial=e}),H.Ub(),H.Ub(),H.Ub(),H.Vb(26,"div",11),H.Vb(27,"div",12),H.Vb(28,"label"),H.Kc(29,"Tipo"),H.Ub(),H.Vb(30,"select",16),H.fc("ngModelChange",function(e){return t.General.Filtros.TipoOpinion=e}),H.Ic(31,We,2,2,"option",17),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Vb(32,"div",6),H.Vb(33,"div",11),H.Vb(34,"div",12),H.Vb(35,"label"),H.Kc(36,"Fecha Documento Inicial"),H.Ub(),H.Vb(37,"input",18),H.fc("ngModelChange",function(e){return t.General.Filtros.FechaInicial=e}),H.Ub(),H.Ub(),H.Ub(),H.Vb(38,"div",11),H.Vb(39,"div",12),H.Vb(40,"label"),H.Kc(41,"Fecha Documento Final"),H.Ub(),H.Vb(42,"input",19),H.fc("ngModelChange",function(e){return t.General.Filtros.FechaFinal=e}),H.Ub(),H.Ub(),H.Ub(),H.Vb(43,"div",20),H.Vb(44,"div",12),H.Vb(45,"button",21),H.fc("click",function(){return t.AplicaFiltros()}),H.Qb(46,"i",22),H.Kc(47," Buscar "),H.Ub(),H.Ub(),H.Ub(),H.Vb(48,"div",20),H.Vb(49,"div",12),H.Vb(50,"a",23),H.fc("click",function(){return t.ResetData()}),H.Qb(51,"i",24),H.Kc(52," Limpiar"),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Qb(53,"br"),H.Ub(),H.Ub(),H.Ub(),H.Vb(54,"div",6),H.Qb(55,"div",25),H.Vb(56,"div",26),H.Qb(57,"br"),H.Vb(58,"button",27),H.fc("click",function(){return t.Exportar()}),H.Qb(59,"i",28),H.Kc(60," Exportar"),H.Ub(),H.Ub(),H.Ub(),H.Vb(61,"div",6),H.Vb(62,"div",29),H.Qb(63,"br"),H.Vb(64,"div",30),H.Vb(65,"mat-form-field"),H.Vb(66,"input",31),H.fc("keyup",function(e){return t.applyFilter7(e.target.value)}),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Vb(67,"div",7),H.Qb(68,"mat-paginator",32,33),H.Vb(70,"mat-table",34,35),H.Tb(72,36),H.Ic(73,qe,2,0,"mat-header-cell",37),H.Ic(74,Xe,3,0,"mat-cell",38),H.Sb(),H.Tb(75,39),H.Ic(76,Ye,2,0,"mat-header-cell",40),H.Ic(77,Ze,3,4,"mat-cell",38),H.Sb(),H.Tb(78,41),H.Ic(79,et,2,0,"mat-header-cell",40),H.Ic(80,nt,5,4,"mat-cell",38),H.Sb(),H.Tb(81,42),H.Ic(82,ot,2,0,"mat-header-cell",40),H.Ic(83,rt,2,1,"mat-cell",38),H.Sb(),H.Tb(84,43),H.Ic(85,ct,2,0,"mat-header-cell",40),H.Ic(86,lt,2,1,"mat-cell",38),H.Sb(),H.Tb(87,44),H.Ic(88,st,2,0,"mat-header-cell",40),H.Ic(89,bt,2,1,"mat-cell",38),H.Sb(),H.Tb(90,45),H.Ic(91,dt,2,0,"mat-header-cell",40),H.Ic(92,ut,2,1,"mat-cell",38),H.Sb(),H.Tb(93,46),H.Ic(94,pt,2,0,"mat-header-cell",40),H.Ic(95,ht,3,4,"mat-cell",38),H.Sb(),H.Tb(96,47),H.Ic(97,ft,2,0,"mat-header-cell",40),H.Ic(98,mt,2,1,"mat-cell",38),H.Sb(),H.Tb(99,48),H.Ic(100,gt,2,0,"mat-header-cell",40),H.Ic(101,vt,2,1,"mat-cell",38),H.Sb(),H.Tb(102,49),H.Ic(103,Ct,2,0,"mat-header-cell",40),H.Ic(104,St,2,1,"mat-cell",38),H.Sb(),H.Ic(105,Ut,1,0,"mat-header-row",50),H.Ic(106,Vt,1,0,"mat-row",51),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Ub(),H.Ic(107,wt,3,0,"div",52),H.Vb(108,"ngx-spinner",53),H.Vb(109,"p",54),H.Kc(110," Loading... "),H.Ub(),H.Ub()),2&e&&(H.pc("hidden",!t.Page.ShowList),H.Cb(9),H.pc("expanded",t.panelOpenState),H.Cb(11),H.pc("ngModel",t.General.Filtros.RFCCliente),H.Cb(5),H.pc("ngModel",t.General.Filtros.RazonSocial),H.Cb(5),H.pc("value",0)("ngModel",t.General.Filtros.TipoOpinion),H.Cb(1),H.pc("ngForOf",t.ListaTipoOpinion),H.Cb(6),H.pc("ngModel",t.General.Filtros.FechaInicial),H.Cb(5),H.pc("ngModel",t.General.Filtros.FechaFinal),H.Cb(26),H.pc("pageSizeOptions",H.sc(15,Pt)),H.Cb(2),H.pc("dataSource",t.dataSourceSolicitudes),H.Cb(35),H.pc("matHeaderRowDef",t.displayedColumns7),H.Cb(1),H.pc("matRowDefColumns",t.displayedColumns7),H.Cb(1),H.pc("ngIf",t.Page.ShowLoad),H.Cb(1),H.pc("fullScreen",!0))},directives:[_.c,_.f,_.g,d.d,d.k,d.o,d.r,d.w,d.v,s.m,V.c,U.b,j.a,E.j,T.a,E.c,E.e,E.b,E.g,E.i,s.n,X.a,d.s,d.y,E.d,E.a,T.b,s.p,s.q,E.f,E.h,Ce],pipes:[s.e],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}.mat-table[_ngcontent-%COMP%]{overflow-x:scroll}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{word-wrap:normal;display:table-cell;padding:0 10px;line-break:unset;width:90%;white-space:nowrap;overflow:hidden;vertical-align:middle}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{display:table-row}.Oferta[_ngcontent-%COMP%]{font-size:11px;font-weight:400;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}"],changeDetection:0}),yt)}]}],Ot=((kt=function e(){i(this,e)}).\u0275mod=H.Nb({type:kt}),kt.\u0275inj=H.Mb({factory:function(e){return new(e||kt)},providers:[g.c,{provide:N.d,useValue:{}},{provide:N.a,useValue:{}},{provide:f.f,useValue:"en-GB"},{provide:S.a,useValue:{useUtc:!0}}],imports:[[s.c,U.c,V.e,C.c,w.b,M.d,A.b,O.g,D.b,y.c,g.b,f.m,h.b,v.b,F.c,k.d,P.b,K.g,I.b,x.b,R.b,E.l,G.b,$.b,N.c,_.b,J.b,T.c,Q.d,B.e,j.b,m.f,f.u,u.a,l.c,L.d,z.c,p.a,q.a,X.b,d.j,d.u,b.l.forChild(Dt)],b.l]}),kt)}}])}();