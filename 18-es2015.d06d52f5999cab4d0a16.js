(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{MinF:function(e,t,i){"use strict";i.r(t),i.d(t,"OpinionCumplimientoModule",function(){return St});var a=i("QibW"),o=i("ofXK"),n=i("tyNb"),r=i("3Pt+"),c=i("WsYS"),l=i("93Pz"),s=i("1jcm"),b=i("FKr1"),d=i("0IaG"),h=i("NFeN"),p=i("bSwM"),u=i("iadO"),m=i("1yaQ"),f=i("qFsG"),g=i("kmnG"),v=i("/1cH"),C=i("bTqV"),S=i("wZkO"),V=i("Qu3c"),U=i("d3UM"),w=i("Wp6s"),P=i("STbY"),D=i("bv9b"),F=i("Xa2L"),O=i("dNgK"),y=i("+0xr"),k=i("MutI"),I=i("XhcP"),x=i("5RNC"),R=i("zkoq"),M=i("jaxi"),E=i("8yBR"),K=i("M9IT"),A=i("A5z7"),G=i("xHqg"),z=i("Dh3D"),L=i("/t3+"),j=i("2ChS"),B=i("7EHt"),T=i("f0Cb"),$=i("fXoL");let Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=$.Jb({type:e,selectors:[["kt-opinioncumplimiento"]],decls:1,vars:0,template:function(e,t){1&e&&$.Qb(0,"router-outlet")},directives:[n.m],encapsulation:2,changeDetection:0}),e})();var _=i("QJFE"),N=i("JqCM"),J=i("+BVi"),q=i("1kSV"),W=i("5eHb"),H=i("jhN1"),X=i("ptnc"),Y=i("LIxy"),Z=i("ap2d");let ee=(()=>{class e{constructor(e,t){this.api=e,this.router=t,this.oDetalleCliente={}}GetDetalleOpinionCumplimiento(){return this.api.get("validator/client",{})}GetCliente(e){return this.api.post("validator/client",e)}GetOpinionPreveedor(e){return this.api.post("OpinionCumplimiento/list",e)}ProcesaArchivoPDF(e){return this.api.post("OpinionCumplimiento",e).toPromise()}GetRevisionOpiniones(){return this.api.get("RevisionOpinion",{})}AplicaFiltros(e){return this.api.post("RevisionOpinion/Filter",e)}}return e.\u0275fac=function(t){return new(t||e)($.cc(Z.a),$.cc(n.h))},e.\u0275prov=$.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var te=i("tk/3"),ie=i("AytR"),ae=i("lJxs");let oe=(()=>{class e{constructor(e){this.httpClient=e}upload(e,t){var i=localStorage.getItem("auth");let a=JSON.parse(i);return this.httpClient.post(`${ie.a.apiUrl}/${e}`,t,{headers:new te.e({Authorization:"Bearer "+a.token}),reportProgress:!0,observe:"events"}).pipe(Object(ae.a)(e=>{switch(e.type){case te.d.UploadProgress:return{status:"progress",message:Math.round(100*e.loaded/e.total)};case te.d.Response:return e.body;default:return"Unhandled"}}))}ProcessCargaArchivoPromise(e){return this.httpOptions=this.getToken(),this.httpClient.get(`${ie.a.apiUrl}/${e}`,Object.assign({},this.httpOptions)).toPromise()}uploadOpinion(e,t){var i=localStorage.getItem("auth");let a=JSON.parse(i);return this.httpClient.post(`${ie.a.apiUrl}/${e}`,t,{headers:new te.e({Authorization:"Bearer "+a.token}),reportProgress:!0,observe:"events"}).pipe(Object(ae.a)(e=>{switch(e.type){case te.d.UploadProgress:return{status:"progress",message:Math.round(100*e.loaded/e.total)};case te.d.Response:return e.body;default:return"Unhandled"}}))}getToken(){var e=localStorage.getItem("id_token");return{headers:new te.e({"Content-Type":"application/json",Authorization:"Bearer "+e})}}}return e.\u0275fac=function(t){return new(t||e)($.cc(te.b))},e.\u0275prov=$.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ne=["matPaginator7"],re=["sort7"],ce=["popCCliente"];function le(e,t){if(1&e){const e=$.Wb();$.Vb(0,"div"),$.Vb(1,"div",22),$.Vb(2,"div",23),$.Vb(3,"h5",24),$.Qb(4,"i",25),$.Kc(5," Cliente"),$.Ub(),$.Ub(),$.Vb(6,"div",23),$.Qb(7,"hr"),$.Ub(),$.Ub(),$.Vb(8,"div",22),$.Vb(9,"div",26),$.Vb(10,"div",27),$.Vb(11,"label"),$.Kc(12,"Nombre"),$.Ub(),$.Vb(13,"label",28),$.Kc(14),$.Ub(),$.Ub(),$.Ub(),$.Vb(15,"div",29),$.Vb(16,"div",27),$.Vb(17,"label"),$.Kc(18,"RFC"),$.Ub(),$.Vb(19,"label",28),$.Kc(20),$.Ub(),$.Ub(),$.Ub(),$.Ub(),$.Vb(21,"div",22),$.Vb(22,"div",30),$.Vb(23,"a",31),$.fc("click",function(){return $.zc(e),$.jc().Regresar(!0)}),$.Kc(24,"Cancelar"),$.Ub(),$.Ub(),$.Ub(),$.Ub()}if(2&e){const e=$.jc();$.Cb(14),$.Mc(" ",e.General.Cliente.NombreCliente,""),$.Cb(6),$.Mc(" ",e.General.Cliente.RFC,"")}}const se=function(e){return{width:e}};function be(e,t){if(1&e&&($.Vb(0,"div",32),$.Qb(1,"br"),$.Vb(2,"div",33),$.Qb(3,"div",34),$.Ub(),$.Ub()),2&e){const e=$.jc();$.Cb(3),$.pc("ngStyle",$.tc(1,se,e.Avance.message+"%"))}}function de(e,t){if(1&e){const e=$.Wb();$.Vb(0,"div",22),$.Vb(1,"div",35),$.Vb(2,"div",36),$.Vb(3,"h4",37),$.Kc(4,"Archivo Cargado correctamente"),$.Ub(),$.Vb(5,"p"),$.Kc(6," El Archivo se registr\xf3 correctamente."),$.Qb(7,"br"),$.Kc(8," A continuaci\xf3n ser\xe1 validado y recibira una notificaci\xf3n en caso de ser aceptado o rechazado."),$.Ub(),$.Qb(9,"div",38),$.Vb(10,"p",39),$.Vb(11,"button",40),$.fc("click",function(){return $.zc(e),$.jc().Regresar(!0)}),$.Kc(12,"Aceptar"),$.Ub(),$.Ub(),$.Ub(),$.Ub(),$.Ub()}}function he(e,t){if(1&e){const e=$.Wb();$.Vb(0,"div",41),$.Vb(1,"h4",42),$.Vb(2,"span",43),$.Kc(3," Se ha detectado una carga previa"),$.Ub(),$.Ub(),$.Vb(4,"button",44),$.fc("click",function(){return(0,t.dismiss)("Cross click")}),$.Vb(5,"span",45),$.Kc(6,"\xd7"),$.Ub(),$.Ub(),$.Ub(),$.Vb(7,"div",46),$.Vb(8,"div",22),$.Vb(9,"div",23),$.Vb(10,"div",27),$.Vb(11,"label"),$.Kc(12,"Si desea volver a cargar su opini\xf3n de cumplimiento, favor de ingresar el motivo"),$.Ub(),$.Ub(),$.Ub(),$.Ub(),$.Vb(13,"div",22),$.Vb(14,"div",23),$.Vb(15,"div",27),$.Vb(16,"label"),$.Kc(17,"Motivo:"),$.Ub(),$.Vb(18,"textarea",47),$.fc("ngModelChange",function(t){return $.zc(e),$.jc().General.Cliente.MotivoActualizacion=t}),$.Ub(),$.Ub(),$.Ub(),$.Ub(),$.Ub(),$.Vb(19,"div",48),$.Vb(20,"button",49),$.fc("click",function(){return $.zc(e),$.jc().AceptaCarga()}),$.Kc(21,"Aceptar"),$.Ub(),$.Vb(22,"button",50),$.fc("click",function(){return(0,t.close)("Close click")}),$.Kc(23,"Cancelar"),$.Ub(),$.Ub()}if(2&e){const e=$.jc();$.Cb(18),$.pc("ngModel",e.General.Cliente.MotivoActualizacion)}}let pe=(()=>{class e{constructor(e,t,i,a,o,n,r,c,l,s){this.snackBar=e,this.AuthService=t,this.toastr=i,this.spinnerService=a,this.router=o,this.sanitizer=n,this.modalService=r,this.OpinionCumplimientoService=c,this.UploadFilesService=l,this.ref=s,this.VistaPrincipal=new $.p,this.Page={},this.Screen={},this.General={},this.Avance={Break:0},this.Documento={},this.Archivo={},this.uploadResponse={status:"",message:0,filePath:""},this.ListaTipoSolicitud=[],this.modalReference=null,this.displayedColumns7=["No","NombrePerfil","actions"],this.Page.ShowAdd=!1,this.Page.ShowEdit=!1,this.Page.ShowUpload=!1,this.Page.ShowRegistro=!0,this.Page.ShowCargaExitosa=!1,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Cliente={}}ngOnInit(){Object.keys(this.OpinionCumplimientoService.oDetalleCliente).length>0?(this.General.Cliente=this.OpinionCumplimientoService.oDetalleCliente,this.Page.ShowUpload=!0,this.ref.detectChanges()):this.Regresar(!0)}UpLoadFile(e){let t=[];t=e.target.files[0].name;let i=t.substring(t.length-5,t.length);var a=e.target.files[0].size/1024;let o=i.match(/\.(.+)$/)[1].toLowerCase();if(a>1024)return this.toastr.error("Tama\xf1o de archivo no valido, solo se puede cargar un maximo de 1MB","Error"),void(document.getElementById("fileUploadCuenta").value="");if("pdf"==o){const t=new FormData;t.append("file",e.target.files[0]),t.append("data",JSON.stringify(this.General.Cliente)),this.UploadFilesService.uploadOpinion("report/upload",t).subscribe(e=>{try{if(this.uploadResponse=e,"Unhandled"!=e&&Object.entries(e).length>0){if(e.hasOwnProperty("IdFile")){if(this.General.IdFile=e.IdFile,0==this.General.IdFile)return this.ErrorCargaArchivo(),void this.spinnerService.hide();this.Page.ShowRegistro=!1,this.Page.ShowUpload=!1,this.Page.ShowCargaExitosa=!0,this.ref.detectChanges(),this.timeouts=setTimeout(()=>{this.ProcesarArchivo(),this.spinnerService.hide()},1e3)}this.Avance=Object.assign({},this.uploadResponse),this.ref.detectChanges()}100===this.Avance.message&&0==this.Avance.Break&&(this.timeouts=setTimeout(()=>{this.openSnackBar("El archivo se cargo correctamente","Cerrar"),this.Avance={status:"",message:0},this.ref.detectChanges()},2e3)),document.getElementById("fileUploadCuenta").value=""}catch(t){this.Avance={status:"",message:100}}},e=>{this.ErrorCargaArchivo()})}else this.toastr.error("Archivo no v\xe1lido","Error")}ErrorCargaArchivo(){this.Avance.Break=1,this.Avance={status:"",message:0},this.ref.detectChanges(),document.getElementById("fileUploadCuenta").value="",this.toastr.error("Ocurrio un error al cargar el archivo")}Sube(){this.General.Cliente.MotivoActualizacion="",0==this.General.Cliente.Cargado?(this.uploadResponse={status:"",message:0,filePath:""},document.getElementById("fileUploadCuenta").click()):(this.modalReference=this.modalService.open(this.popUpRecarga,{size:"lg"}),this.ref.markForCheck())}AceptaCarga(){null==this.General.Cliente.MotivoActualizacion||this.General.Cliente.MotivoActualizacion.length<5?this.openSnackBar("Motivo no v\xe1lido","Cerrar"):(this.modalReference.close(),this.uploadResponse={status:"",message:0,filePath:""},document.getElementById("fileUploadCuenta").click())}Regresar(e){this.VistaPrincipal.emit(e)}ProcesarArchivo(){if(this.General.IdFile){this.General.Cliente.Cargado=1;let e={};e.InitProcess=this.General.IdFile,e.Reference=this.General.Cliente.Reference,this.OpinionCumplimientoService.ProcesaArchivoPDF(e).then(e=>{switch(e.Result){case 0:this.toastr.error("Se detect\xf3 un RFC incorrecto por favor valide su archivo.");break;case 3e3:this.toastr.error(e.Message)}},e=>{console.log("Ocurrio un error")})}}handleError(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}openSnackBar(e,t){this.snackBar.open(e,t,{duration:2e3})}}return e.\u0275fac=function(t){return new(t||e)($.Pb(O.a),$.Pb(J.a),$.Pb(W.b),$.Pb(N.c),$.Pb(n.h),$.Pb(H.b),$.Pb(q.y),$.Pb(ee),$.Pb(oe),$.Pb($.i))},e.\u0275cmp=$.Jb({type:e,selectors:[["kt-cargaoponioncumplimiento"]],viewQuery:function(e,t){if(1&e&&($.Ec(ne,!0),$.Ec(re,!0),$.Ec(ce,!0)),2&e){let e;$.wc(e=$.gc())&&(t.paginator7=e.first),$.wc(e=$.gc())&&(t.sort7=e.first),$.wc(e=$.gc())&&(t.popUpRecarga=e.first)}},outputs:{VistaPrincipal:"VistaPrincipal"},decls:33,vars:5,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[4,"ngIf"],[1,"row",3,"hidden"],[1,"col-xs-12","col-md-4"],[1,"col-xs-12","col-md-6"],[1,"row","mt-10"],["id","divOficiosUpLoad",2,"cursor","pointer",3,"click"],[1,"fa","fa-cloud-upload-alt",2,"font-size","40px","margin-top","28px","color","#54637A"],[2,"font-size","11px","font-family","Verdana"],[2,"float","left","width","60%"],[2,"margin-top","-7px"],["type","file","id","fileUploadCuenta",2,"display","none",3,"change"],["class","col-md-8",4,"ngIf"],["class","row",4,"ngIf"],["popCCliente",""],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"col-md-12"],[2,"color","#7AB800 !important"],[1,"fa","fa-user"],[1,"col-md-5"],[1,"form-group"],["type","text","aria-describedby","helpEmpresa",1,"form-control","form-control-sm"],[1,"col-md-2"],[1,"d-flex","align-items-center","p-2"],["href","javascript:;",1,"btn","btn-transparent-danger","font-weight-bold","mr-2",3,"click"],[1,"col-md-8"],[1,"progress"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",3,"ngStyle"],[1,"col-md-6"],["role","alert",1,"alert","alert-success","mb-5","p-5"],[1,"alert-heading"],[1,"border-bottom","border-white","opacity-20","mb-5"],[1,"mb-0"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"text-muted"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["maxlength","250","cols","6","rows","3",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(e,t){1&e&&($.Vb(0,"div",0),$.Vb(1,"div",1),$.Vb(2,"div",2),$.Vb(3,"h2",3),$.Qb(4,"i",4),$.Kc(5," Registro de Opini\xf3n de Cumplimiento "),$.Ub(),$.Ub(),$.Ub(),$.Vb(6,"div",5),$.Ic(7,le,25,2,"div",6),$.Vb(8,"div",7),$.Qb(9,"div",8),$.Vb(10,"div",9),$.Vb(11,"div",10),$.Vb(12,"div",11),$.fc("click",function(){return t.Sube()}),$.Qb(13,"i",12),$.Vb(14,"p",13),$.Kc(15,"Agregar Archivo"),$.Ub(),$.Ub(),$.Vb(16,"div",14),$.Qb(17,"br"),$.Qb(18,"br"),$.Vb(19,"p"),$.Kc(20," Los formatos de archivos aceptados son: "),$.Ub(),$.Vb(21,"ul",15),$.Vb(22,"li"),$.Kc(23,"PDF (.pdf) m\xe1ximo 1MB"),$.Ub(),$.Ub(),$.Ub(),$.Vb(24,"input",16),$.fc("change",function(e){return t.UpLoadFile(e)}),$.Ub(),$.Ic(25,be,4,3,"div",17),$.Ub(),$.Ub(),$.Ub(),$.Ic(26,de,13,0,"div",18),$.Ub(),$.Ub(),$.Vb(27,"div"),$.Ic(28,he,24,1,"ng-template",null,19,$.Jc),$.Ub(),$.Vb(30,"ngx-spinner",20),$.Vb(31,"p",21),$.Kc(32," Loading... "),$.Ub(),$.Ub()),2&e&&($.Cb(7),$.pc("ngIf",t.Page.ShowRegistro),$.Cb(1),$.pc("hidden",!t.Page.ShowUpload),$.Cb(17),$.pc("ngIf",t.Avance.message),$.Cb(1),$.pc("ngIf",t.Page.ShowCargaExitosa),$.Cb(4),$.pc("fullScreen",!0))},directives:[o.n,N.a,o.o,r.d,r.k,r.o,r.r],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}"],changeDetection:0}),e})();const ue=["sharecmp"],me=["matPaginator7"],fe=["sort7"];function ge(e,t){if(1&e&&($.Vb(0,"option",17),$.Kc(1),$.Ub()),2&e){const e=t.$implicit;$.pc("value",e.Reference),$.Cb(1),$.Mc(" ",e.RazonSocial," ")}}function ve(e,t){if(1&e){const e=$.Wb();$.Vb(0,"div",4),$.Vb(1,"div",5),$.Vb(2,"div",6),$.Vb(3,"h2",7),$.Qb(4,"i",8),$.Kc(5," Selecci\xf3n de Empresa "),$.Ub(),$.Ub(),$.Ub(),$.Vb(6,"div",9),$.Vb(7,"div"),$.Vb(8,"div",10),$.Vb(9,"div",11),$.Vb(10,"div",12),$.Vb(11,"label"),$.Kc(12,"Seleccione la empresa a la que desea enviar su oponion de cumplimiento"),$.Ub(),$.Vb(13,"select",13),$.fc("ngModelChange",function(t){return $.zc(e),$.jc().General.SeleccionEmpresa.Reference=t}),$.Ic(14,ge,2,2,"option",14),$.Ub(),$.Ub(),$.Ub(),$.Ub(),$.Vb(15,"div",10),$.Vb(16,"div",15),$.Vb(17,"a",16),$.fc("click",function(){return $.zc(e),$.jc().SeleccionarEmpresa()}),$.Kc(18,"Aceptar"),$.Ub(),$.Ub(),$.Ub(),$.Ub(),$.Ub(),$.Ub()}if(2&e){const e=$.jc();$.Cb(13),$.pc("ngModel",e.General.SeleccionEmpresa.Reference)("value",0),$.Cb(1),$.pc("ngForOf",e.ListaEmpresas)}}function Ce(e,t){if(1&e){const e=$.Wb();$.Vb(0,"button",38),$.fc("click",function(){return $.zc(e),$.jc(2).ShowLoad()}),$.Qb(1,"i",39),$.Kc(2," Cargar Opini\xf3n "),$.Ub()}}function Se(e,t){if(1&e){const e=$.Wb();$.Vb(0,"button",38),$.fc("click",function(){return $.zc(e),$.jc(2).CargaDatos()}),$.Qb(1,"i",40),$.Kc(2," Actualizar Estatus "),$.Ub()}}function Ve(e,t){1&e&&($.Vb(0,"mat-header-cell",41),$.Kc(1,"Archivos Cargados"),$.Ub())}function Ue(e,t){if(1&e&&($.Vb(0,"mat-cell"),$.Kc(1),$.Ub()),2&e){const e=t.$implicit;$.Cb(1),$.Mc(" ",e.Actualizaciones," ")}}function we(e,t){1&e&&($.Vb(0,"mat-header-cell",41),$.Kc(1," Mes "),$.Ub())}function Pe(e,t){if(1&e&&($.Vb(0,"mat-cell"),$.Kc(1),$.Ub()),2&e){const e=t.$implicit;$.Cb(1),$.Mc(" ",e.Mes," ")}}function De(e,t){1&e&&($.Vb(0,"mat-header-cell",41),$.Kc(1," Estatus "),$.Ub())}function Fe(e,t){if(1&e&&($.Vb(0,"div"),$.Vb(1,"span",44),$.Kc(2),$.Ub(),$.Ub()),2&e){const e=$.jc().$implicit;$.Cb(2),$.Mc(" ",e.Estatus,"")}}function Oe(e,t){if(1&e&&($.Vb(0,"div"),$.Vb(1,"span",45),$.Kc(2),$.Ub(),$.Ub()),2&e){const e=$.jc().$implicit;$.Cb(2),$.Mc(" ",e.Estatus,"")}}function ye(e,t){if(1&e&&($.Vb(0,"div"),$.Vb(1,"span",46),$.Kc(2),$.Ub(),$.Ub()),2&e){const e=$.jc().$implicit;$.Cb(2),$.Mc(" ",e.Estatus,"")}}function ke(e,t){if(1&e&&($.Vb(0,"mat-cell"),$.Vb(1,"div",42),$.Ic(2,Fe,3,1,"div",43),$.Ic(3,Oe,3,1,"div",43),$.Ic(4,ye,3,1,"div",43),$.Ub(),$.Ub()),2&e){const e=t.$implicit;$.Cb(1),$.pc("ngSwitch",e.Estatus),$.Cb(1),$.pc("ngSwitchCase","Rechazado"),$.Cb(1),$.pc("ngSwitchCase","Pendiente Revisi\xf3n"),$.Cb(1),$.pc("ngSwitchCase","Recibida")}}function Ie(e,t){1&e&&$.Qb(0,"mat-header-row")}function xe(e,t){1&e&&$.Qb(0,"mat-row")}const Re=function(){return[25,50,75,100]};function Me(e,t){if(1&e){const e=$.Wb();$.Vb(0,"div",4),$.Vb(1,"div",10),$.Vb(2,"div",18),$.Vb(3,"h1",19),$.Kc(4),$.Qb(5,"i",20),$.Ub(),$.Ub(),$.Vb(6,"span",21),$.Kc(7,"Registro de Opinion de Cumplimiento"),$.Ub(),$.Ub(),$.Vb(8,"div",9),$.Vb(9,"div",10),$.Ic(10,Ce,3,0,"button",22),$.Kc(11,"\xa0 "),$.Ic(12,Se,3,0,"button",22),$.Kc(13,"\xa0 "),$.Ub(),$.Vb(14,"div",10),$.Vb(15,"div",23),$.Qb(16,"br"),$.Vb(17,"div",24),$.Vb(18,"mat-form-field"),$.Vb(19,"input",25),$.fc("keyup",function(t){return $.zc(e),$.jc().applyFilter7(t.target.value)}),$.Ub(),$.Ub(),$.Ub(),$.Ub(),$.Vb(20,"div",26),$.Qb(21,"mat-paginator",27,28),$.Vb(23,"mat-table",29,30),$.Tb(25,31),$.Ic(26,Ve,2,0,"mat-header-cell",32),$.Ic(27,Ue,2,1,"mat-cell",33),$.Sb(),$.Tb(28,34),$.Ic(29,we,2,0,"mat-header-cell",32),$.Ic(30,Pe,2,1,"mat-cell",33),$.Sb(),$.Tb(31,35),$.Ic(32,De,2,0,"mat-header-cell",32),$.Ic(33,ke,5,4,"mat-cell",33),$.Sb(),$.Ic(34,Ie,1,0,"mat-header-row",36),$.Ic(35,xe,1,0,"mat-row",37),$.Ub(),$.Ub(),$.Ub(),$.Ub(),$.Ub()}if(2&e){const e=$.jc();$.Cb(4),$.Mc(" ",e.General.DatosEmpresa.RazonSocial," "),$.Cb(6),$.pc("ngIf",e.Screen.Post),$.Cb(2),$.pc("ngIf",e.Screen.Post),$.Cb(9),$.pc("pageSizeOptions",$.sc(7,Re)),$.Cb(2),$.pc("dataSource",e.dataSourceSolicitudes),$.Cb(11),$.pc("matHeaderRowDef",e.displayedColumns7),$.Cb(1),$.pc("matRowDefColumns",e.displayedColumns7)}}function Ee(e,t){if(1&e){const e=$.Wb();$.Vb(0,"div"),$.Vb(1,"kt-cargaoponioncumplimiento",47,48),$.fc("VistaPrincipal",function(t){return $.zc(e),$.jc().ShowVistaPrincipal(t)}),$.Ub(),$.Ub()}}let Ke=(()=>{class e{constructor(e,t,i,a,o,n,r,c,l,s,b){this.snackBar=e,this.AuthService=t,this.modalService=i,this.toastr=a,this.spinnerService=o,this.router=n,this.sanitizer=r,this.ScreenActionsService=c,this.DashboardService=l,this.ref=s,this.OpinionCumplimientoService=b,this.Page={},this.Screen={},this.General={},this.ListaEmpresas=[],this.displayedColumns7=["Actualizaciones","Mes","Estatus"],this.Page.ShowLoad=!1,this.Page.ShowEdit=!1,this.Page.ShowList=!1,this.Page.ShowSeleccionEmpresa=!1,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.DatosEmpresa={},this.General.SeleccionEmpresa={}}ngOnInit(){this.ScreenActionsService.PromiseAcciones(this.Page.Controller).then(e=>{this.Screen=e,0!=Object.keys(this.Screen).length&&this.Screen.Get?0==Object.keys(this.DashboardService.oEmpresa).length&&this.DashboardService.oListaEmpresas.length>0?(this.ListaEmpresas=JSON.parse(JSON.stringify(this.DashboardService.oListaEmpresas)),this.Page.ShowSeleccionEmpresa=!0,this.ref.markForCheck()):Object.keys(this.DashboardService.oEmpresa).length>0&&this.DashboardService.oListaEmpresas.length>0?(this.General.DatosEmpresa=this.DashboardService.oEmpresa,this.OpinionCumplimientoService.oDetalleCliente=this.DashboardService.oEmpresa,this.CargaDatos(),this.Page.ShowList=!0):(this.router.navigate(["/dashboard"]),this.Regresar()):(this.toastr.error("Si intenta acceder a una opci\xf3n no permitida su cuenta ser\xe1 suspendida"),this.router.navigate(["dashboard"]))},e=>{this.handleError(e)})}CargaCliente(){}CargaDatos(){if(this.spinnerService.show(),this.dataSourceSolicitudes=new y.k([]),null==this.General.DatosEmpresa||null==this.General.DatosEmpresa.Reference||""==this.General.DatosEmpresa.Reference)return this.toastr.error("Ocurri\xf3 un error al contactar el servidor"),void this.router.navigate(["/dashboard"]);let e={};e.RFC=this.General.DatosEmpresa.RFC,e.Reference=this.General.DatosEmpresa.Reference,this.OpinionCumplimientoService.GetOpinionPreveedor(e).subscribe(e=>{this.dataSourceSolicitudes=new y.k(e),this.dataSourceSolicitudes.paginator=this.paginator7,this.dataSourceSolicitudes.sort=this.sort7,this.spinnerService.hide(),this.ref.markForCheck()},e=>{this.handleError(e)})}ShowLoad(){this.Page.ShowLoad=!0,this.Page.ShowList=!1}ShowVistaPrincipal(e){this.CargaCliente(),this.Page.ShowLoad=!1,this.Page.ShowList=e,this.CargaDatos()}ActualizarBandeja(){this.CargaDatos()}applyFilter7(e){this.dataSourceSolicitudes.filter=e.trim().toLowerCase(),this.dataSourceSolicitudes.paginator&&this.dataSourceSolicitudes.paginator.firstPage()}Regresar(){}SeleccionarEmpresa(){if(null==this.General.SeleccionEmpresa.Reference||""==this.General.SeleccionEmpresa.Reference)return void this.toastr.error("Debe seleccionar una empresa");const e=this.ListaEmpresas.find(e=>e.Reference===this.General.SeleccionEmpresa.Reference);null!=e&&null!=e?(this.General.DatosEmpresa.RazonSocial=e.RazonSocial,this.General.DatosEmpresa.Reference=e.Reference,this.CargaDatos(),this.Page.ShowSeleccionEmpresa=!1,this.OpinionCumplimientoService.oDetalleCliente.Reference=e.Reference,this.OpinionCumplimientoService.oDetalleCliente.RFC=e.RFC,this.OpinionCumplimientoService.oDetalleCliente.NombreCliente=e.Cliente,this.OpinionCumplimientoService.oDetalleCliente.Cargado=e.Cargado,this.Page.ShowList=!0,this.ref.markForCheck()):this.toastr.error("selecci\xf3n no v\xe1lida")}handleError(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}openSnackBar(e,t){this.snackBar.open(e,t,{duration:2e3})}}return e.\u0275fac=function(t){return new(t||e)($.Pb(O.a),$.Pb(J.a),$.Pb(q.y),$.Pb(W.b),$.Pb(N.c),$.Pb(n.h),$.Pb(H.b),$.Pb(X.a),$.Pb(Y.a),$.Pb($.i),$.Pb(ee))},e.\u0275cmp=$.Jb({type:e,selectors:[["kt-bandejaopinion"]],viewQuery:function(e,t){if(1&e&&($.Ec(ue,!0),$.Ec(me,!0),$.Ec(fe,!0)),2&e){let e;$.wc(e=$.gc())&&(t.sharecmp=e.first),$.wc(e=$.gc())&&(t.paginator7=e.first),$.wc(e=$.gc())&&(t.sort7=e.first)}},decls:6,vars:4,consts:[["class","card card-custom",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["name","select",1,"form-control",3,"ngModel","value","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","p-2"],["href","javascript:;",1,"btn","btn-transparent-success","font-weight-bold","mr-2",3,"click"],[3,"value"],[1,"col-xs-12","col-md-12","mt-10"],[1,"d-flex","align-items-center","text-dark","text-hover-primary","font-size-h5","font-weight-bold","ml-5"],[1,"flaticon2-correct","text-success","icon-md","ml-2"],[1,"text-muted","ml-15"],["type","button","style","color: #7AB800 !important","class","btn btn-outline-secondary",3,"click",4,"ngIf"],[1,"col-xs-12","col-md-12",2,"flex","0 0 0% !important"],[1,"example-header"],["matInput","","placeholder","Buscar",3,"keyup"],[1,"col-xs-12","col-md-12"],[3,"pageSizeOptions"],["matPaginator7",""],["matSort","",3,"dataSource"],["sort7","matSort"],["matColumnDef","Actualizaciones"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Mes"],["matColumnDef","Estatus"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["type","button",1,"btn","btn-outline-secondary",2,"color","#7AB800 !important",3,"click"],[1,"fas","fa-upload"],[1,"fas","fa-circle-notch"],["mat-sort-header",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"label","font-weight-bold","label-lg","label-light-danger","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-primary","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-success","label-inline"],[3,"VistaPrincipal"],["sharecmp",""]],template:function(e,t){1&e&&($.Ic(0,ve,19,3,"div",0),$.Ic(1,Me,36,8,"div",0),$.Ic(2,Ee,3,0,"div",1),$.Vb(3,"ngx-spinner",2),$.Vb(4,"p",3),$.Kc(5," Loading... "),$.Ub(),$.Ub()),2&e&&($.pc("ngIf",t.Page.ShowSeleccionEmpresa),$.Cb(1),$.pc("ngIf",t.Page.ShowList),$.Cb(1),$.pc("ngIf",t.Page.ShowLoad),$.Cb(1),$.pc("fullScreen",!0))},directives:[o.n,N.a,r.w,r.o,r.r,o.m,r.s,r.y,g.c,f.b,K.a,y.j,z.a,y.c,y.e,y.b,y.g,y.i,y.d,z.b,y.a,o.p,o.q,y.f,y.h,pe],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}.mat-table[_ngcontent-%COMP%]{overflow-x:scroll}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{word-wrap:normal;display:table-cell;padding:0 10px;line-break:unset;width:90%;white-space:nowrap;overflow:hidden;vertical-align:middle}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{display:table-row}"],changeDetection:0}),e})();var Ae=i("wl6q");let Ge=(()=>{class e{constructor(e,t,i){this.api=e,this.router=t,this.http=i,this.oDetalleSolicitud={}}download(e,t){var i=localStorage.getItem("auth");let a=JSON.parse(i);return this.http.get(`${ie.a.apiUrl}/${e}/${t}`,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token},responseType:"blob"}).toPromise()}downloadPost(e,t){var i=localStorage.getItem("auth");let a=JSON.parse(i);return this.http.post(`${ie.a.apiUrl}/${e}/`,t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token},responseType:"blob"}).toPromise()}}return e.\u0275fac=function(t){return new(t||e)($.cc(Z.a),$.cc(n.h),$.cc(te.b))},e.\u0275prov=$.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ze=["sharecmp"],Le=["matPaginator7"],je=["sort7"];function Be(e,t){if(1&e&&($.Vb(0,"option",56),$.Kc(1),$.Ub()),2&e){const e=t.$implicit;$.pc("value",e.Valor),$.Cb(1),$.Mc(" ",e.Descripcion," ")}}function Te(e,t){1&e&&($.Vb(0,"mat-header-cell"),$.Kc(1," Actions "),$.Ub())}function $e(e,t){if(1&e){const e=$.Wb();$.Vb(0,"mat-cell"),$.Vb(1,"a",57),$.fc("click",function(){$.zc(e);const i=t.$implicit;return $.jc().DescargarOpinion(i)}),$.Qb(2,"i",58),$.Ub(),$.Ub()}}function Qe(e,t){1&e&&($.Vb(0,"mat-header-cell",59),$.Kc(1,"Verifica Datos"),$.Ub())}function _e(e,t){if(1&e){const e=$.Wb();$.Vb(0,"mat-cell"),$.Vb(1,"span",60),$.fc("click",function(){$.zc(e);const i=t.$implicit;return $.jc().VerificaSAT(i)}),$.Kc(2," Validar "),$.Ub(),$.Ub()}}function Ne(e,t){1&e&&($.Vb(0,"mat-header-cell",59),$.Kc(1," Validacion Documento "),$.Ub())}function Je(e,t){if(1&e&&($.Vb(0,"div"),$.Vb(1,"span",63),$.Kc(2),$.Ub(),$.Ub()),2&e){const e=$.jc().$implicit;$.Cb(2),$.Mc(" ",e.StatusValidacion,"")}}function qe(e,t){if(1&e&&($.Vb(0,"div"),$.Vb(1,"span",64),$.Kc(2),$.Ub(),$.Ub()),2&e){const e=$.jc().$implicit;$.Cb(2),$.Mc(" ",e.StatusValidacion,"")}}function We(e,t){if(1&e&&($.Vb(0,"div"),$.Vb(1,"span",65),$.Kc(2),$.Ub(),$.Ub()),2&e){const e=$.jc().$implicit;$.Cb(2),$.Mc(" ",e.StatusValidacion,"")}}function He(e,t){if(1&e&&($.Vb(0,"mat-cell"),$.Vb(1,"div",61),$.Ic(2,Je,3,1,"div",62),$.Ic(3,qe,3,1,"div",62),$.Ic(4,We,3,1,"div",62),$.Ub(),$.Ub()),2&e){const e=t.$implicit;$.Cb(1),$.pc("ngSwitch",e.StatusValidacion),$.Cb(1),$.pc("ngSwitchCase","Sin posibles ediciones"),$.Cb(1),$.pc("ngSwitchCase","Documento Editado"),$.Cb(1),$.pc("ngSwitchCase","Posiblemente Editado")}}function Xe(e,t){1&e&&($.Vb(0,"mat-header-cell",59),$.Kc(1,"Fecha Documento"),$.Ub())}function Ye(e,t){if(1&e&&($.Vb(0,"mat-cell"),$.Kc(1),$.kc(2,"date"),$.Ub()),2&e){const e=t.$implicit;$.Cb(1),$.Mc(" ",$.mc(2,1,e.FechaDocumento,"yyyy-MM-dd")," ")}}function Ze(e,t){1&e&&($.Vb(0,"mat-header-cell",59),$.Kc(1," RFC "),$.Ub())}function et(e,t){if(1&e&&($.Vb(0,"mat-cell"),$.Kc(1),$.Ub()),2&e){const e=t.$implicit;$.Cb(1),$.Mc(" ",e.RFC," ")}}function tt(e,t){1&e&&($.Vb(0,"mat-header-cell",59),$.Kc(1," Opinion "),$.Ub())}function it(e,t){if(1&e&&($.Vb(0,"mat-cell"),$.Kc(1),$.Ub()),2&e){const e=t.$implicit;$.Cb(1),$.Mc(" ",e.Opinion," ")}}function at(e,t){1&e&&($.Vb(0,"mat-header-cell",59),$.Kc(1," Razon Social "),$.Ub())}function ot(e,t){if(1&e&&($.Vb(0,"mat-cell"),$.Kc(1),$.Ub()),2&e){const e=t.$implicit;$.Cb(1),$.Mc(" ",e.RazonSocial," ")}}function nt(e,t){1&e&&($.Vb(0,"mat-header-cell",59),$.Kc(1," Fecha Consulta Documento SAT "),$.Ub())}function rt(e,t){if(1&e&&($.Vb(0,"mat-cell"),$.Kc(1),$.Ub()),2&e){const e=t.$implicit;$.Cb(1),$.Mc(" ",e.FechaConsulta," ")}}function ct(e,t){1&e&&($.Vb(0,"mat-header-cell",59),$.Kc(1," Fecha Carga Documento "),$.Ub())}function lt(e,t){if(1&e&&($.Vb(0,"mat-cell"),$.Kc(1),$.kc(2,"date"),$.Ub()),2&e){const e=t.$implicit;$.Cb(1),$.Mc(" ",$.mc(2,1,e.FechaCargaDocumento,"yyyy-MM-dd @ HH:mm")," ")}}function st(e,t){1&e&&($.Vb(0,"mat-header-cell",59),$.Kc(1," Folio "),$.Ub())}function bt(e,t){if(1&e&&($.Vb(0,"mat-cell"),$.Kc(1),$.Ub()),2&e){const e=t.$implicit;$.Cb(1),$.Mc(" ",e.Folio," ")}}function dt(e,t){1&e&&($.Vb(0,"mat-header-cell",59),$.Kc(1," Cadena Original "),$.Ub())}function ht(e,t){if(1&e&&($.Vb(0,"mat-cell"),$.Kc(1),$.Ub()),2&e){const e=t.$implicit;$.Cb(1),$.Mc(" ",e.CadenaOriginal," ")}}function pt(e,t){1&e&&($.Vb(0,"mat-header-cell",59),$.Kc(1," SelloDigital "),$.Ub())}function ut(e,t){if(1&e&&($.Vb(0,"mat-cell"),$.Kc(1),$.Ub()),2&e){const e=t.$implicit;$.Cb(1),$.Mc(" ",e.SelloDigital," ")}}function mt(e,t){1&e&&$.Qb(0,"mat-header-row")}function ft(e,t){1&e&&$.Qb(0,"mat-row")}function gt(e,t){if(1&e){const e=$.Wb();$.Vb(0,"div"),$.Vb(1,"kt-cargaoponioncumplimiento",66,67),$.fc("VistaPrincipal",function(t){return $.zc(e),$.jc().ShowVistaPrincipal(t)}),$.Ub(),$.Ub()}}const vt=function(){return[25,50,75,100]},Ct=[{path:"",component:Q,children:[{path:"operations/verdict",component:Ke},{path:"operations/vendorsreview",component:(()=>{class e{constructor(e,t,i,a,o,n,r,c,l,s,b,d){this.snackBar=e,this.AuthService=t,this.modalService=i,this.toastr=a,this.spinnerService=o,this.router=n,this.sanitizer=r,this.ScreenActionsService=c,this.ExcelService=l,this.ref=s,this.OpinionCumplimientoService=b,this.DownloadService=d,this.Page={},this.Screen={},this.General={},this.panelOpenState=!1,this.ListaTipoOpinion=[],this.displayedColumns7=["actions","Validacion","StatusValidacion","FechaDocumento","RFC","Opinion","RazonSocial","FechaConsulta","FechaCargaDocumento","Folio","CadenaOriginal","SelloDigital"],this.Page.ShowLoad=!1,this.Page.ShowRechazo=!1,this.Page.ShowEdit=!1,this.Page.ShowList=!1,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Filtros={},this.ListaTipoOpinion.push({Valor:1,Descripcion:"Negativo"},{Valor:2,Descripcion:"Positivo"},{Valor:3,Descripcion:"Todas"}),this.General.Data=[]}ngOnInit(){this.ScreenActionsService.PromiseAcciones(this.Page.Controller).then(e=>{this.Screen=e,0!=Object.keys(this.Screen).length&&this.Screen.Get?(this.ref.markForCheck(),this.CargaDatos()):(this.toastr.error("Si intenta acceder a una opci\xf3n no permitida su cuenta ser\xe1 suspendida"),this.router.navigate(["dashboard"]))},e=>{this.handleError(e)})}CargaDatos(){this.Page.ShowList=!0,this.General.Data.length=0,this.spinnerService.show(),this.dataSourceSolicitudes=new y.k([]),this.OpinionCumplimientoService.GetRevisionOpiniones().subscribe(e=>{this.General.Data=e,this.dataSourceSolicitudes=new y.k(e),this.dataSourceSolicitudes.paginator=this.paginator7,this.dataSourceSolicitudes.sort=this.sort7,this.spinnerService.hide(),this.ref.markForCheck()},e=>{this.handleError(e)})}AplicaFiltros(){0!=Object.keys(this.General.Filtros).length?null==this.General.Filtros.FechaFinal||null==this.General.Filtros.FechaFinal||""==this.General.Filtros.FechaFinal||null!=this.General.Filtros.FechaInicial&&(null!=this.General.Filtros.FechaInicial||""!=this.General.Filtros.FechaInicial)?(this.General.Data.length=0,this.OpinionCumplimientoService.AplicaFiltros(this.General.Filtros).subscribe(e=>{this.General.Data=e,this.dataSourceSolicitudes=new y.k(e),this.dataSourceSolicitudes.paginator=this.paginator7,this.dataSourceSolicitudes.sort=this.sort7,this.spinnerService.hide(),this.ref.markForCheck()},e=>{this.handleError(e)})):this.toastr.error("Debe seleccionar la fecha inicial"):this.toastr.error("Filtros no v\xe1lidos","Error")}Exportar(){let e=this.General.Data.map(({FechaDocumento:e,StatusValidacion:t,RFC:i,Folio:a,RazonSocial:o,Opinion:n,FechaConsulta:r,CadenaOriginal:c,SelloDigital:l,FechaCargaDocumento:s})=>({FechaDocumento:e,StatusValidacion:t,RFC:i,Folio:a,RazonSocial:o,Opinion:n,FechaConsulta:r,CadenaOriginal:c,SelloDigital:l,FechaCargaDocumento:s}));this.spinnerService.show(),this.ExcelService.exportAsExcelFile(e,"OpinionProveedores"),this.spinnerService.hide()}ResetData(){this.CargaDatos()}ShowLoad(){this.Page.ShowLoad=!0,this.Page.ShowList=!1}ShowVistaPrincipal(e){this.Page.ShowLoad=!1,this.Page.ShowRechazo=!1,this.Page.ShowList=e,this.CargaDatos()}ActualizarBandeja(){this.CargaDatos()}DescargarOpinion(e){let t={};t.Value=e.Value,t.RFC=e.RFC,this.spinnerService.show(),this.DownloadService.downloadPost("report/vendorverdict",t).then(e=>{var i=new Blob([e],{type:"application/pdf"}),a=URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.target="_blank",o.download="OpinionCumplimiento_"+t.RFC+".pdf",document.body.appendChild(o),o.click(),this.spinnerService.hide()},e=>{this.toastr.error("Ocurrio un error al descargar la infomaci\xf3n"),this.spinnerService.hide()})}VerificaSAT(e){let t="",i="",a=new Date(e.FechaDocumento),o=a.getDate(),n=a.getMonth()+1,r=a.getFullYear(),c="",l="";l=n<10?"0"+n:n.toString(),c=o<10?"0"+o:o.toString(),t=`${e.Folio}_${e.RFC}_${c}-${l}-${r}_${e.Digito}`,i="https://siat.sat.gob.mx/app/qr/faces/pages/mobile/validadorqr.jsf?D1=1&D2=1&D3="+t,window.open("about:blank","_blank").location.href=i,console.log(i)}applyFilter7(e){this.dataSourceSolicitudes.filter=e.trim().toLowerCase(),this.dataSourceSolicitudes.paginator&&this.dataSourceSolicitudes.paginator.firstPage()}handleError(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}openSnackBar(e,t){this.snackBar.open(e,t,{duration:2e3})}}return e.\u0275fac=function(t){return new(t||e)($.Pb(O.a),$.Pb(J.a),$.Pb(q.y),$.Pb(W.b),$.Pb(N.c),$.Pb(n.h),$.Pb(H.b),$.Pb(X.a),$.Pb(Ae.a),$.Pb($.i),$.Pb(ee),$.Pb(Ge))},e.\u0275cmp=$.Jb({type:e,selectors:[["kt-bandejarevisionopinion"]],viewQuery:function(e,t){if(1&e&&($.Ec(ze,!0),$.Ec(Le,!0),$.Ec(je,!0)),2&e){let e;$.wc(e=$.gc())&&(t.sharecmp=e.first),$.wc(e=$.gc())&&(t.paginator7=e.first),$.wc(e=$.gc())&&(t.sort7=e.first)}},decls:114,vars:16,consts:[[1,"card","card-custom",3,"hidden"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[1,"row"],[1,"col-xs-12","col-md-12"],[3,"expanded","expandedChange"],[1,"Oferta",2,"font-weight","bold"],[1,"fas","fa-filter"],[1,"col-xs-12","col-md-2"],[1,"form-group"],["type","text","maxlength","13","aria-describedby","helpRFCCliente","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-xs-12","col-md-3"],["type","text","maxlength","50","aria-describedby","helpRazonSocial","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["required","","name","select","name","ddlTipoBusqueda",1,"form-control","form-control-sm",3,"value","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","date","maxlength","4","aria-describedby","FechaInicialhelp","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","date","maxlength","4","aria-describedby","FechaFinalhelp","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-md-1"],["type","reset","name","edit",1,"btn","btn-success","btn-sm",2,"margin-top","25px",3,"click"],[1,"fas","fa-search"],["href","javascript:void(0)",1,"btn","btn-danger","btn-sm",2,"margin-top","25px",3,"click"],[1,"far","fa-times-circle"],[1,"col-xs-12","col-md-9"],[1,"col-xs-12","col-md-3","text-right"],["type","button","data-toggle","tooltip","title","Exportar datos a Excel",1,"btn","btn-outline-secondary",2,"color","#7AB800 !important",3,"click"],[1,"fas","fa-file-excel"],[1,"col-xs-12","col-md-12",2,"flex","0 0 0% !important"],[1,"example-header"],["matInput","","placeholder","Buscar",3,"keyup"],[3,"pageSizeOptions"],["matPaginator7",""],["matSort","",3,"dataSource"],["sort7","matSort"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Validacion"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","StatusValidacion"],["matColumnDef","FechaDocumento"],["matColumnDef","RFC"],["matColumnDef","Opinion"],["matColumnDef","RazonSocial"],["matColumnDef","FechaConsulta"],["matColumnDef","FechaCargaDocumento"],["matColumnDef","Folio"],["matColumnDef","CadenaOriginal"],["matColumnDef","SelloDigital"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[3,"value"],["href","javascript:;","title","Descargar Opinion de Cumplimiento",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-primary","btn-icon",3,"click"],[1,"fas","fa-cloud-download-alt"],["mat-sort-header",""],["data-toggle","tooltip","title","Consultar datos en SAT",1,"text-muted",2,"text-decoration","underline","cursor","pointer",3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"label","font-weight-bold","label-lg","label-light-success","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-danger","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-warning","label-inline"],[3,"VistaPrincipal"],["sharecmp",""]],template:function(e,t){1&e&&($.Vb(0,"div",0),$.Vb(1,"div",1),$.Vb(2,"div",2),$.Vb(3,"h2",3),$.Qb(4,"i",4),$.Kc(5," Revisi\xf3n de opinion de cumplimiento para proveedores"),$.Ub(),$.Ub(),$.Ub(),$.Vb(6,"div",5),$.Vb(7,"div",6),$.Vb(8,"div",7),$.Vb(9,"mat-expansion-panel",8),$.fc("expandedChange",function(e){return t.panelOpenState=e}),$.Vb(10,"mat-expansion-panel-header"),$.Vb(11,"mat-panel-title"),$.Vb(12,"span",9),$.Qb(13,"i",10),$.Kc(14," B\xfasqueda Avanzada"),$.Ub(),$.Ub(),$.Ub(),$.Vb(15,"div",6),$.Vb(16,"div",11),$.Vb(17,"div",12),$.Vb(18,"label"),$.Kc(19,"RFC "),$.Ub(),$.Vb(20,"input",13),$.fc("ngModelChange",function(e){return t.General.Filtros.RFCCliente=e}),$.Ub(),$.Ub(),$.Ub(),$.Vb(21,"div",14),$.Vb(22,"div",12),$.Vb(23,"label"),$.Kc(24,"Raz\xf3n Social "),$.Ub(),$.Vb(25,"input",15),$.fc("ngModelChange",function(e){return t.General.Filtros.RazonSocial=e}),$.Ub(),$.Ub(),$.Ub(),$.Vb(26,"div",11),$.Vb(27,"div",12),$.Vb(28,"label"),$.Kc(29,"Tipo"),$.Ub(),$.Vb(30,"select",16),$.fc("ngModelChange",function(e){return t.General.Filtros.TipoOpinion=e}),$.Ic(31,Be,2,2,"option",17),$.Ub(),$.Ub(),$.Ub(),$.Ub(),$.Vb(32,"div",6),$.Vb(33,"div",11),$.Vb(34,"div",12),$.Vb(35,"label"),$.Kc(36,"Fecha Documento Inicial"),$.Ub(),$.Vb(37,"input",18),$.fc("ngModelChange",function(e){return t.General.Filtros.FechaInicial=e}),$.Ub(),$.Ub(),$.Ub(),$.Vb(38,"div",11),$.Vb(39,"div",12),$.Vb(40,"label"),$.Kc(41,"Fecha Documento Final"),$.Ub(),$.Vb(42,"input",19),$.fc("ngModelChange",function(e){return t.General.Filtros.FechaFinal=e}),$.Ub(),$.Ub(),$.Ub(),$.Vb(43,"div",20),$.Vb(44,"div",12),$.Vb(45,"button",21),$.fc("click",function(){return t.AplicaFiltros()}),$.Qb(46,"i",22),$.Kc(47," Buscar "),$.Ub(),$.Ub(),$.Ub(),$.Vb(48,"div",20),$.Vb(49,"div",12),$.Vb(50,"a",23),$.fc("click",function(){return t.ResetData()}),$.Qb(51,"i",24),$.Kc(52," Limpiar"),$.Ub(),$.Ub(),$.Ub(),$.Ub(),$.Qb(53,"br"),$.Ub(),$.Ub(),$.Ub(),$.Vb(54,"div",6),$.Qb(55,"div",25),$.Vb(56,"div",26),$.Qb(57,"br"),$.Vb(58,"button",27),$.fc("click",function(){return t.Exportar()}),$.Qb(59,"i",28),$.Kc(60," Exportar"),$.Ub(),$.Ub(),$.Ub(),$.Vb(61,"div",6),$.Vb(62,"div",29),$.Qb(63,"br"),$.Vb(64,"div",30),$.Vb(65,"mat-form-field"),$.Vb(66,"input",31),$.fc("keyup",function(e){return t.applyFilter7(e.target.value)}),$.Ub(),$.Ub(),$.Ub(),$.Ub(),$.Vb(67,"div",7),$.Qb(68,"mat-paginator",32,33),$.Vb(70,"mat-table",34,35),$.Tb(72,36),$.Ic(73,Te,2,0,"mat-header-cell",37),$.Ic(74,$e,3,0,"mat-cell",38),$.Sb(),$.Tb(75,39),$.Ic(76,Qe,2,0,"mat-header-cell",40),$.Ic(77,_e,3,0,"mat-cell",38),$.Sb(),$.Tb(78,41),$.Ic(79,Ne,2,0,"mat-header-cell",40),$.Ic(80,He,5,4,"mat-cell",38),$.Sb(),$.Tb(81,42),$.Ic(82,Xe,2,0,"mat-header-cell",40),$.Ic(83,Ye,3,4,"mat-cell",38),$.Sb(),$.Tb(84,43),$.Ic(85,Ze,2,0,"mat-header-cell",40),$.Ic(86,et,2,1,"mat-cell",38),$.Sb(),$.Tb(87,44),$.Ic(88,tt,2,0,"mat-header-cell",40),$.Ic(89,it,2,1,"mat-cell",38),$.Sb(),$.Tb(90,45),$.Ic(91,at,2,0,"mat-header-cell",40),$.Ic(92,ot,2,1,"mat-cell",38),$.Sb(),$.Tb(93,46),$.Ic(94,nt,2,0,"mat-header-cell",40),$.Ic(95,rt,2,1,"mat-cell",38),$.Sb(),$.Tb(96,47),$.Ic(97,ct,2,0,"mat-header-cell",40),$.Ic(98,lt,3,4,"mat-cell",38),$.Sb(),$.Tb(99,48),$.Ic(100,st,2,0,"mat-header-cell",40),$.Ic(101,bt,2,1,"mat-cell",38),$.Sb(),$.Tb(102,49),$.Ic(103,dt,2,0,"mat-header-cell",40),$.Ic(104,ht,2,1,"mat-cell",38),$.Sb(),$.Tb(105,50),$.Ic(106,pt,2,0,"mat-header-cell",40),$.Ic(107,ut,2,1,"mat-cell",38),$.Sb(),$.Ic(108,mt,1,0,"mat-header-row",51),$.Ic(109,ft,1,0,"mat-row",52),$.Ub(),$.Ub(),$.Ub(),$.Ub(),$.Ub(),$.Ic(110,gt,3,0,"div",53),$.Vb(111,"ngx-spinner",54),$.Vb(112,"p",55),$.Kc(113," Loading... "),$.Ub(),$.Ub()),2&e&&($.pc("hidden",!t.Page.ShowList),$.Cb(9),$.pc("expanded",t.panelOpenState),$.Cb(11),$.pc("ngModel",t.General.Filtros.RFCCliente),$.Cb(5),$.pc("ngModel",t.General.Filtros.RazonSocial),$.Cb(5),$.pc("value",0)("ngModel",t.General.Filtros.TipoOpinion),$.Cb(1),$.pc("ngForOf",t.ListaTipoOpinion),$.Cb(6),$.pc("ngModel",t.General.Filtros.FechaInicial),$.Cb(5),$.pc("ngModel",t.General.Filtros.FechaFinal),$.Cb(26),$.pc("pageSizeOptions",$.sc(15,vt)),$.Cb(2),$.pc("dataSource",t.dataSourceSolicitudes),$.Cb(38),$.pc("matHeaderRowDef",t.displayedColumns7),$.Cb(1),$.pc("matRowDefColumns",t.displayedColumns7),$.Cb(1),$.pc("ngIf",t.Page.ShowLoad),$.Cb(1),$.pc("fullScreen",!0))},directives:[B.c,B.f,B.g,r.d,r.k,r.o,r.r,r.w,r.v,o.m,g.c,f.b,K.a,y.j,z.a,y.c,y.e,y.b,y.g,y.i,o.n,N.a,r.s,r.y,y.d,y.a,z.b,o.p,o.q,y.f,y.h,pe],pipes:[o.e],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}.mat-table[_ngcontent-%COMP%]{overflow-x:scroll}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{word-wrap:normal;display:table-cell;padding:0 10px;line-break:unset;width:90%;white-space:nowrap;overflow:hidden;vertical-align:middle}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{display:table-row}.Oferta[_ngcontent-%COMP%]{font-size:11px;font-weight:400;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}"],changeDetection:0}),e})()}]}];let St=(()=>{class e{}return e.\u0275mod=$.Nb({type:e}),e.\u0275inj=$.Mb({factory:function(t){return new(t||e)},providers:[h.c,{provide:j.d,useValue:{}},{provide:j.a,useValue:{}},{provide:b.f,useValue:"en-GB"},{provide:m.a,useValue:{useUtc:!0}}],imports:[[o.c,f.c,g.e,u.c,v.b,k.d,x.b,w.g,U.b,C.c,h.b,b.m,s.b,p.b,P.c,S.d,V.b,I.g,D.b,F.b,O.b,y.l,R.b,L.b,j.c,B.b,T.b,z.c,G.d,A.e,K.b,d.f,b.u,c.a,a.c,E.d,M.c,l.a,_.a,N.b,r.j,r.u,n.l.forChild(Ct)],n.l]}),e})()}}]);