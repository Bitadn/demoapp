(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"2OAb":function(e,t,r){"use strict";r.r(t),r.d(t,"RegistroRFCModule",function(){return Le});var o=r("QibW"),i=r("ofXK"),a=r("tyNb"),n=r("3Pt+"),c=r("WsYS"),s=r("93Pz"),l=r("1jcm"),b=r("FKr1"),d=r("0IaG"),h=r("NFeN"),u=r("bSwM"),p=r("iadO"),f=r("1yaQ"),m=r("qFsG"),v=r("kmnG"),g=r("/1cH"),C=r("bTqV"),P=r("wZkO"),S=r("Qu3c"),V=r("d3UM"),U=r("Wp6s"),w=r("STbY"),x=r("bv9b"),E=r("Xa2L"),k=r("dNgK"),R=r("+0xr"),y=r("MutI"),G=r("XhcP"),I=r("5RNC"),K=r("zkoq"),D=r("jaxi"),A=r("8yBR"),F=r("M9IT"),z=r("A5z7"),M=r("xHqg"),B=r("Dh3D"),L=r("/t3+"),j=r("2ChS"),Q=r("7EHt"),N=r("f0Cb"),O=r("fXoL");let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=O.Jb({type:e,selectors:[["kt-registrorfc"]],decls:1,vars:0,template:function(e,t){1&e&&O.Qb(0,"router-outlet")},directives:[a.m],encapsulation:2,changeDetection:0}),e})();var $=r("QJFE"),W=r("JqCM"),J=r("PSD3"),H=r.n(J),_=r("+BVi"),q=r("1kSV"),X=r("5eHb"),Z=r("jhN1"),Y=r("ptnc"),ee=r("ap2d");let te=(()=>{class e{constructor(e,t){this.api=e,this.router=t,this.oDetalleProveedor={}}GetProveedores(){return this.api.get("Proveedor",{})}Post(e){return this.api.post("Proveedor",e)}Put(e){return this.api.put("Proveedor",e)}SuspenderProvedor(e){return this.api.post("proveedor/suspending",e)}EliminarAccesoProvedor(e){return this.api.post("proveedor/revoke",e)}ResetProvedor(e){return this.api.post("proveedor/reset",e)}EnviaCodigo(e){return this.api.post("proveedor/sendcode",e)}}return e.\u0275fac=function(t){return new(t||e)(O.cc(ee.a),O.cc(a.h))},e.\u0275prov=O.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),re=(()=>{class e{constructor(e,t,r,o,i,a,n,c){this.snackBar=e,this.AuthService=t,this.toastr=r,this.spinnerService=o,this.router=i,this.sanitizer=a,this.ref=n,this.ProveedorService=c,this.VistaPrincipal=new O.p,this.Page={},this.Screen={},this.General={},this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Proveedor={}}ngOnInit(){}Regresar(e){this.VistaPrincipal.emit(e)}Guardar(){null!=this.General.Proveedor.RFC&&""!=this.General.Proveedor.RFC?this.General.Proveedor.RFC.length>13?this.toastr.error("El RFC no es correcto"):null!=this.General.Proveedor.NombreCliente&&""!=this.General.Proveedor.NombreCliente?(this.spinnerService.show(),this.ProveedorService.Post(this.General.Proveedor).subscribe(e=>{this.toastr.success("La informaci\xf3n se guard\xf3 correctamente"),this.spinnerService.hide(),this.Regresar(!0)},e=>{this.handleError(e)})):this.toastr.error("El nombre o raz\xf3n social no puede estar vac\xedo."):this.toastr.error("El RFC no puede estar vacio.")}handleError(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}openSnackBar(e,t){this.snackBar.open(e,t,{duration:2e3})}}return e.\u0275fac=function(t){return new(t||e)(O.Pb(k.a),O.Pb(_.a),O.Pb(X.b),O.Pb(W.c),O.Pb(a.h),O.Pb(Z.b),O.Pb(O.i),O.Pb(te))},e.\u0275cmp=O.Jb({type:e,selectors:[["kt-altarfc"]],outputs:{VistaPrincipal:"VistaPrincipal"},decls:37,vars:3,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[1,"row"],[1,"col-md-10"],[2,"color","#7AB800 !important"],[1,"fa","fa-list"],[1,"col-md-12"],[1,"col-md-3"],[1,"form-group"],["type","text","maxlength","13","aria-describedby","helpSuscriptor","placeholder","",1,"form-control","form-control-sm","text-uppercase",3,"ngModel","ngModelChange"],[1,"col-md-6"],["type","text","maxlength","100","aria-describedby","helpServicio","placeholder","",1,"form-control","form-control-sm","text-uppercase",3,"ngModel","ngModelChange"],[1,"card-footer",2,"border-top","0px","padding","0px"],[1,"btn","btn-light","btn-text-success","btn-hover-text-success","font-weight-bold",3,"click"],[1,"fa","fa-save"],[1,"btn","btn-light","btn-text-dark","btn-hover-text-dark","font-weight-bold",2,"margin-left","5px",3,"click"],[1,"fa","fa-times"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"]],template:function(e,t){1&e&&(O.Vb(0,"div",0),O.Vb(1,"div",1),O.Vb(2,"div",2),O.Vb(3,"h2",3),O.Qb(4,"i",4),O.Kc(5," Registro de Acceso a Nuevo Proveedor"),O.Ub(),O.Ub(),O.Ub(),O.Vb(6,"div",5),O.Vb(7,"div",6),O.Vb(8,"div",7),O.Vb(9,"h5",8),O.Qb(10,"i",9),O.Kc(11," Datos de Proveedor"),O.Ub(),O.Ub(),O.Vb(12,"div",10),O.Qb(13,"hr"),O.Ub(),O.Ub(),O.Vb(14,"div",6),O.Vb(15,"div",11),O.Vb(16,"div",12),O.Vb(17,"label"),O.Kc(18,"*RFC"),O.Ub(),O.Vb(19,"input",13),O.fc("ngModelChange",function(e){return t.General.Proveedor.RFC=e}),O.Ub(),O.Ub(),O.Ub(),O.Vb(20,"div",14),O.Vb(21,"div",12),O.Vb(22,"label"),O.Kc(23,"*Nombre o Razon Social"),O.Ub(),O.Vb(24,"input",15),O.fc("ngModelChange",function(e){return t.General.Proveedor.NombreCliente=e}),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Vb(25,"div",16),O.Qb(26,"br"),O.Vb(27,"div",11),O.Vb(28,"button",17),O.fc("click",function(){return t.Guardar()}),O.Qb(29,"i",18),O.Kc(30," Guardar"),O.Ub(),O.Vb(31,"button",19),O.fc("click",function(){return t.Regresar(!0)}),O.Qb(32,"i",20),O.Kc(33," Cancelar"),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Vb(34,"ngx-spinner",21),O.Vb(35,"p",22),O.Kc(36," Loading... "),O.Ub(),O.Ub()),2&e&&(O.Cb(19),O.pc("ngModel",t.General.Proveedor.RFC),O.Cb(5),O.pc("ngModel",t.General.Proveedor.NombreCliente),O.Cb(10),O.pc("fullScreen",!0))},directives:[n.d,n.k,n.o,n.r,W.a],styles:[""],changeDetection:0}),e})(),oe=(()=>{class e{constructor(e,t,r,o,i,a,n,c,s){this.snackBar=e,this.AuthService=t,this.modalService=r,this.toastr=o,this.spinnerService=i,this.router=a,this.sanitizer=n,this.ref=c,this.ProveedorService=s,this.VistaPrincipal=new O.p,this.Page={},this.Screen={},this.General={},this.modalReference=null,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Proveedor={}}ngOnInit(){Object.keys(this.ProveedorService.oDetalleProveedor).length>0&&(this.General.Proveedor=this.ProveedorService.oDetalleProveedor)}Regresar(e){this.VistaPrincipal.emit(e)}Cancelar(){this.Page.ShowList=!0,this.Page.ShowAdd=!1,this.Page.ShowEdit=!1}Guardar(){null!=this.General.Proveedor.NombreCliente&&""!=this.General.Proveedor.NombreCliente?null!=this.General.Proveedor.RFC&&""!=this.General.Proveedor.RFC?this.ProveedorService.Put(this.General.Proveedor).subscribe(e=>{this.toastr.success("La informaci\xf3n se actualiz\xf3 correctamente"),this.Regresar(!0)},e=>{this.handleError(e)}):this.toastr.error("El RFC no puede estar vacio."):this.toastr.error("El nombre o raz\xf3n social no puede estar vacio.")}handleError(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}openSnackBar(e,t){this.snackBar.open(e,t,{duration:2e3})}}return e.\u0275fac=function(t){return new(t||e)(O.Pb(k.a),O.Pb(_.a),O.Pb(q.y),O.Pb(X.b),O.Pb(W.c),O.Pb(a.h),O.Pb(Z.b),O.Pb(O.i),O.Pb(te))},e.\u0275cmp=O.Jb({type:e,selectors:[["kt-editrfc"]],outputs:{VistaPrincipal:"VistaPrincipal"},decls:37,vars:3,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-user"],[1,"card-body"],[1,"row"],[1,"col-md-10"],[2,"color","#7AB800 !important"],[1,"fa","fa-list"],[1,"col-md-12"],[1,"col-md-3"],[1,"form-group"],[1,"form-control","form-control-sm",2,"background-color","#f3f6f9"],[1,"col-md-6"],["type","text","maxlength","100","aria-describedby","helpServicio","placeholder","",1,"form-control","form-control-sm","text-uppercase",3,"ngModel","ngModelChange"],[1,"card-footer",2,"border-top","0px","padding","0px"],[1,"col-md-5"],[1,"btn","btn-light","btn-text-success","btn-hover-text-success","font-weight-bold",3,"click"],[1,"fa","fa-save"],[1,"btn","btn-light","btn-text-dark","btn-hover-text-dark","font-weight-bold",2,"margin-left","5px",3,"click"],[1,"fa","fa-times"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"]],template:function(e,t){1&e&&(O.Vb(0,"div",0),O.Vb(1,"div",1),O.Vb(2,"div",2),O.Vb(3,"h2",3),O.Qb(4,"i",4),O.Kc(5," Editar Informaci\xf3n del Proveedor"),O.Ub(),O.Ub(),O.Ub(),O.Vb(6,"div",5),O.Vb(7,"div",6),O.Vb(8,"div",7),O.Vb(9,"h5",8),O.Qb(10,"i",9),O.Kc(11," Datos de Proveedor"),O.Ub(),O.Ub(),O.Vb(12,"div",10),O.Qb(13,"hr"),O.Ub(),O.Ub(),O.Vb(14,"div",6),O.Vb(15,"div",11),O.Vb(16,"div",12),O.Vb(17,"label"),O.Kc(18,"RFC"),O.Ub(),O.Vb(19,"label",13),O.Kc(20),O.Ub(),O.Ub(),O.Ub(),O.Vb(21,"div",14),O.Vb(22,"div",12),O.Vb(23,"label"),O.Kc(24,"Nombre o Razon Social"),O.Ub(),O.Vb(25,"input",15),O.fc("ngModelChange",function(e){return t.General.Proveedor.NombreCliente=e}),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Vb(26,"div",16),O.Vb(27,"div",17),O.Vb(28,"button",18),O.fc("click",function(){return t.Guardar()}),O.Qb(29,"i",19),O.Kc(30," Guardar"),O.Ub(),O.Vb(31,"button",20),O.fc("click",function(){return t.Regresar(!0)}),O.Qb(32,"i",21),O.Kc(33," Cancelar"),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Vb(34,"ngx-spinner",22),O.Vb(35,"p",23),O.Kc(36," Loading... "),O.Ub(),O.Ub()),2&e&&(O.Cb(20),O.Lc(t.General.Proveedor.RFC),O.Cb(5),O.pc("ngModel",t.General.Proveedor.NombreCliente),O.Cb(9),O.pc("fullScreen",!0))},directives:[n.d,n.k,n.o,n.r,W.a],styles:[""],changeDetection:0}),e})();const ie=["sharecmpAdd"],ae=["sharecmpEdit"],ne=["popCCliente"],ce=["matPaginator7"],se=["sort7"];function le(e,t){if(1&e){const e=O.Wb();O.Vb(0,"button",38),O.fc("click",function(){return O.zc(e),O.jc().ShowLoad()}),O.Qb(1,"i",39),O.Kc(2," Nuevo "),O.Ub()}}function be(e,t){1&e&&(O.Vb(0,"mat-header-cell",40),O.Kc(1,"RFC"),O.Ub())}function de(e,t){if(1&e&&(O.Vb(0,"mat-cell"),O.Kc(1),O.Ub()),2&e){const e=t.$implicit;O.Cb(1),O.Mc(" ",e.RFC," ")}}function he(e,t){1&e&&(O.Vb(0,"mat-header-cell",40),O.Kc(1," Usuario Registrado "),O.Ub())}function ue(e,t){if(1&e&&(O.Vb(0,"mat-cell"),O.Kc(1),O.Ub()),2&e){const e=t.$implicit;O.Cb(1),O.Mc(" ",e.Usuario," ")}}function pe(e,t){1&e&&(O.Vb(0,"mat-header-cell",40),O.Kc(1," Cliente "),O.Ub())}function fe(e,t){if(1&e&&(O.Vb(0,"mat-cell"),O.Kc(1),O.Ub()),2&e){const e=t.$implicit;O.Cb(1),O.Mc(" ",e.NombreCliente," ")}}function me(e,t){1&e&&(O.Vb(0,"mat-header-cell",40),O.Kc(1," Alta "),O.Ub())}function ve(e,t){if(1&e&&(O.Vb(0,"div"),O.Vb(1,"span",43),O.Kc(2),O.Ub(),O.Ub()),2&e){const e=O.jc().$implicit;O.Cb(2),O.Mc(" ",e.Alta,"")}}function ge(e,t){if(1&e&&(O.Vb(0,"div"),O.Vb(1,"span",44),O.Kc(2),O.Ub(),O.Ub()),2&e){const e=O.jc().$implicit;O.Cb(2),O.Mc(" ",e.Alta,"")}}function Ce(e,t){if(1&e&&(O.Vb(0,"mat-cell"),O.Vb(1,"div",41),O.Ic(2,ve,3,1,"div",42),O.Ic(3,ge,3,1,"div",42),O.Ub(),O.Ub()),2&e){const e=t.$implicit;O.Cb(1),O.pc("ngSwitch",e.Alta),O.Cb(1),O.pc("ngSwitchCase","Pendiente"),O.Cb(1),O.pc("ngSwitchCase","Finalizado")}}function Pe(e,t){1&e&&(O.Vb(0,"mat-header-cell",40),O.Kc(1," Estatus "),O.Ub())}function Se(e,t){if(1&e&&(O.Vb(0,"div"),O.Vb(1,"span",45),O.Kc(2),O.Ub(),O.Ub()),2&e){const e=O.jc().$implicit;O.Cb(2),O.Mc(" ",e.Estatus,"")}}function Ve(e,t){if(1&e&&(O.Vb(0,"div"),O.Vb(1,"span",46),O.Kc(2),O.Ub(),O.Ub()),2&e){const e=O.jc().$implicit;O.Cb(2),O.Mc(" ",e.Estatus,"")}}function Ue(e,t){if(1&e&&(O.Vb(0,"div"),O.Vb(1,"span",47),O.Kc(2),O.Ub(),O.Ub()),2&e){const e=O.jc().$implicit;O.Cb(2),O.Mc(" ",e.Estatus,"")}}function we(e,t){if(1&e&&(O.Vb(0,"mat-cell"),O.Vb(1,"div",41),O.Ic(2,Se,3,1,"div",42),O.Ic(3,Ve,3,1,"div",42),O.Ic(4,Ue,3,1,"div",42),O.Ub(),O.Ub()),2&e){const e=t.$implicit;O.Cb(1),O.pc("ngSwitch",e.Estatus),O.Cb(1),O.pc("ngSwitchCase","Suspendido"),O.Cb(1),O.pc("ngSwitchCase","Activo"),O.Cb(1),O.pc("ngSwitchCase","CambioPassword")}}function xe(e,t){1&e&&(O.Vb(0,"mat-header-cell",40),O.Kc(1," C\xf3digo Acceso "),O.Ub())}function Ee(e,t){if(1&e){const e=O.Wb();O.Vb(0,"mat-cell"),O.Vb(1,"span",48),O.fc("click",function(){O.zc(e);const r=t.$implicit;return O.jc().ShowEnviaCorreo(r)}),O.Kc(2),O.Ub(),O.Ub()}if(2&e){const e=t.$implicit;O.Cb(2),O.Mc(" ",e.Code," ")}}function ke(e,t){1&e&&(O.Vb(0,"mat-header-cell"),O.Kc(1," Actions "),O.Ub())}function Re(e,t){if(1&e){const e=O.Wb();O.Vb(0,"button",54),O.fc("click",function(){O.zc(e);const t=O.jc().$implicit;return O.jc().ShowEdit(t)}),O.Qb(1,"i",55),O.Ub()}}function ye(e,t){if(1&e){const e=O.Wb();O.Vb(0,"button",56),O.fc("click",function(){O.zc(e);const t=O.jc().$implicit;return O.jc().Suspender(t)}),O.Qb(1,"i",57),O.Ub()}}function Ge(e,t){if(1&e){const e=O.Wb();O.Vb(0,"button",58),O.fc("click",function(){O.zc(e);const t=O.jc().$implicit;return O.jc().Eliminar(t)}),O.Qb(1,"i",59),O.Ub()}}function Ie(e,t){if(1&e){const e=O.Wb();O.Vb(0,"mat-cell"),O.Ic(1,Re,2,0,"button",49),O.Kc(2," \xa0 "),O.Ic(3,ye,2,0,"button",50),O.Kc(4," \xa0 "),O.Ic(5,Ge,2,0,"button",51),O.Kc(6," \xa0 "),O.Vb(7,"button",52),O.fc("click",function(){O.zc(e);const r=t.$implicit;return O.jc().ResetPWD(r)}),O.Qb(8,"i",53),O.Ub(),O.Kc(9," \xa0 "),O.Ub()}if(2&e){const e=O.jc();O.Cb(1),O.pc("ngIf",e.Screen.Put),O.Cb(2),O.pc("ngIf",e.Screen.Reactive),O.Cb(2),O.pc("ngIf",e.Screen.Delete)}}function Ke(e,t){1&e&&O.Qb(0,"mat-header-row")}function De(e,t){1&e&&O.Qb(0,"mat-row")}function Ae(e,t){if(1&e){const e=O.Wb();O.Vb(0,"div"),O.Vb(1,"kt-altarfc",60,61),O.fc("VistaPrincipal",function(t){return O.zc(e),O.jc().ShowVistaPrincipal(t)}),O.Ub(),O.Ub()}}function Fe(e,t){if(1&e){const e=O.Wb();O.Vb(0,"div"),O.Vb(1,"kt-editrfc",60,62),O.fc("VistaPrincipal",function(t){return O.zc(e),O.jc().ShowVistaPrincipal(t)}),O.Ub(),O.Ub()}}function ze(e,t){if(1&e){const e=O.Wb();O.Vb(0,"div",63),O.Vb(1,"h4",64),O.Vb(2,"span",65),O.Kc(3," Enviar c\xf3digo de validaci\xf3n"),O.Ub(),O.Ub(),O.Vb(4,"button",66),O.fc("click",function(){return(0,t.dismiss)("Cross click")}),O.Vb(5,"span",67),O.Kc(6,"\xd7"),O.Ub(),O.Ub(),O.Ub(),O.Vb(7,"div",68),O.Vb(8,"div",14),O.Vb(9,"div",69),O.Vb(10,"div",70),O.Vb(11,"div",71),O.Vb(12,"div",72),O.Vb(13,"label"),O.Kc(14,"*Email (proveedor)"),O.Ub(),O.Vb(15,"input",73),O.fc("focusout",function(t){return O.zc(e),O.jc().VerificaEmail(t.target.value)})("ngModelChange",function(t){return O.zc(e),O.jc().General.Proveedor.Email=t}),O.Ub(),O.Ub(),O.Ub(),O.Vb(16,"div",71),O.Vb(17,"div",72),O.Vb(18,"label"),O.Kc(19,"*Confirmar Email"),O.Ub(),O.Vb(20,"input",74),O.fc("ngModelChange",function(t){return O.zc(e),O.jc().General.Proveedor.EmailConfirma=t}),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Vb(21,"div",69),O.Vb(22,"span",75),O.Kc(23,"Se enviar\xe1 \xe9ste c\xf3digo de validaci\xf3n al correo elegido. Es importante que su proveedor cuente con esta informaci\xf3n para poder concluir su registro."),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Vb(24,"div",14),O.Qb(25,"div",69),O.Ub(),O.Ub(),O.Vb(26,"div",76),O.Vb(27,"button",77),O.fc("click",function(){return O.zc(e),O.jc().EnviarCorreo()}),O.Kc(28,"Enviar"),O.Ub(),O.Vb(29,"button",78),O.fc("click",function(){return(0,t.close)("Close click")}),O.Kc(30,"Cerrar"),O.Ub(),O.Ub()}if(2&e){const e=O.jc();O.Cb(15),O.pc("ngModel",e.General.Proveedor.Email),O.Cb(5),O.pc("ngModel",e.General.Proveedor.EmailConfirma)}}const Me=function(){return[25,50,75,100]},Be=[{path:"",component:T,children:[{path:"generales/registrorfc",component:(()=>{class e{constructor(e,t,r,o,i,a,n,c,s,l){this.snackBar=e,this.AuthService=t,this.modalService=r,this.toastr=o,this.spinnerService=i,this.router=a,this.sanitizer=n,this.ScreenActionsService=c,this.ref=s,this.ProveedorService=l,this.Page={},this.Screen={},this.General={},this.modalReference=null,this.displayedColumns7=["RFC","Usuario","NombreCliente","Alta","Estatus","Code","actions"],this.Page.ShowAdd=!1,this.Page.ShowRechazo=!1,this.Page.ShowEdit=!1,this.Page.ShowList=!1,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Proveedor={},this.General.Contadores={}}ngOnInit(){this.ScreenActionsService.PromiseAcciones(this.Page.Controller).then(e=>{this.Screen=e,0!=Object.keys(this.Screen).length&&this.Screen.Get?(this.ref.markForCheck(),this.CargaDatos()):(this.toastr.error("Si intenta acceder a una opci\xf3n no permitida su cuenta ser\xe1 suspendida"),this.router.navigate(["dashboard"]))},e=>{this.handleError(e)})}CargaDatos(){this.Page.ShowList=!0,this.spinnerService.show(),this.dataSourceProveedores=new R.k([]),this.ProveedorService.GetProveedores().subscribe(e=>{let t={};t=e,t.Result.length>0&&(this.dataSourceProveedores=new R.k(t.Result),this.dataSourceProveedores.paginator=this.paginator7,this.dataSourceProveedores.sort=this.sort7),null!=t.Counters&&t.Counters.length>0&&(this.General.Contadores=t.Counters[0]),this.spinnerService.hide(),this.ref.markForCheck()},e=>{this.handleError(e)})}ShowLoad(){this.Page.ShowAdd=!0,this.Page.ShowList=!1}ShowVistaPrincipal(e){this.Page.ShowAdd=!1,this.Page.ShowEdit=!1,this.Page.ShowList=e,this.CargaDatos()}ShowEdit(e){this.ProveedorService.oDetalleProveedor=e,this.Page.ShowAdd=!1,this.Page.ShowEdit=!0,this.Page.ShowList=!1}Suspender(e){"Activo"==e.Estatus?H.a.fire({title:"Confirmaci\xf3n",text:"Desea suspender el acceso al usuario: "+e.RFC,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Suspender",cancelButtonText:"Cancelar"}).then(t=>{t.value&&this.GuardarSuspender(e)}):H.a.fire({title:"Confirmaci\xf3n",text:"Desea reactivar al usuario: "+e.RFC,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Reactivar",cancelButtonText:"Cancelar"}).then(t=>{t.value&&this.GuardarReactivar(e)})}GuardarSuspender(e){let t={};t.RFC=e.RFC,t.Reference=e.Reference,t.Status=2,this.spinnerService.show(),this.ProveedorService.SuspenderProvedor(t).subscribe(e=>{this.spinnerService.hide(),this.ref.markForCheck(),this.CargaDatos(),1==e.Valid?this.toastr.success("La acci\xf3n se realiz\xf3 correctamente"):this.toastr.error("ocurri\xf3 un error al realizar la tarea")},e=>{this.handleError(e)})}GuardarReactivar(e){let t={};t.RFC=e.RFC,t.Reference=e.Reference,t.Status=1,this.spinnerService.show(),this.ProveedorService.SuspenderProvedor(t).subscribe(e=>{this.spinnerService.hide(),this.ref.markForCheck(),this.CargaDatos(),1==e.Valid?this.toastr.success("La acci\xf3n se realiz\xf3 correctamente"):this.toastr.error("ocurri\xf3 un error al realizar la tarea")},e=>{this.handleError(e)})}Eliminar(e){H.a.fire({title:"Confirmaci\xf3n",text:"Desea eliminar definitivamente el acceso al usuario: "+e.RFC+". Al realizar esta accion el usuario ya no tendra acceso al sistema ni a subir documentos. Esta acci\xf3n es irreversible",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then(t=>{t.value&&this.GuardarEliminar(e)})}GuardarEliminar(e){let t={};t.Reference=e.Reference,t.RFC=e.RFC,t.Usuario=e.Usuario,this.ProveedorService.EliminarAccesoProvedor(t).subscribe(e=>{this.spinnerService.hide(),this.ref.markForCheck(),this.CargaDatos(),1==e.Valid?this.toastr.success("La acci\xf3n se realiz\xf3 correctamente"):this.toastr.error("ocurri\xf3 un error al realizar la tarea, intente m\xe1s tarde")},e=>{this.handleError(e)})}ResetPWD(e){H.a.fire({title:"Confirmaci\xf3n",text:"Desea reestablecer la contrase\xf1a del usuario: "+e.RFC+". Al realizar esta accion se enviar\xe1 una contrase\xf1a temporal al correo del usuario con vigencia de 15 minutos",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Aceptar",cancelButtonText:"Cancelar"}).then(t=>{t.value&&this.GuardarResetearUsuario(e)})}GuardarResetearUsuario(e){let t={};t.Reference=e.Reference,t.RFC=e.RFC,t.Usuario=e.Usuario,this.spinnerService.show(),this.ProveedorService.ResetProvedor(t).subscribe(e=>{this.spinnerService.hide(),this.ref.markForCheck(),this.CargaDatos(),1==e.Valid?this.toastr.success("La acci\xf3n se realiz\xf3 correctamente. Email Enviado"):this.toastr.error("ocurri\xf3 un error al realizar la tarea, intente m\xe1s tarde")},e=>{this.handleError(e)})}ShowEnviaCorreo(e){this.General.Code={},this.General.Code.Reference=e.Reference,this.General.Code.RFC=e.RFC,this.modalReference=this.modalService.open(this.popUp,{size:"lg"})}EnviarCorreo(){this.spinnerService.show(),this.validateEmail(this.General.Proveedor.Email)?this.General.Proveedor.Email==this.General.Proveedor.EmailConfirma?(this.General.Code.Email=this.General.Proveedor.Email,this.ProveedorService.EnviaCodigo(this.General.Code).subscribe(e=>{1==e.Valid?(this.toastr.success("La acci\xf3n se realiz\xf3 correctamente. Email Enviado"),this.modalReference.close(),this.spinnerService.hide()):(this.toastr.error("ocurri\xf3 un error al realizar la tarea, intente m\xe1s tarde"),this.spinnerService.hide())},e=>{this.handleError(e)})):this.toastr.error("Los correos no coinciden, favor de revisar"):this.toastr.error("El correo proporcionado no es v\xe1lido, favor de revisar")}validateEmail(e){const t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e),t.test(e)}VerificaEmail(e){e&&(this.validateEmail(e)||(this.toastr.error("Email incorrecto, favor de verificar"),this.General.Proveedor.Email=""))}applyFilter7(e){this.dataSourceProveedores.filter=e.trim().toLowerCase(),this.dataSourceProveedores.paginator&&this.dataSourceProveedores.paginator.firstPage()}handleError(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}openSnackBar(e,t){this.snackBar.open(e,t,{duration:2e3})}}return e.\u0275fac=function(t){return new(t||e)(O.Pb(k.a),O.Pb(_.a),O.Pb(q.y),O.Pb(X.b),O.Pb(W.c),O.Pb(a.h),O.Pb(Z.b),O.Pb(Y.a),O.Pb(O.i),O.Pb(te))},e.\u0275cmp=O.Jb({type:e,selectors:[["kt-bandejarfcs"]],viewQuery:function(e,t){if(1&e&&(O.Ec(ie,!0),O.Ec(ae,!0),O.Ec(ne,!0),O.Ec(ce,!0),O.Ec(se,!0)),2&e){let e;O.wc(e=O.gc())&&(t.sharecmpAdd=e.first),O.wc(e=O.gc())&&(t.sharecmpEdit=e.first),O.wc(e=O.gc())&&(t.popUp=e.first),O.wc(e=O.gc())&&(t.paginator7=e.first),O.wc(e=O.gc())&&(t.sort7=e.first)}},decls:71,vars:14,consts:[[1,"row",3,"hidden"],[1,"col-xs-12","col-md-12"],[1,"table","table-head-custom","table-head-bg","table-borderless","table-vertical-center",2,"width","100%"],[1,"text-left","text-uppercase"],[1,"pl-7"],[1,"text-dark-75"],[1,"card","card-custom",3,"hidden"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[1,"col-xs-12","col-md-2"],["type","button","style","color: #7AB800 !important","class","btn btn-outline-secondary",3,"click",4,"ngIf"],[1,"row"],[1,"col-xs-12","col-md-12",2,"flex","0 0 0% !important"],[1,"example-header"],["matInput","","placeholder","Buscar",3,"keyup"],[3,"pageSizeOptions"],["matPaginator7",""],["matSort","",3,"dataSource"],["sort7","matSort"],["matColumnDef","RFC"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Usuario"],["matColumnDef","NombreCliente"],["matColumnDef","Alta"],["matColumnDef","Estatus"],["matColumnDef","Code"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],["popCCliente",""],["type","button",1,"btn","btn-outline-secondary",2,"color","#7AB800 !important",3,"click"],[1,"fas","fa-plus-circle"],["mat-sort-header",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["data-toggle","tooltip","title","Proveedor aun no concluye su registro",1,"label","font-weight-bold","label-lg","label-light-warning","label-inline"],["data-toggle","tooltip","title","Registro concluido",1,"label","font-weight-bold","label-lg","label-light-success","label-inline"],["data-toggle","tooltip","title","Proveedor suspendido",1,"label","font-weight-bold","label-lg","label-light-danger","label-inline"],["data-toggle","tooltip","title","Proveedor activo",1,"label","font-weight-bold","label-lg","label-light-success","label-inline"],["data-toggle","tooltip","title","Solicito reseteo de contrase\xf1a",1,"label","font-weight-bold","label-lg","label-light-warning","label-inline"],["data-toggle","tooltip","title","Enviar c\xf3digo por correo electr\xf3nico ",2,"color","#3699FF","text-decoration","underline","cursor","pointer",3,"click"],["style","width:40px !important;","type","button","data-toggle","tooltip","title","Editar informaci\xf3n","class","btn btn-xs btn-default btn-text-default btn-hover-primary btn-icon",3,"click",4,"ngIf"],["style","width:40px !important;","type","button","data-toggle","tooltip","title","Activar o Desactivar Proveedor","class","btn btn-xs btn-default btn-text-default btn-hover-danger btn-icon",3,"click",4,"ngIf"],["style","width:40px !important;","type","button","data-toggle","tooltip","title","Eliminar definitivamente","class","btn btn-xs btn-default btn-text-default btn-hover-danger btn-icon",3,"click",4,"ngIf"],["type","button","data-toggle","tooltip","title","Resetear Password de proveedor",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-danger","btn-icon",2,"width","40px !important",3,"click"],[1,"fa","fa-unlock"],["type","button","data-toggle","tooltip","title","Editar informaci\xf3n",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-primary","btn-icon",2,"width","40px !important",3,"click"],[1,"fa","fa-edit"],["type","button","data-toggle","tooltip","title","Activar o Desactivar Proveedor",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-danger","btn-icon",2,"width","40px !important",3,"click"],[1,"far","fa-eye-slash"],["type","button","data-toggle","tooltip","title","Eliminar definitivamente",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-danger","btn-icon",2,"width","40px !important",3,"click"],[1,"far","fa-trash-alt"],[3,"VistaPrincipal"],["sharecmpAdd",""],["sharecmpEdit",""],[1,"modal-header"],[1,"modal-title"],[1,"text-muted"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12"],[1,"form-group",2,"overflow-y","scroll","max-height","500px"],[1,"col-md-6"],[1,"form-group"],["type","text","maxlength","50","aria-describedby","helpSuscriptor","placeholder","",1,"form-control","form-control-sm","text-lowercase",3,"ngModel","focusout","ngModelChange"],["type","text","maxlength","50","aria-describedby","helpServicio","placeholder","",1,"form-control","form-control-sm","text-lowercase",3,"ngModel","ngModelChange"],[1,"text"],[1,"modal-footer"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(e,t){1&e&&(O.Vb(0,"div",0),O.Vb(1,"div",1),O.Vb(2,"table",2),O.Vb(3,"thead"),O.Vb(4,"tr",3),O.Vb(5,"th",4),O.Vb(6,"span",5),O.Kc(7,"Altas Disponibles"),O.Ub(),O.Ub(),O.Vb(8,"th"),O.Kc(9),O.Ub(),O.Vb(10,"th"),O.Vb(11,"span",5),O.Kc(12,"Proveedores Registrados"),O.Ub(),O.Ub(),O.Vb(13,"th"),O.Kc(14),O.Ub(),O.Vb(15,"th"),O.Vb(16,"span",5),O.Kc(17,"Total Registros Permitidos"),O.Ub(),O.Ub(),O.Vb(18,"th"),O.Kc(19),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Vb(20,"div",6),O.Vb(21,"div",7),O.Vb(22,"div",8),O.Vb(23,"h2",9),O.Qb(24,"i",10),O.Kc(25," Registro de Proveedores"),O.Ub(),O.Ub(),O.Ub(),O.Vb(26,"div",11),O.Vb(27,"div",12),O.Ic(28,le,3,0,"button",13),O.Ub(),O.Vb(29,"div",14),O.Vb(30,"div",15),O.Qb(31,"br"),O.Vb(32,"div",16),O.Vb(33,"mat-form-field"),O.Vb(34,"input",17),O.fc("keyup",function(e){return t.applyFilter7(e.target.value)}),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Vb(35,"div",1),O.Qb(36,"mat-paginator",18,19),O.Vb(38,"mat-table",20,21),O.Tb(40,22),O.Ic(41,be,2,0,"mat-header-cell",23),O.Ic(42,de,2,1,"mat-cell",24),O.Sb(),O.Tb(43,25),O.Ic(44,he,2,0,"mat-header-cell",23),O.Ic(45,ue,2,1,"mat-cell",24),O.Sb(),O.Tb(46,26),O.Ic(47,pe,2,0,"mat-header-cell",23),O.Ic(48,fe,2,1,"mat-cell",24),O.Sb(),O.Tb(49,27),O.Ic(50,me,2,0,"mat-header-cell",23),O.Ic(51,Ce,4,3,"mat-cell",24),O.Sb(),O.Tb(52,28),O.Ic(53,Pe,2,0,"mat-header-cell",23),O.Ic(54,we,5,4,"mat-cell",24),O.Sb(),O.Tb(55,29),O.Ic(56,xe,2,0,"mat-header-cell",23),O.Ic(57,Ee,3,1,"mat-cell",24),O.Sb(),O.Tb(58,30),O.Ic(59,ke,2,0,"mat-header-cell",31),O.Ic(60,Ie,10,3,"mat-cell",24),O.Sb(),O.Ic(61,Ke,1,0,"mat-header-row",32),O.Ic(62,De,1,0,"mat-row",33),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ic(63,Ae,3,0,"div",34),O.Ic(64,Fe,3,0,"div",34),O.Vb(65,"ngx-spinner",35),O.Vb(66,"p",36),O.Kc(67," Loading... "),O.Ub(),O.Ub(),O.Vb(68,"div"),O.Ic(69,ze,31,2,"ng-template",null,37,O.Jc),O.Ub()),2&e&&(O.pc("hidden",!t.Page.ShowList),O.Cb(9),O.Lc(t.General.Contadores.Permitidos),O.Cb(5),O.Lc(t.General.Contadores.ProvedoresRegistrados),O.Cb(5),O.Lc(t.General.Contadores.NumeroProvedores),O.Cb(1),O.pc("hidden",!t.Page.ShowList),O.Cb(8),O.pc("ngIf",t.Screen.Post),O.Cb(8),O.pc("pageSizeOptions",O.sc(13,Me)),O.Cb(2),O.pc("dataSource",t.dataSourceProveedores),O.Cb(23),O.pc("matHeaderRowDef",t.displayedColumns7),O.Cb(1),O.pc("matRowDefColumns",t.displayedColumns7),O.Cb(1),O.pc("ngIf",t.Page.ShowAdd),O.Cb(1),O.pc("ngIf",t.Page.ShowEdit),O.Cb(1),O.pc("fullScreen",!0))},directives:[i.n,v.c,m.b,F.a,R.j,B.a,R.c,R.e,R.b,R.g,R.i,W.a,R.d,B.b,R.a,i.p,i.q,R.f,R.h,re,oe,n.d,n.k,n.o,n.r],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}.mat-table[_ngcontent-%COMP%]{overflow-x:scroll}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{word-wrap:normal;display:table-cell;padding:0 10px;line-break:unset;width:90%;white-space:nowrap;overflow:hidden;vertical-align:middle}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{display:table-row}"],changeDetection:0}),e})()}]}];let Le=(()=>{class e{}return e.\u0275mod=O.Nb({type:e}),e.\u0275inj=O.Mb({factory:function(t){return new(t||e)},providers:[h.c,{provide:j.d,useValue:{}},{provide:j.a,useValue:{}},{provide:b.f,useValue:"en-GB"},{provide:f.a,useValue:{useUtc:!0}}],imports:[[i.c,m.c,v.e,p.c,g.b,y.d,I.b,U.g,V.b,C.c,h.b,b.m,l.b,u.b,w.c,P.d,S.b,G.g,x.b,E.b,k.b,R.l,K.b,L.b,j.c,Q.b,N.b,B.c,M.d,z.e,F.b,d.f,b.u,c.a,o.c,A.d,D.c,s.a,$.a,W.b,n.j,n.u,a.l.forChild(Be)],a.l]}),e})()},ptnc:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var o=r("fXoL"),i=r("ap2d"),a=r("tyNb");let n=(()=>{class e{constructor(e,t){this.api=e,this.router=t}Promise_GetById(e){return this.api.getByIdToPromise("pantalla/Actions",e)}PromiseAcciones(e){return this.api.getByIdGateWayToPromise(e)}}return e.\u0275fac=function(t){return new(t||e)(o.cc(i.a),o.cc(a.h))},e.\u0275prov=o.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);