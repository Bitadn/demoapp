(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{MinF:function(e,t,i){"use strict";i.r(t),i.d(t,"OpinionCumplimientoModule",function(){return vt});var a=i("QibW"),o=i("ofXK"),r=i("tyNb"),n=i("3Pt+"),c=i("WsYS"),s=i("93Pz"),l=i("1jcm"),b=i("FKr1"),d=i("0IaG"),h=i("NFeN"),p=i("bSwM"),u=i("iadO"),m=i("1yaQ"),f=i("qFsG"),g=i("kmnG"),v=i("/1cH"),C=i("bTqV"),S=i("wZkO"),U=i("Qu3c"),V=i("d3UM"),w=i("Wp6s"),P=i("STbY"),y=i("bv9b"),D=i("Xa2L"),O=i("dNgK"),F=i("+0xr"),k=i("MutI"),I=i("XhcP"),x=i("5RNC"),R=i("zkoq"),E=i("jaxi"),M=i("8yBR"),K=i("M9IT"),A=i("A5z7"),G=i("xHqg"),z=i("Dh3D"),L=i("/t3+"),j=i("2ChS"),B=i("7EHt"),Q=i("f0Cb"),T=i("fXoL");let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=T.Jb({type:e,selectors:[["kt-opinioncumplimiento"]],decls:1,vars:0,template:function(e,t){1&e&&T.Qb(0,"router-outlet")},directives:[r.m],encapsulation:2,changeDetection:0}),e})();var N=i("QJFE"),_=i("JqCM"),J=i("+BVi"),H=i("1kSV"),W=i("5eHb"),q=i("jhN1"),X=i("ptnc"),Y=i("LIxy"),Z=i("ap2d");let ee=(()=>{class e{constructor(e,t){this.api=e,this.router=t,this.oDetalleCliente={}}GetDetalleOpinionCumplimiento(){return this.api.get("validator/client",{})}GetCliente(e){return this.api.post("validator/client",e)}GetOpinionPreveedor(e){return this.api.post("OpinionCumplimiento/list",e)}ProcesaArchivoPDF(e){return this.api.post("OpinionCumplimiento",e).toPromise()}GetRevisionOpiniones(){return this.api.get("RevisionOpinion",{})}AplicaFiltros(e){return this.api.post("RevisionOpinion/Filter",e)}}return e.\u0275fac=function(t){return new(t||e)(T.cc(Z.a),T.cc(r.h))},e.\u0275prov=T.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var te=i("tk/3"),ie=i("AytR"),ae=i("lJxs");let oe=(()=>{class e{constructor(e){this.httpClient=e}upload(e,t){var i=localStorage.getItem("auth");let a=JSON.parse(i);return this.httpClient.post(`${ie.a.apiUrl}/${e}`,t,{headers:new te.e({Authorization:"Bearer "+a.token}),reportProgress:!0,observe:"events"}).pipe(Object(ae.a)(e=>{switch(e.type){case te.d.UploadProgress:return{status:"progress",message:Math.round(100*e.loaded/e.total)};case te.d.Response:return e.body;default:return"Unhandled"}}))}ProcessCargaArchivoPromise(e){return this.httpOptions=this.getToken(),this.httpClient.get(`${ie.a.apiUrl}/${e}`,Object.assign({},this.httpOptions)).toPromise()}uploadOpinion(e,t){var i=localStorage.getItem("auth");let a=JSON.parse(i);return this.httpClient.post(`${ie.a.apiUrl}/${e}`,t,{headers:new te.e({Authorization:"Bearer "+a.token}),reportProgress:!0,observe:"events"}).pipe(Object(ae.a)(e=>{switch(e.type){case te.d.UploadProgress:return{status:"progress",message:Math.round(100*e.loaded/e.total)};case te.d.Response:return e.body;default:return"Unhandled"}}))}getToken(){var e=localStorage.getItem("id_token");return{headers:new te.e({"Content-Type":"application/json",Authorization:"Bearer "+e})}}}return e.\u0275fac=function(t){return new(t||e)(T.cc(te.b))},e.\u0275prov=T.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const re=["matPaginator7"],ne=["sort7"],ce=["popCCliente"];function se(e,t){if(1&e){const e=T.Wb();T.Vb(0,"div"),T.Vb(1,"div",22),T.Vb(2,"div",23),T.Vb(3,"h5",24),T.Qb(4,"i",25),T.Kc(5," Cliente"),T.Ub(),T.Ub(),T.Vb(6,"div",23),T.Qb(7,"hr"),T.Ub(),T.Ub(),T.Vb(8,"div",22),T.Vb(9,"div",26),T.Vb(10,"div",27),T.Vb(11,"label"),T.Kc(12,"Nombre"),T.Ub(),T.Vb(13,"label",28),T.Kc(14),T.Ub(),T.Ub(),T.Ub(),T.Vb(15,"div",29),T.Vb(16,"div",27),T.Vb(17,"label"),T.Kc(18,"RFC"),T.Ub(),T.Vb(19,"label",28),T.Kc(20),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Vb(21,"div",22),T.Vb(22,"div",30),T.Vb(23,"a",31),T.fc("click",function(){return T.zc(e),T.jc().Regresar(!0)}),T.Kc(24,"Cancelar"),T.Ub(),T.Ub(),T.Ub(),T.Ub()}if(2&e){const e=T.jc();T.Cb(14),T.Mc(" ",e.General.Cliente.NombreCliente,""),T.Cb(6),T.Mc(" ",e.General.Cliente.RFC,"")}}const le=function(e){return{width:e}};function be(e,t){if(1&e&&(T.Vb(0,"div",32),T.Qb(1,"br"),T.Vb(2,"div",33),T.Qb(3,"div",34),T.Ub(),T.Ub()),2&e){const e=T.jc();T.Cb(3),T.pc("ngStyle",T.tc(1,le,e.Avance.message+"%"))}}function de(e,t){if(1&e){const e=T.Wb();T.Vb(0,"div",22),T.Vb(1,"div",35),T.Vb(2,"div",36),T.Vb(3,"h4",37),T.Kc(4,"Archivo Cargado correctamente"),T.Ub(),T.Vb(5,"p"),T.Kc(6," El Archivo se registr\xf3 correctamente."),T.Qb(7,"br"),T.Kc(8," A continuaci\xf3n ser\xe1 validado y recibira una notificaci\xf3n en caso de ser aceptado o rechazado."),T.Ub(),T.Qb(9,"div",38),T.Vb(10,"p",39),T.Vb(11,"button",40),T.fc("click",function(){return T.zc(e),T.jc().Regresar(!0)}),T.Kc(12,"Aceptar"),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Ub()}}function he(e,t){if(1&e){const e=T.Wb();T.Vb(0,"div",41),T.Vb(1,"h4",42),T.Vb(2,"span",43),T.Kc(3," Se ha detectado una carga previa"),T.Ub(),T.Ub(),T.Vb(4,"button",44),T.fc("click",function(){return(0,t.dismiss)("Cross click")}),T.Vb(5,"span",45),T.Kc(6,"\xd7"),T.Ub(),T.Ub(),T.Ub(),T.Vb(7,"div",46),T.Vb(8,"div",22),T.Vb(9,"div",23),T.Vb(10,"div",27),T.Vb(11,"label"),T.Kc(12,"Si desea volver a cargar su opini\xf3n de cumplimiento, favor de ingresar el motivo"),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Vb(13,"div",22),T.Vb(14,"div",23),T.Vb(15,"div",27),T.Vb(16,"label"),T.Kc(17,"Motivo:"),T.Ub(),T.Vb(18,"textarea",47),T.fc("ngModelChange",function(t){return T.zc(e),T.jc().General.Cliente.MotivoActualizacion=t}),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Vb(19,"div",48),T.Vb(20,"button",49),T.fc("click",function(){return T.zc(e),T.jc().AceptaCarga()}),T.Kc(21,"Aceptar"),T.Ub(),T.Vb(22,"button",50),T.fc("click",function(){return(0,t.close)("Close click")}),T.Kc(23,"Cancelar"),T.Ub(),T.Ub()}if(2&e){const e=T.jc();T.Cb(18),T.pc("ngModel",e.General.Cliente.MotivoActualizacion)}}let pe=(()=>{class e{constructor(e,t,i,a,o,r,n,c,s,l){this.snackBar=e,this.AuthService=t,this.toastr=i,this.spinnerService=a,this.router=o,this.sanitizer=r,this.modalService=n,this.OpinionCumplimientoService=c,this.UploadFilesService=s,this.ref=l,this.VistaPrincipal=new T.p,this.Page={},this.Screen={},this.General={},this.Avance={Break:0},this.Documento={},this.Archivo={},this.uploadResponse={status:"",message:0,filePath:""},this.ListaTipoSolicitud=[],this.modalReference=null,this.displayedColumns7=["No","NombrePerfil","actions"],this.Page.ShowAdd=!1,this.Page.ShowEdit=!1,this.Page.ShowUpload=!1,this.Page.ShowRegistro=!0,this.Page.ShowCargaExitosa=!1,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Cliente={}}ngOnInit(){Object.keys(this.OpinionCumplimientoService.oDetalleCliente).length>0?(this.General.Cliente=this.OpinionCumplimientoService.oDetalleCliente,this.Page.ShowUpload=!0,this.ref.detectChanges()):this.Regresar(!0)}UpLoadFile(e){let t=[];t=e.target.files[0].name;let i=t.substring(t.length-5,t.length);var a=e.target.files[0].size/1024;let o=i.match(/\.(.+)$/)[1].toLowerCase();if(a>1024)return this.toastr.error("Tama\xf1o de archivo no valido, solo se puede cargar un maximo de 1MB","Error"),void(document.getElementById("fileUploadCuenta").value="");if("pdf"==o){const t=new FormData;t.append("file",e.target.files[0]),t.append("data",JSON.stringify(this.General.Cliente)),this.UploadFilesService.uploadOpinion("report/upload",t).subscribe(e=>{try{if(this.uploadResponse=e,"Unhandled"!=e&&Object.entries(e).length>0){if(e.hasOwnProperty("IdFile")){if(this.General.IdFile=e.IdFile,0==this.General.IdFile)return this.ErrorCargaArchivo(),void this.spinnerService.hide();this.Page.ShowRegistro=!1,this.Page.ShowUpload=!1,this.Page.ShowCargaExitosa=!0,this.ref.detectChanges(),this.timeouts=setTimeout(()=>{this.ProcesarArchivo(),this.spinnerService.hide()},1e3)}this.Avance=Object.assign({},this.uploadResponse),this.ref.detectChanges()}100===this.Avance.message&&0==this.Avance.Break&&(this.timeouts=setTimeout(()=>{this.openSnackBar("El archivo se cargo correctamente","Cerrar"),this.Avance={status:"",message:0},this.ref.detectChanges()},2e3)),document.getElementById("fileUploadCuenta").value=""}catch(t){this.Avance={status:"",message:100}}},e=>{this.ErrorCargaArchivo()})}else this.toastr.error("Archivo no v\xe1lido","Error")}ErrorCargaArchivo(){this.Avance.Break=1,this.Avance={status:"",message:0},this.ref.detectChanges(),document.getElementById("fileUploadCuenta").value="",this.toastr.error("Ocurrio un error al cargar el archivo")}Sube(){this.General.Cliente.MotivoActualizacion="",0==this.General.Cliente.Cargado?(this.uploadResponse={status:"",message:0,filePath:""},document.getElementById("fileUploadCuenta").click()):(this.modalReference=this.modalService.open(this.popUpRecarga,{size:"lg"}),this.ref.markForCheck())}AceptaCarga(){null==this.General.Cliente.MotivoActualizacion||this.General.Cliente.MotivoActualizacion.length<5?this.openSnackBar("Motivo no v\xe1lido","Cerrar"):(this.modalReference.close(),this.uploadResponse={status:"",message:0,filePath:""},document.getElementById("fileUploadCuenta").click())}Regresar(e){this.VistaPrincipal.emit(e)}ProcesarArchivo(){if(this.General.IdFile){this.General.Cliente.Cargado=1;let e={};e.InitProcess=this.General.IdFile,e.Reference=this.General.Cliente.Reference,this.OpinionCumplimientoService.ProcesaArchivoPDF(e).then(e=>{switch(e.Result){case 0:this.toastr.error("Se detect\xf3 un RFC incorrecto por favor valide su archivo.");break;case 3e3:this.toastr.error(e.Message)}},e=>{console.log("Ocurrio un error")})}}handleError(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}openSnackBar(e,t){this.snackBar.open(e,t,{duration:2e3})}}return e.\u0275fac=function(t){return new(t||e)(T.Pb(O.a),T.Pb(J.a),T.Pb(W.b),T.Pb(_.c),T.Pb(r.h),T.Pb(q.b),T.Pb(H.y),T.Pb(ee),T.Pb(oe),T.Pb(T.i))},e.\u0275cmp=T.Jb({type:e,selectors:[["kt-cargaoponioncumplimiento"]],viewQuery:function(e,t){if(1&e&&(T.Ec(re,!0),T.Ec(ne,!0),T.Ec(ce,!0)),2&e){let e;T.wc(e=T.gc())&&(t.paginator7=e.first),T.wc(e=T.gc())&&(t.sort7=e.first),T.wc(e=T.gc())&&(t.popUpRecarga=e.first)}},outputs:{VistaPrincipal:"VistaPrincipal"},decls:33,vars:5,consts:[[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[4,"ngIf"],[1,"row",3,"hidden"],[1,"col-xs-12","col-md-4"],[1,"col-xs-12","col-md-6"],[1,"row","mt-10"],["id","divOficiosUpLoad",2,"cursor","pointer",3,"click"],[1,"fa","fa-cloud-upload-alt",2,"font-size","40px","margin-top","28px","color","#54637A"],[2,"font-size","11px","font-family","Verdana"],[2,"float","left","width","60%"],[2,"margin-top","-7px"],["type","file","id","fileUploadCuenta",2,"display","none",3,"change"],["class","col-md-8",4,"ngIf"],["class","row",4,"ngIf"],["popCCliente",""],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"col-md-12"],[2,"color","#7AB800 !important"],[1,"fa","fa-user"],[1,"col-md-5"],[1,"form-group"],["type","text","aria-describedby","helpEmpresa",1,"form-control","form-control-sm"],[1,"col-md-2"],[1,"d-flex","align-items-center","p-2"],["href","javascript:;",1,"btn","btn-transparent-danger","font-weight-bold","mr-2",3,"click"],[1,"col-md-8"],[1,"progress"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",3,"ngStyle"],[1,"col-md-6"],["role","alert",1,"alert","alert-success","mb-5","p-5"],[1,"alert-heading"],[1,"border-bottom","border-white","opacity-20","mb-5"],[1,"mb-0"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"text-muted"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["maxlength","250","cols","6","rows","3",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"click"]],template:function(e,t){1&e&&(T.Vb(0,"div",0),T.Vb(1,"div",1),T.Vb(2,"div",2),T.Vb(3,"h2",3),T.Qb(4,"i",4),T.Kc(5," Registro de Opini\xf3n de Cumplimiento "),T.Ub(),T.Ub(),T.Ub(),T.Vb(6,"div",5),T.Ic(7,se,25,2,"div",6),T.Vb(8,"div",7),T.Qb(9,"div",8),T.Vb(10,"div",9),T.Vb(11,"div",10),T.Vb(12,"div",11),T.fc("click",function(){return t.Sube()}),T.Qb(13,"i",12),T.Vb(14,"p",13),T.Kc(15,"Agregar Archivo"),T.Ub(),T.Ub(),T.Vb(16,"div",14),T.Qb(17,"br"),T.Qb(18,"br"),T.Vb(19,"p"),T.Kc(20," Los formatos de archivos aceptados son: "),T.Ub(),T.Vb(21,"ul",15),T.Vb(22,"li"),T.Kc(23,"PDF (.pdf) m\xe1ximo 1MB"),T.Ub(),T.Ub(),T.Ub(),T.Vb(24,"input",16),T.fc("change",function(e){return t.UpLoadFile(e)}),T.Ub(),T.Ic(25,be,4,3,"div",17),T.Ub(),T.Ub(),T.Ub(),T.Ic(26,de,13,0,"div",18),T.Ub(),T.Ub(),T.Vb(27,"div"),T.Ic(28,he,24,1,"ng-template",null,19,T.Jc),T.Ub(),T.Vb(30,"ngx-spinner",20),T.Vb(31,"p",21),T.Kc(32," Loading... "),T.Ub(),T.Ub()),2&e&&(T.Cb(7),T.pc("ngIf",t.Page.ShowRegistro),T.Cb(1),T.pc("hidden",!t.Page.ShowUpload),T.Cb(17),T.pc("ngIf",t.Avance.message),T.Cb(1),T.pc("ngIf",t.Page.ShowCargaExitosa),T.Cb(4),T.pc("fullScreen",!0))},directives:[o.n,_.a,o.o,n.d,n.k,n.o,n.r],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}"],changeDetection:0}),e})();const ue=["sharecmp"],me=["matPaginator7"],fe=["sort7"];function ge(e,t){if(1&e&&(T.Vb(0,"option",17),T.Kc(1),T.Ub()),2&e){const e=t.$implicit;T.pc("value",e.Reference),T.Cb(1),T.Mc(" ",e.RazonSocial," ")}}function ve(e,t){if(1&e){const e=T.Wb();T.Vb(0,"div",4),T.Vb(1,"div",5),T.Vb(2,"div",6),T.Vb(3,"h2",7),T.Qb(4,"i",8),T.Kc(5," Selecci\xf3n de Empresa "),T.Ub(),T.Ub(),T.Ub(),T.Vb(6,"div",9),T.Vb(7,"div"),T.Vb(8,"div",10),T.Vb(9,"div",11),T.Vb(10,"div",12),T.Vb(11,"label"),T.Kc(12,"Seleccione la empresa a la que desea enviar su oponion de cumplimiento"),T.Ub(),T.Vb(13,"select",13),T.fc("ngModelChange",function(t){return T.zc(e),T.jc().General.SeleccionEmpresa.Reference=t}),T.Ic(14,ge,2,2,"option",14),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Vb(15,"div",10),T.Vb(16,"div",15),T.Vb(17,"a",16),T.fc("click",function(){return T.zc(e),T.jc().SeleccionarEmpresa()}),T.Kc(18,"Aceptar"),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Ub()}if(2&e){const e=T.jc();T.Cb(13),T.pc("ngModel",e.General.SeleccionEmpresa.Reference)("value",0),T.Cb(1),T.pc("ngForOf",e.ListaEmpresas)}}function Ce(e,t){if(1&e){const e=T.Wb();T.Vb(0,"button",38),T.fc("click",function(){return T.zc(e),T.jc(2).ShowLoad()}),T.Qb(1,"i",39),T.Kc(2," Cargar Opini\xf3n "),T.Ub()}}function Se(e,t){if(1&e){const e=T.Wb();T.Vb(0,"button",38),T.fc("click",function(){return T.zc(e),T.jc(2).CargaDatos()}),T.Qb(1,"i",40),T.Kc(2," Actualizar Estatus "),T.Ub()}}function Ue(e,t){1&e&&(T.Vb(0,"mat-header-cell",41),T.Kc(1,"Archivos Cargados"),T.Ub())}function Ve(e,t){if(1&e&&(T.Vb(0,"mat-cell"),T.Kc(1),T.Ub()),2&e){const e=t.$implicit;T.Cb(1),T.Mc(" ",e.Actualizaciones," ")}}function we(e,t){1&e&&(T.Vb(0,"mat-header-cell",41),T.Kc(1," Mes "),T.Ub())}function Pe(e,t){if(1&e&&(T.Vb(0,"mat-cell"),T.Kc(1),T.Ub()),2&e){const e=t.$implicit;T.Cb(1),T.Mc(" ",e.Mes," ")}}function ye(e,t){1&e&&(T.Vb(0,"mat-header-cell",41),T.Kc(1," Estatus "),T.Ub())}function De(e,t){if(1&e&&(T.Vb(0,"div"),T.Vb(1,"span",44),T.Kc(2),T.Ub(),T.Ub()),2&e){const e=T.jc().$implicit;T.Cb(2),T.Mc(" ",e.Estatus,"")}}function Oe(e,t){if(1&e&&(T.Vb(0,"div"),T.Vb(1,"span",45),T.Kc(2),T.Ub(),T.Ub()),2&e){const e=T.jc().$implicit;T.Cb(2),T.Mc(" ",e.Estatus,"")}}function Fe(e,t){if(1&e&&(T.Vb(0,"div"),T.Vb(1,"span",46),T.Kc(2),T.Ub(),T.Ub()),2&e){const e=T.jc().$implicit;T.Cb(2),T.Mc(" ",e.Estatus,"")}}function ke(e,t){if(1&e&&(T.Vb(0,"mat-cell"),T.Vb(1,"div",42),T.Ic(2,De,3,1,"div",43),T.Ic(3,Oe,3,1,"div",43),T.Ic(4,Fe,3,1,"div",43),T.Ub(),T.Ub()),2&e){const e=t.$implicit;T.Cb(1),T.pc("ngSwitch",e.Estatus),T.Cb(1),T.pc("ngSwitchCase","Rechazado"),T.Cb(1),T.pc("ngSwitchCase","Pendiente Revisi\xf3n"),T.Cb(1),T.pc("ngSwitchCase","Recibida")}}function Ie(e,t){1&e&&T.Qb(0,"mat-header-row")}function xe(e,t){1&e&&T.Qb(0,"mat-row")}const Re=function(){return[25,50,75,100]};function Ee(e,t){if(1&e){const e=T.Wb();T.Vb(0,"div",4),T.Vb(1,"div",10),T.Vb(2,"div",18),T.Vb(3,"h1",19),T.Kc(4),T.Qb(5,"i",20),T.Ub(),T.Ub(),T.Vb(6,"span",21),T.Kc(7,"Registro de Opinion de Cumplimiento"),T.Ub(),T.Ub(),T.Vb(8,"div",9),T.Vb(9,"div",10),T.Ic(10,Ce,3,0,"button",22),T.Kc(11,"\xa0 "),T.Ic(12,Se,3,0,"button",22),T.Kc(13,"\xa0 "),T.Ub(),T.Vb(14,"div",10),T.Vb(15,"div",23),T.Qb(16,"br"),T.Vb(17,"div",24),T.Vb(18,"mat-form-field"),T.Vb(19,"input",25),T.fc("keyup",function(t){return T.zc(e),T.jc().applyFilter7(t.target.value)}),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Vb(20,"div",26),T.Qb(21,"mat-paginator",27,28),T.Vb(23,"mat-table",29,30),T.Tb(25,31),T.Ic(26,Ue,2,0,"mat-header-cell",32),T.Ic(27,Ve,2,1,"mat-cell",33),T.Sb(),T.Tb(28,34),T.Ic(29,we,2,0,"mat-header-cell",32),T.Ic(30,Pe,2,1,"mat-cell",33),T.Sb(),T.Tb(31,35),T.Ic(32,ye,2,0,"mat-header-cell",32),T.Ic(33,ke,5,4,"mat-cell",33),T.Sb(),T.Ic(34,Ie,1,0,"mat-header-row",36),T.Ic(35,xe,1,0,"mat-row",37),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Ub()}if(2&e){const e=T.jc();T.Cb(4),T.Mc(" ",e.General.DatosEmpresa.RazonSocial," "),T.Cb(6),T.pc("ngIf",e.Screen.Post),T.Cb(2),T.pc("ngIf",e.Screen.Post),T.Cb(9),T.pc("pageSizeOptions",T.sc(7,Re)),T.Cb(2),T.pc("dataSource",e.dataSourceSolicitudes),T.Cb(11),T.pc("matHeaderRowDef",e.displayedColumns7),T.Cb(1),T.pc("matRowDefColumns",e.displayedColumns7)}}function Me(e,t){if(1&e){const e=T.Wb();T.Vb(0,"div"),T.Vb(1,"kt-cargaoponioncumplimiento",47,48),T.fc("VistaPrincipal",function(t){return T.zc(e),T.jc().ShowVistaPrincipal(t)}),T.Ub(),T.Ub()}}let Ke=(()=>{class e{constructor(e,t,i,a,o,r,n,c,s,l,b){this.snackBar=e,this.AuthService=t,this.modalService=i,this.toastr=a,this.spinnerService=o,this.router=r,this.sanitizer=n,this.ScreenActionsService=c,this.DashboardService=s,this.ref=l,this.OpinionCumplimientoService=b,this.Page={},this.Screen={},this.General={},this.ListaEmpresas=[],this.displayedColumns7=["Actualizaciones","Mes","Estatus"],this.Page.ShowLoad=!1,this.Page.ShowEdit=!1,this.Page.ShowList=!1,this.Page.ShowSeleccionEmpresa=!1,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.DatosEmpresa={},this.General.SeleccionEmpresa={}}ngOnInit(){this.ScreenActionsService.PromiseAcciones(this.Page.Controller).then(e=>{this.Screen=e,0!=Object.keys(this.Screen).length&&this.Screen.Get?0==Object.keys(this.DashboardService.oEmpresa).length&&this.DashboardService.oListaEmpresas.length>0?(this.ListaEmpresas=JSON.parse(JSON.stringify(this.DashboardService.oListaEmpresas)),this.Page.ShowSeleccionEmpresa=!0,this.ref.markForCheck()):Object.keys(this.DashboardService.oEmpresa).length>0&&this.DashboardService.oListaEmpresas.length>0?(this.General.DatosEmpresa=this.DashboardService.oEmpresa,this.OpinionCumplimientoService.oDetalleCliente=this.DashboardService.oEmpresa,this.CargaDatos(),this.Page.ShowList=!0):(this.router.navigate(["/dashboard"]),this.Regresar()):(this.toastr.error("Si intenta acceder a una opci\xf3n no permitida su cuenta ser\xe1 suspendida"),this.router.navigate(["dashboard"]))},e=>{this.handleError(e)})}CargaCliente(){}CargaDatos(){if(this.spinnerService.show(),this.dataSourceSolicitudes=new F.k([]),null==this.General.DatosEmpresa||null==this.General.DatosEmpresa.Reference||""==this.General.DatosEmpresa.Reference)return this.toastr.error("Ocurri\xf3 un error al contactar el servidor"),void this.router.navigate(["/dashboard"]);let e={};e.RFC=this.General.DatosEmpresa.RFC,e.Reference=this.General.DatosEmpresa.Reference,this.OpinionCumplimientoService.GetOpinionPreveedor(e).subscribe(e=>{this.dataSourceSolicitudes=new F.k(e),this.dataSourceSolicitudes.paginator=this.paginator7,this.dataSourceSolicitudes.sort=this.sort7,this.spinnerService.hide(),this.ref.markForCheck()},e=>{this.handleError(e)})}ShowLoad(){this.Page.ShowLoad=!0,this.Page.ShowList=!1}ShowVistaPrincipal(e){this.CargaCliente(),this.Page.ShowLoad=!1,this.Page.ShowList=e,this.CargaDatos()}ActualizarBandeja(){this.CargaDatos()}applyFilter7(e){this.dataSourceSolicitudes.filter=e.trim().toLowerCase(),this.dataSourceSolicitudes.paginator&&this.dataSourceSolicitudes.paginator.firstPage()}Regresar(){}SeleccionarEmpresa(){if(null==this.General.SeleccionEmpresa.Reference||""==this.General.SeleccionEmpresa.Reference)return void this.toastr.error("Debe seleccionar una empresa");const e=this.ListaEmpresas.find(e=>e.Reference===this.General.SeleccionEmpresa.Reference);null!=e&&null!=e?(this.General.DatosEmpresa.RazonSocial=e.RazonSocial,this.General.DatosEmpresa.Reference=e.Reference,this.CargaDatos(),this.Page.ShowSeleccionEmpresa=!1,this.OpinionCumplimientoService.oDetalleCliente.Reference=e.Reference,this.OpinionCumplimientoService.oDetalleCliente.RFC=e.RFC,this.OpinionCumplimientoService.oDetalleCliente.NombreCliente=e.Cliente,this.OpinionCumplimientoService.oDetalleCliente.Cargado=e.Cargado,this.Page.ShowList=!0,this.ref.markForCheck()):this.toastr.error("selecci\xf3n no v\xe1lida")}handleError(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}openSnackBar(e,t){this.snackBar.open(e,t,{duration:2e3})}}return e.\u0275fac=function(t){return new(t||e)(T.Pb(O.a),T.Pb(J.a),T.Pb(H.y),T.Pb(W.b),T.Pb(_.c),T.Pb(r.h),T.Pb(q.b),T.Pb(X.a),T.Pb(Y.a),T.Pb(T.i),T.Pb(ee))},e.\u0275cmp=T.Jb({type:e,selectors:[["kt-bandejaopinion"]],viewQuery:function(e,t){if(1&e&&(T.Ec(ue,!0),T.Ec(me,!0),T.Ec(fe,!0)),2&e){let e;T.wc(e=T.gc())&&(t.sharecmp=e.first),T.wc(e=T.gc())&&(t.paginator7=e.first),T.wc(e=T.gc())&&(t.sort7=e.first)}},decls:6,vars:4,consts:[["class","card card-custom",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["name","select",1,"form-control",3,"ngModel","value","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","p-2"],["href","javascript:;",1,"btn","btn-transparent-success","font-weight-bold","mr-2",3,"click"],[3,"value"],[1,"col-xs-12","col-md-12","mt-10"],[1,"d-flex","align-items-center","text-dark","text-hover-primary","font-size-h5","font-weight-bold","ml-5"],[1,"flaticon2-correct","text-success","icon-md","ml-2"],[1,"text-muted","ml-15"],["type","button","style","color: #7AB800 !important","class","btn btn-outline-secondary",3,"click",4,"ngIf"],[1,"col-xs-12","col-md-12",2,"flex","0 0 0% !important"],[1,"example-header"],["matInput","","placeholder","Buscar",3,"keyup"],[1,"col-xs-12","col-md-12"],[3,"pageSizeOptions"],["matPaginator7",""],["matSort","",3,"dataSource"],["sort7","matSort"],["matColumnDef","Actualizaciones"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","Mes"],["matColumnDef","Estatus"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["type","button",1,"btn","btn-outline-secondary",2,"color","#7AB800 !important",3,"click"],[1,"fas","fa-upload"],[1,"fas","fa-circle-notch"],["mat-sort-header",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"label","font-weight-bold","label-lg","label-light-danger","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-primary","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-success","label-inline"],[3,"VistaPrincipal"],["sharecmp",""]],template:function(e,t){1&e&&(T.Ic(0,ve,19,3,"div",0),T.Ic(1,Ee,36,8,"div",0),T.Ic(2,Me,3,0,"div",1),T.Vb(3,"ngx-spinner",2),T.Vb(4,"p",3),T.Kc(5," Loading... "),T.Ub(),T.Ub()),2&e&&(T.pc("ngIf",t.Page.ShowSeleccionEmpresa),T.Cb(1),T.pc("ngIf",t.Page.ShowList),T.Cb(1),T.pc("ngIf",t.Page.ShowLoad),T.Cb(1),T.pc("fullScreen",!0))},directives:[o.n,_.a,n.w,n.o,n.r,o.m,n.s,n.y,g.c,f.b,K.a,F.j,z.a,F.c,F.e,F.b,F.g,F.i,F.d,z.b,F.a,o.p,o.q,F.f,F.h,pe],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}.mat-table[_ngcontent-%COMP%]{overflow-x:scroll}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{word-wrap:normal;display:table-cell;padding:0 10px;line-break:unset;width:90%;white-space:nowrap;overflow:hidden;vertical-align:middle}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{display:table-row}"],changeDetection:0}),e})();var Ae=i("wl6q");let Ge=(()=>{class e{constructor(e,t,i){this.api=e,this.router=t,this.http=i,this.oDetalleSolicitud={}}download(e,t){var i=localStorage.getItem("auth");let a=JSON.parse(i);return this.http.get(`${ie.a.apiUrl}/${e}/${t}`,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token},responseType:"blob"}).toPromise()}downloadPost(e,t){var i=localStorage.getItem("auth");let a=JSON.parse(i);return this.http.post(`${ie.a.apiUrl}/${e}/`,t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.token},responseType:"blob"}).toPromise()}}return e.\u0275fac=function(t){return new(t||e)(T.cc(Z.a),T.cc(r.h),T.cc(te.b))},e.\u0275prov=T.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ze=["sharecmp"],Le=["matPaginator7"],je=["sort7"];function Be(e,t){if(1&e&&(T.Vb(0,"option",55),T.Kc(1),T.Ub()),2&e){const e=t.$implicit;T.pc("value",e.Valor),T.Cb(1),T.Mc(" ",e.Descripcion," ")}}function Qe(e,t){1&e&&(T.Vb(0,"mat-header-cell"),T.Kc(1," Actions "),T.Ub())}function Te(e,t){if(1&e){const e=T.Wb();T.Vb(0,"mat-cell"),T.Vb(1,"a",56),T.fc("click",function(){T.zc(e);const i=t.$implicit;return T.jc().DescargarOpinion(i)}),T.Qb(2,"i",57),T.Ub(),T.Ub()}}function $e(e,t){1&e&&(T.Vb(0,"mat-header-cell",58),T.Kc(1,"Fecha Documento"),T.Ub())}function Ne(e,t){if(1&e&&(T.Vb(0,"mat-cell"),T.Kc(1),T.kc(2,"date"),T.Ub()),2&e){const e=t.$implicit;T.Cb(1),T.Mc(" ",T.mc(2,1,e.FechaDocumento,"yyyy-MM-dd")," ")}}function _e(e,t){1&e&&(T.Vb(0,"mat-header-cell",58),T.Kc(1," Validacion Documento "),T.Ub())}function Je(e,t){if(1&e&&(T.Vb(0,"div"),T.Vb(1,"span",61),T.Kc(2),T.Ub(),T.Ub()),2&e){const e=T.jc().$implicit;T.Cb(2),T.Mc(" ",e.StatusValidacion,"")}}function He(e,t){if(1&e&&(T.Vb(0,"div"),T.Vb(1,"span",62),T.Kc(2),T.Ub(),T.Ub()),2&e){const e=T.jc().$implicit;T.Cb(2),T.Mc(" ",e.StatusValidacion,"")}}function We(e,t){if(1&e&&(T.Vb(0,"div"),T.Vb(1,"span",63),T.Kc(2),T.Ub(),T.Ub()),2&e){const e=T.jc().$implicit;T.Cb(2),T.Mc(" ",e.StatusValidacion,"")}}function qe(e,t){if(1&e&&(T.Vb(0,"mat-cell"),T.Vb(1,"div",59),T.Ic(2,Je,3,1,"div",60),T.Ic(3,He,3,1,"div",60),T.Ic(4,We,3,1,"div",60),T.Ub(),T.Ub()),2&e){const e=t.$implicit;T.Cb(1),T.pc("ngSwitch",e.StatusValidacion),T.Cb(1),T.pc("ngSwitchCase","Sin posibles ediciones"),T.Cb(1),T.pc("ngSwitchCase","Documento Editado"),T.Cb(1),T.pc("ngSwitchCase","Posiblemente Editado")}}function Xe(e,t){1&e&&(T.Vb(0,"mat-header-cell",58),T.Kc(1," RFC "),T.Ub())}function Ye(e,t){if(1&e&&(T.Vb(0,"mat-cell"),T.Kc(1),T.Ub()),2&e){const e=t.$implicit;T.Cb(1),T.Mc(" ",e.RFC," ")}}function Ze(e,t){1&e&&(T.Vb(0,"mat-header-cell",58),T.Kc(1," Opinion "),T.Ub())}function et(e,t){if(1&e&&(T.Vb(0,"mat-cell"),T.Kc(1),T.Ub()),2&e){const e=t.$implicit;T.Cb(1),T.Mc(" ",e.Opinion," ")}}function tt(e,t){1&e&&(T.Vb(0,"mat-header-cell",58),T.Kc(1," Razon Social "),T.Ub())}function it(e,t){if(1&e&&(T.Vb(0,"mat-cell"),T.Kc(1),T.Ub()),2&e){const e=t.$implicit;T.Cb(1),T.Mc(" ",e.RazonSocial," ")}}function at(e,t){1&e&&(T.Vb(0,"mat-header-cell",58),T.Kc(1," Fecha Consulta Documento SAT "),T.Ub())}function ot(e,t){if(1&e&&(T.Vb(0,"mat-cell"),T.Kc(1),T.Ub()),2&e){const e=t.$implicit;T.Cb(1),T.Mc(" ",e.FechaConsulta," ")}}function rt(e,t){1&e&&(T.Vb(0,"mat-header-cell",58),T.Kc(1," Fecha Carga Documento "),T.Ub())}function nt(e,t){if(1&e&&(T.Vb(0,"mat-cell"),T.Kc(1),T.kc(2,"date"),T.Ub()),2&e){const e=t.$implicit;T.Cb(1),T.Mc(" ",T.mc(2,1,e.FechaCargaDocumento,"yyyy-MM-dd @ HH:mm")," ")}}function ct(e,t){1&e&&(T.Vb(0,"mat-header-cell",58),T.Kc(1," Folio "),T.Ub())}function st(e,t){if(1&e&&(T.Vb(0,"mat-cell"),T.Kc(1),T.Ub()),2&e){const e=t.$implicit;T.Cb(1),T.Mc(" ",e.Folio," ")}}function lt(e,t){1&e&&(T.Vb(0,"mat-header-cell",58),T.Kc(1," Cadena Original "),T.Ub())}function bt(e,t){if(1&e&&(T.Vb(0,"mat-cell"),T.Kc(1),T.Ub()),2&e){const e=t.$implicit;T.Cb(1),T.Mc(" ",e.CadenaOriginal," ")}}function dt(e,t){1&e&&(T.Vb(0,"mat-header-cell",58),T.Kc(1," SelloDigital "),T.Ub())}function ht(e,t){if(1&e&&(T.Vb(0,"mat-cell"),T.Kc(1),T.Ub()),2&e){const e=t.$implicit;T.Cb(1),T.Mc(" ",e.SelloDigital," ")}}function pt(e,t){1&e&&T.Qb(0,"mat-header-row")}function ut(e,t){1&e&&T.Qb(0,"mat-row")}function mt(e,t){if(1&e){const e=T.Wb();T.Vb(0,"div"),T.Vb(1,"kt-cargaoponioncumplimiento",64,65),T.fc("VistaPrincipal",function(t){return T.zc(e),T.jc().ShowVistaPrincipal(t)}),T.Ub(),T.Ub()}}const ft=function(){return[25,50,75,100]},gt=[{path:"",component:$,children:[{path:"operations/verdict",component:Ke},{path:"operations/vendorsreview",component:(()=>{class e{constructor(e,t,i,a,o,r,n,c,s,l,b,d){this.snackBar=e,this.AuthService=t,this.modalService=i,this.toastr=a,this.spinnerService=o,this.router=r,this.sanitizer=n,this.ScreenActionsService=c,this.ExcelService=s,this.ref=l,this.OpinionCumplimientoService=b,this.DownloadService=d,this.Page={},this.Screen={},this.General={},this.panelOpenState=!1,this.ListaTipoOpinion=[],this.displayedColumns7=["actions","FechaDocumento","StatusValidacion","RFC","Opinion","RazonSocial","FechaConsulta","FechaCargaDocumento","Folio","CadenaOriginal","SelloDigital"],this.Page.ShowLoad=!1,this.Page.ShowRechazo=!1,this.Page.ShowEdit=!1,this.Page.ShowList=!1,this.Page.Controller=this.router.routerState.snapshot.url.toString().substr(this.router.routerState.snapshot.url.lastIndexOf("/")+1,this.router.routerState.snapshot.url.toString().length-1),this.General.Filtros={},this.ListaTipoOpinion.push({Valor:1,Descripcion:"Negativo"},{Valor:2,Descripcion:"Positivo"},{Valor:3,Descripcion:"Todas"}),this.General.Data=[]}ngOnInit(){this.ScreenActionsService.PromiseAcciones(this.Page.Controller).then(e=>{this.Screen=e,0!=Object.keys(this.Screen).length&&this.Screen.Get?(this.ref.markForCheck(),this.CargaDatos()):(this.toastr.error("Si intenta acceder a una opci\xf3n no permitida su cuenta ser\xe1 suspendida"),this.router.navigate(["dashboard"]))},e=>{this.handleError(e)})}CargaDatos(){this.Page.ShowList=!0,this.General.Data.length=0,this.spinnerService.show(),this.dataSourceSolicitudes=new F.k([]),this.OpinionCumplimientoService.GetRevisionOpiniones().subscribe(e=>{this.General.Data=e,this.dataSourceSolicitudes=new F.k(e),this.dataSourceSolicitudes.paginator=this.paginator7,this.dataSourceSolicitudes.sort=this.sort7,this.spinnerService.hide(),this.ref.markForCheck()},e=>{this.handleError(e)})}AplicaFiltros(){0!=Object.keys(this.General.Filtros).length?null==this.General.Filtros.FechaFinal||null==this.General.Filtros.FechaFinal||""==this.General.Filtros.FechaFinal||null!=this.General.Filtros.FechaInicial&&(null!=this.General.Filtros.FechaInicial||""!=this.General.Filtros.FechaInicial)?(this.General.Data.length=0,this.OpinionCumplimientoService.AplicaFiltros(this.General.Filtros).subscribe(e=>{this.General.Data=e,this.dataSourceSolicitudes=new F.k(e),this.dataSourceSolicitudes.paginator=this.paginator7,this.dataSourceSolicitudes.sort=this.sort7,this.spinnerService.hide(),this.ref.markForCheck()},e=>{this.handleError(e)})):this.toastr.error("Debe seleccionar la fecha inicial"):this.toastr.error("Filtros no v\xe1lidos","Error")}Exportar(){this.spinnerService.show(),this.ExcelService.exportAsExcelFile(this.General.Data,"OpinionProveedores"),this.spinnerService.hide()}ResetData(){this.CargaDatos()}ShowLoad(){this.Page.ShowLoad=!0,this.Page.ShowList=!1}ShowVistaPrincipal(e){this.Page.ShowLoad=!1,this.Page.ShowRechazo=!1,this.Page.ShowList=e,this.CargaDatos()}ActualizarBandeja(){this.CargaDatos()}DescargarOpinion(e){let t={};t.Value=e.Value,t.RFC=e.RFC,this.spinnerService.show(),this.DownloadService.downloadPost("report/vendorverdict",t).then(e=>{var i=new Blob([e],{type:"application/pdf"}),a=URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.target="_blank",o.download="OpinionCumplimiento_"+t.RFC+".pdf",document.body.appendChild(o),o.click(),this.spinnerService.hide()},e=>{this.toastr.error("Ocurrio un error al descargar la infomaci\xf3n"),this.spinnerService.hide()})}applyFilter7(e){this.dataSourceSolicitudes.filter=e.trim().toLowerCase(),this.dataSourceSolicitudes.paginator&&this.dataSourceSolicitudes.paginator.firstPage()}handleError(e){this.AuthService.handleError(e),e&&e.error.Descripcion&&this.toastr.error(e.error.Descripcion),this.spinnerService.hide()}openSnackBar(e,t){this.snackBar.open(e,t,{duration:2e3})}}return e.\u0275fac=function(t){return new(t||e)(T.Pb(O.a),T.Pb(J.a),T.Pb(H.y),T.Pb(W.b),T.Pb(_.c),T.Pb(r.h),T.Pb(q.b),T.Pb(X.a),T.Pb(Ae.a),T.Pb(T.i),T.Pb(ee),T.Pb(Ge))},e.\u0275cmp=T.Jb({type:e,selectors:[["kt-bandejarevisionopinion"]],viewQuery:function(e,t){if(1&e&&(T.Ec(ze,!0),T.Ec(Le,!0),T.Ec(je,!0)),2&e){let e;T.wc(e=T.gc())&&(t.sharecmp=e.first),T.wc(e=T.gc())&&(t.paginator7=e.first),T.wc(e=T.gc())&&(t.sort7=e.first)}},decls:111,vars:16,consts:[[1,"card","card-custom",3,"hidden"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"fa","fa-list","icon-md"],[1,"card-body"],[1,"row"],[1,"col-xs-12","col-md-12"],[3,"expanded","expandedChange"],[1,"Oferta",2,"font-weight","bold"],[1,"fas","fa-filter"],[1,"col-xs-12","col-md-2"],[1,"form-group"],["type","text","maxlength","13","aria-describedby","helpRFCCliente","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-xs-12","col-md-3"],["type","text","maxlength","50","aria-describedby","helpRazonSocial","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["required","","name","select","name","ddlTipoBusqueda",1,"form-control","form-control-sm",3,"value","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","date","maxlength","4","aria-describedby","FechaInicialhelp","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","date","maxlength","4","aria-describedby","FechaFinalhelp","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"col-md-1"],["type","reset","name","edit",1,"btn","btn-success","btn-sm",2,"margin-top","25px",3,"click"],[1,"fas","fa-search"],["href","javascript:void(0)",1,"btn","btn-danger","btn-sm",2,"margin-top","25px",3,"click"],[1,"far","fa-times-circle"],[1,"col-xs-12","col-md-9"],[1,"col-xs-12","col-md-3","text-right"],["type","button","data-toggle","tooltip","title","Exportar datos a Excel",1,"btn","btn-outline-secondary",2,"color","#7AB800 !important",3,"click"],[1,"fas","fa-file-excel"],[1,"col-xs-12","col-md-12",2,"flex","0 0 0% !important"],[1,"example-header"],["matInput","","placeholder","Buscar",3,"keyup"],[3,"pageSizeOptions"],["matPaginator7",""],["matSort","",3,"dataSource"],["sort7","matSort"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","FechaDocumento"],["mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","StatusValidacion"],["matColumnDef","RFC"],["matColumnDef","Opinion"],["matColumnDef","RazonSocial"],["matColumnDef","FechaConsulta"],["matColumnDef","FechaCargaDocumento"],["matColumnDef","Folio"],["matColumnDef","CadenaOriginal"],["matColumnDef","SelloDigital"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-atom",3,"fullScreen"],[2,"color","white"],[3,"value"],["href","javascript:;","title","Descargar Opinion de Cumplimiento",1,"btn","btn-xs","btn-default","btn-text-default","btn-hover-primary","btn-icon",3,"click"],[1,"fas","fa-cloud-download-alt"],["mat-sort-header",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"label","font-weight-bold","label-lg","label-light-success","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-danger","label-inline"],[1,"label","font-weight-bold","label-lg","label-light-warning","label-inline"],[3,"VistaPrincipal"],["sharecmp",""]],template:function(e,t){1&e&&(T.Vb(0,"div",0),T.Vb(1,"div",1),T.Vb(2,"div",2),T.Vb(3,"h2",3),T.Qb(4,"i",4),T.Kc(5," Revisi\xf3n de opinion de cumplimiento para proveedores"),T.Ub(),T.Ub(),T.Ub(),T.Vb(6,"div",5),T.Vb(7,"div",6),T.Vb(8,"div",7),T.Vb(9,"mat-expansion-panel",8),T.fc("expandedChange",function(e){return t.panelOpenState=e}),T.Vb(10,"mat-expansion-panel-header"),T.Vb(11,"mat-panel-title"),T.Vb(12,"span",9),T.Qb(13,"i",10),T.Kc(14," B\xfasqueda Avanzada"),T.Ub(),T.Ub(),T.Ub(),T.Vb(15,"div",6),T.Vb(16,"div",11),T.Vb(17,"div",12),T.Vb(18,"label"),T.Kc(19,"RFC "),T.Ub(),T.Vb(20,"input",13),T.fc("ngModelChange",function(e){return t.General.Filtros.RFCCliente=e}),T.Ub(),T.Ub(),T.Ub(),T.Vb(21,"div",14),T.Vb(22,"div",12),T.Vb(23,"label"),T.Kc(24,"Raz\xf3n Social "),T.Ub(),T.Vb(25,"input",15),T.fc("ngModelChange",function(e){return t.General.Filtros.RazonSocial=e}),T.Ub(),T.Ub(),T.Ub(),T.Vb(26,"div",11),T.Vb(27,"div",12),T.Vb(28,"label"),T.Kc(29,"Tipo"),T.Ub(),T.Vb(30,"select",16),T.fc("ngModelChange",function(e){return t.General.Filtros.TipoOpinion=e}),T.Ic(31,Be,2,2,"option",17),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Vb(32,"div",6),T.Vb(33,"div",11),T.Vb(34,"div",12),T.Vb(35,"label"),T.Kc(36,"Fecha Documento Inicial"),T.Ub(),T.Vb(37,"input",18),T.fc("ngModelChange",function(e){return t.General.Filtros.FechaInicial=e}),T.Ub(),T.Ub(),T.Ub(),T.Vb(38,"div",11),T.Vb(39,"div",12),T.Vb(40,"label"),T.Kc(41,"Fecha Documento Final"),T.Ub(),T.Vb(42,"input",19),T.fc("ngModelChange",function(e){return t.General.Filtros.FechaFinal=e}),T.Ub(),T.Ub(),T.Ub(),T.Vb(43,"div",20),T.Vb(44,"div",12),T.Vb(45,"button",21),T.fc("click",function(){return t.AplicaFiltros()}),T.Qb(46,"i",22),T.Kc(47," Buscar "),T.Ub(),T.Ub(),T.Ub(),T.Vb(48,"div",20),T.Vb(49,"div",12),T.Vb(50,"a",23),T.fc("click",function(){return t.ResetData()}),T.Qb(51,"i",24),T.Kc(52," Limpiar"),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Qb(53,"br"),T.Ub(),T.Ub(),T.Ub(),T.Vb(54,"div",6),T.Qb(55,"div",25),T.Vb(56,"div",26),T.Qb(57,"br"),T.Vb(58,"button",27),T.fc("click",function(){return t.Exportar()}),T.Qb(59,"i",28),T.Kc(60," Exportar"),T.Ub(),T.Ub(),T.Ub(),T.Vb(61,"div",6),T.Vb(62,"div",29),T.Qb(63,"br"),T.Vb(64,"div",30),T.Vb(65,"mat-form-field"),T.Vb(66,"input",31),T.fc("keyup",function(e){return t.applyFilter7(e.target.value)}),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Vb(67,"div",7),T.Qb(68,"mat-paginator",32,33),T.Vb(70,"mat-table",34,35),T.Tb(72,36),T.Ic(73,Qe,2,0,"mat-header-cell",37),T.Ic(74,Te,3,0,"mat-cell",38),T.Sb(),T.Tb(75,39),T.Ic(76,$e,2,0,"mat-header-cell",40),T.Ic(77,Ne,3,4,"mat-cell",38),T.Sb(),T.Tb(78,41),T.Ic(79,_e,2,0,"mat-header-cell",40),T.Ic(80,qe,5,4,"mat-cell",38),T.Sb(),T.Tb(81,42),T.Ic(82,Xe,2,0,"mat-header-cell",40),T.Ic(83,Ye,2,1,"mat-cell",38),T.Sb(),T.Tb(84,43),T.Ic(85,Ze,2,0,"mat-header-cell",40),T.Ic(86,et,2,1,"mat-cell",38),T.Sb(),T.Tb(87,44),T.Ic(88,tt,2,0,"mat-header-cell",40),T.Ic(89,it,2,1,"mat-cell",38),T.Sb(),T.Tb(90,45),T.Ic(91,at,2,0,"mat-header-cell",40),T.Ic(92,ot,2,1,"mat-cell",38),T.Sb(),T.Tb(93,46),T.Ic(94,rt,2,0,"mat-header-cell",40),T.Ic(95,nt,3,4,"mat-cell",38),T.Sb(),T.Tb(96,47),T.Ic(97,ct,2,0,"mat-header-cell",40),T.Ic(98,st,2,1,"mat-cell",38),T.Sb(),T.Tb(99,48),T.Ic(100,lt,2,0,"mat-header-cell",40),T.Ic(101,bt,2,1,"mat-cell",38),T.Sb(),T.Tb(102,49),T.Ic(103,dt,2,0,"mat-header-cell",40),T.Ic(104,ht,2,1,"mat-cell",38),T.Sb(),T.Ic(105,pt,1,0,"mat-header-row",50),T.Ic(106,ut,1,0,"mat-row",51),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Ub(),T.Ic(107,mt,3,0,"div",52),T.Vb(108,"ngx-spinner",53),T.Vb(109,"p",54),T.Kc(110," Loading... "),T.Ub(),T.Ub()),2&e&&(T.pc("hidden",!t.Page.ShowList),T.Cb(9),T.pc("expanded",t.panelOpenState),T.Cb(11),T.pc("ngModel",t.General.Filtros.RFCCliente),T.Cb(5),T.pc("ngModel",t.General.Filtros.RazonSocial),T.Cb(5),T.pc("value",0)("ngModel",t.General.Filtros.TipoOpinion),T.Cb(1),T.pc("ngForOf",t.ListaTipoOpinion),T.Cb(6),T.pc("ngModel",t.General.Filtros.FechaInicial),T.Cb(5),T.pc("ngModel",t.General.Filtros.FechaFinal),T.Cb(26),T.pc("pageSizeOptions",T.sc(15,ft)),T.Cb(2),T.pc("dataSource",t.dataSourceSolicitudes),T.Cb(35),T.pc("matHeaderRowDef",t.displayedColumns7),T.Cb(1),T.pc("matRowDefColumns",t.displayedColumns7),T.Cb(1),T.pc("ngIf",t.Page.ShowLoad),T.Cb(1),T.pc("fullScreen",!0))},directives:[B.c,B.f,B.g,n.d,n.k,n.o,n.r,n.w,n.v,o.m,g.c,f.b,K.a,F.j,z.a,F.c,F.e,F.b,F.g,F.i,o.n,_.a,n.s,n.y,F.d,F.a,z.b,o.p,o.q,F.f,F.h,pe],pipes:[o.e],styles:["#divOficiosUpLoad[_ngcontent-%COMP%]{float:left;width:125px;height:125px;text-align:center;cursor:pointer;margin-left:25px;margin-right:25px;border-radius:12px;background-color:#fff;border:1px solid #d3d4d2}#divOficiosUpLoad[_ngcontent-%COMP%]:hover{border:1px solid #a5a6a4}.mat-table[_ngcontent-%COMP%]{overflow-x:scroll}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{word-wrap:normal;display:table-cell;padding:0 10px;line-break:unset;width:90%;white-space:nowrap;overflow:hidden;vertical-align:middle}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{display:table-row}.Oferta[_ngcontent-%COMP%]{font-size:11px;font-weight:400;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}"],changeDetection:0}),e})()}]}];let vt=(()=>{class e{}return e.\u0275mod=T.Nb({type:e}),e.\u0275inj=T.Mb({factory:function(t){return new(t||e)},providers:[h.c,{provide:j.d,useValue:{}},{provide:j.a,useValue:{}},{provide:b.f,useValue:"en-GB"},{provide:m.a,useValue:{useUtc:!0}}],imports:[[o.c,f.c,g.e,u.c,v.b,k.d,x.b,w.g,V.b,C.c,h.b,b.m,l.b,p.b,P.c,S.d,U.b,I.g,y.b,D.b,O.b,F.l,R.b,L.b,j.c,B.b,Q.b,z.c,G.d,A.e,K.b,d.f,b.u,c.a,a.c,M.d,E.c,s.a,N.a,_.b,n.j,n.u,r.l.forChild(gt)],r.l]}),e})()}}]);